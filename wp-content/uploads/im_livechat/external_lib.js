!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function n(){return e.apply(null,arguments)}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,i){return Ot(e,t,n,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=h(e),i=t.call(n.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(e._strict&&(o=o&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function f(e){var t=d(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var m=n.momentProperties=[];function g(e,t){var n,i,o;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),m.length>0)for(n=0;n<m.length;n++)s(o=t[i=m[n]])||(e[i]=o);return e}var v=!1;function b(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function y(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function k(e,t,n){var i,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&w(e[i])!==w(t[i]))&&r++;return r+s}function x(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var i=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),i){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){for(var a in o+="\n["+r+"] ",arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}x(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return t.apply(this,arguments)}),t)}var C,D={};function T(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),D[e]||(x(t),D[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,i=u({},e);for(n in t)c(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},u(i[n],e[n]),u(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&o(e[n])&&(i[n]=u({},i[n]));return i}function O(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var L={};function N(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function A(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)c(e,n)&&(t=A(n))&&(i[t]=e[n]);return i}var I={};function R(e,t){I[e]=t}function $(e,t,n){var i=""+Math.abs(e),o=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},B={};function z(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(B[e]=o),t&&(B[t[0]]=function(){return $(o.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=U(t,e.localeData()),W[t]=W[t]||function(e){var t,n,i,o=e.match(F);for(t=0,n=o.length;t<n;t++)B[o[t]]?o[t]=B[o[t]]:o[t]=(i=o[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,s="";for(i=0;i<n;i++)s+=E(o[i])?o[i].call(t,e):o[i];return s}}(t),W[t](e)):e.localeData().invalidDate()}function U(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(j.lastIndex=0;n>=0&&j.test(e);)e=e.replace(j,i),j.lastIndex=0,n-=1;return e}var V=/\d/,G=/\d\d/,Y=/\d{3}/,q=/\d{4}/,K=/[+-]?\d{6}/,Z=/\d\d?/,X=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,ie=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ae={};function le(e,t,n){ae[e]=E(t)?t:function(e,i){return e&&n?n:t}}function ce(e,t){return c(ae,e)?ae[e](t._strict,t._locale):new RegExp(ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,o){return t||n||i||o}))))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function he(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)de[e[n]]=i}function pe(e,t){he(e,(function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)}))}function fe(e,t,n){null!=t&&c(de,e)&&de[e](t,n._a,n,e)}var me=0,ge=1,ve=2,be=3,ye=4,_e=5,we=6,ke=7,xe=8;function Se(e){return Ce(e)?366:365}function Ce(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),N("year","y"),R("year",1),le("Y",ie),le("YY",Z,G),le("YYYY",ee,q),le("YYYYY",te,K),le("YYYYYY",te,K),he(["YYYYY","YYYYYY"],me),he("YYYY",(function(e,t){t[me]=2===e.length?n.parseTwoDigitYear(e):w(e)})),he("YY",(function(e,t){t[me]=n.parseTwoDigitYear(e)})),he("Y",(function(e,t){t[me]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var De,Te=Ee("FullYear",!0);function Ee(e,t){return function(i){return null!=i?(Oe(this,e,i),n.updateOffset(this,t),this):Me(this,e)}}function Me(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ce(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Le(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Le(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?Ce(e)?29:28:31-i%7%2}De=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),N("month","M"),R("month",8),le("M",Z),le("MM",Z,G),le("MMM",(function(e,t){return t.monthsShortRegex(e)})),le("MMMM",(function(e,t){return t.monthsRegex(e)})),he(["M","MM"],(function(e,t){t[ge]=w(e)-1})),he(["MMM","MMMM"],(function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[ge]=o:h(n).invalidMonth=e}));var Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t,n){var i,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=De.call(this._shortMonthsParse,r))?o:null:-1!==(o=De.call(this._longMonthsParse,r))?o:null:"MMM"===t?-1!==(o=De.call(this._shortMonthsParse,r))||-1!==(o=De.call(this._longMonthsParse,r))?o:null:-1!==(o=De.call(this._longMonthsParse,r))||-1!==(o=De.call(this._shortMonthsParse,r))?o:null}function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function $e(e){return null!=e?(Re(this,e),n.updateOffset(this,!0),this):Me(this,"Month")}var Fe=re;var je=re;function We(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],s=[];for(t=0;t<12;t++)n=d([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),s.sort(e),t=0;t<12;t++)i[t]=ue(i[t]),o[t]=ue(o[t]);for(t=0;t<24;t++)s[t]=ue(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Be(e,t,n,i,o,s,r){var a=new Date(e,t,n,i,o,s,r);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function He(e,t,n){var i=7+t-n;return-((7+ze(e,0,i).getUTCDay()-t)%7)+i-1}function Ue(e,t,n,i,o){var s,r,a=1+7*(t-1)+(7+n-i)%7+He(e,i,o);return a<=0?r=Se(s=e-1)+a:a>Se(e)?(s=e+1,r=a-Se(e)):(s=e,r=a),{year:s,dayOfYear:r}}function Ve(e,t,n){var i,o,s=He(e.year(),t,n),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return r<1?i=r+Ge(o=e.year()-1,t,n):r>Ge(e.year(),t,n)?(i=r-Ge(e.year(),t,n),o=e.year()+1):(o=e.year(),i=r),{week:i,year:o}}function Ge(e,t,n){var i=He(e,t,n),o=He(e+1,t,n);return(Se(e)-i+o)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),R("week",5),R("isoWeek",5),le("w",Z),le("ww",Z,G),le("W",Z),le("WW",Z,G),pe(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=w(e)}));z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),le("d",Z),le("e",Z),le("E",Z),le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),le("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:h(n).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,n,i){t[i]=w(e)}));var Ye="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ze(e,t,n){var i,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=De.call(this._weekdaysParse,r))?o:null:"ddd"===t?-1!==(o=De.call(this._shortWeekdaysParse,r))?o:null:-1!==(o=De.call(this._minWeekdaysParse,r))?o:null:"dddd"===t?-1!==(o=De.call(this._weekdaysParse,r))||-1!==(o=De.call(this._shortWeekdaysParse,r))||-1!==(o=De.call(this._minWeekdaysParse,r))?o:null:"ddd"===t?-1!==(o=De.call(this._shortWeekdaysParse,r))||-1!==(o=De.call(this._weekdaysParse,r))||-1!==(o=De.call(this._minWeekdaysParse,r))?o:null:-1!==(o=De.call(this._minWeekdaysParse,r))||-1!==(o=De.call(this._weekdaysParse,r))||-1!==(o=De.call(this._shortWeekdaysParse,r))?o:null}var Xe=re;var Je=re;var Qe=re;function et(){function e(e,t){return t.length-e.length}var t,n,i,o,s,r=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),s=this.weekdays(n,""),r.push(i),a.push(o),l.push(s),c.push(i),c.push(o),c.push(s);for(r.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=ue(a[t]),l[t]=ue(l[t]),c[t]=ue(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function it(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,tt),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+tt.apply(this)+$(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+tt.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+$(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)})),nt("a",!0),nt("A",!1),N("hour","h"),R("hour",13),le("a",it),le("A",it),le("H",Z),le("h",Z),le("k",Z),le("HH",Z,G),le("hh",Z,G),le("kk",Z,G),le("hmm",X),le("hmmss",J),le("Hmm",X),le("Hmmss",J),he(["H","HH"],be),he(["k","kk"],(function(e,t,n){var i=w(e);t[be]=24===i?0:i})),he(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),he(["h","hh"],(function(e,t,n){t[be]=w(e),h(n).bigHour=!0})),he("hmm",(function(e,t,n){var i=e.length-2;t[be]=w(e.substr(0,i)),t[ye]=w(e.substr(i)),h(n).bigHour=!0})),he("hmmss",(function(e,t,n){var i=e.length-4,o=e.length-2;t[be]=w(e.substr(0,i)),t[ye]=w(e.substr(i,2)),t[_e]=w(e.substr(o)),h(n).bigHour=!0})),he("Hmm",(function(e,t,n){var i=e.length-2;t[be]=w(e.substr(0,i)),t[ye]=w(e.substr(i))})),he("Hmmss",(function(e,t,n){var i=e.length-4,o=e.length-2;t[be]=w(e.substr(0,i)),t[ye]=w(e.substr(i,2)),t[_e]=w(e.substr(o))}));var ot,st=Ee("Hours",!0),rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Pe,week:{dow:0,doy:6},weekdays:Ye,weekdaysMin:Ke,weekdaysShort:qe,meridiemParse:/[ap]\.?m?\.?/i},at={},lt={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ut(e){var t=null;if(!at[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ot._abbr,require("./locale/"+e),dt(t)}catch(e){}return at[e]}function dt(e,t){var n;return e&&(n=s(t)?pt(e):ht(e,t))&&(ot=n),ot._abbr}function ht(e,t){if(null!==t){var n=rt;if(t.abbr=e,null!=at[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=at[e]._config;else if(null!=t.parentLocale){if(null==at[t.parentLocale])return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;n=at[t.parentLocale]._config}return at[e]=new O(M(n,t)),lt[e]&&lt[e].forEach((function(e){ht(e.name,e.config)})),dt(e),at[e]}return delete at[e],null}function pt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!i(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,i,o,s=0;s<e.length;){for(t=(o=ct(e[s]).split("-")).length,n=(n=ct(e[s+1]))?n.split("-"):null;t>0;){if(i=ut(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(o,n,!0)>=t-1)break;t--}s++}return null}(e)}function ft(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ge]<0||n[ge]>11?ge:n[ve]<1||n[ve]>Le(n[me],n[ge])?ve:n[be]<0||n[be]>24||24===n[be]&&(0!==n[ye]||0!==n[_e]||0!==n[we])?be:n[ye]<0||n[ye]>59?ye:n[_e]<0||n[_e]>59?_e:n[we]<0||n[we]>999?we:-1,h(e)._overflowDayOfYear&&(t<me||t>ve)&&(t=ve),h(e)._overflowWeeks&&-1===t&&(t=ke),h(e)._overflowWeekday&&-1===t&&(t=xe),h(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,i,o,s,r=[];if(!e._d){for(o=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[ge]&&function(e){var t,n,i,o,s,r,a,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)s=1,r=4,n=mt(t.GG,e._a[me],Ve(Lt(),1,4).year),i=mt(t.W,1),((o=mt(t.E,1))<1||o>7)&&(l=!0);else{s=e._locale._week.dow,r=e._locale._week.doy;var c=Ve(Lt(),s,r);n=mt(t.gg,e._a[me],c.year),i=mt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+s,(t.e<0||t.e>6)&&(l=!0)):o=s}i<1||i>Ge(n,s,r)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=Ue(n,i,o,s,r),e._a[me]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(s=mt(e._a[me],o[me]),(e._dayOfYear>Se(s)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),i=ze(s,0,e._dayOfYear),e._a[ge]=i.getUTCMonth(),e._a[ve]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[ye]&&0===e._a[_e]&&0===e._a[we]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?ze:Be).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==e._d.getDay()&&(h(e).weekdayMismatch=!0)}}var vt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((\-?\d+)/i;function xt(e){var t,n,i,o,s,r,a=e._i,l=vt.exec(a)||bt.exec(a);if(l){for(h(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(l[1])){o=_t[t][0],i=!1!==_t[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[3])){s=(l[2]||" ")+wt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=o+(s||"")+(r||""),Et(e)}else e._isValid=!1}var St=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e){var t,n,i,o,s,r,a,l=St.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(l){var c=(t=l[4],n=l[3],i=l[2],o=l[5],s=l[6],r=l[7],a=[Ct(t),Pe.indexOf(n),parseInt(i,10),parseInt(o,10),parseInt(s,10)],r&&a.push(parseInt(r,10)),a);if(!function(e,t,n){return!e||qe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return Dt[e];if(t)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(l[8],l[9],l[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Et(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,i,o,s,r,a=""+e._i,l=a.length,c=0;for(o=U(e._f,e._locale).match(F)||[],t=0;t<o.length;t++)s=o[t],(i=(a.match(ce(s,e))||[])[0])&&((r=a.substr(0,a.indexOf(i))).length>0&&h(e).unusedInput.push(r),a=a.slice(a.indexOf(i)+i.length),c+=i.length),B[s]?(i?h(e).empty=!1:h(e).unusedTokens.push(s),fe(s,i,e)):e._strict&&!i&&h(e).unusedTokens.push(s);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),e._a[be]<=12&&!0===h(e).bigHour&&e._a[be]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),gt(e),ft(e)}else Tt(e);else xt(e)}function Mt(e){var t=e._i,c=e._f;return e._locale=e._locale||pt(e._l),null===t||void 0===c&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new b(ft(t)):(a(t)?e._d=t:i(c)?function(e){var t,n,i,o,s;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)s=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Et(t),p(t)&&(s+=h(t).charsLeftOver,s+=10*h(t).unusedTokens.length,h(t).score=s,(null==i||s<i)&&(i=s,n=t));u(e,n||t)}(e):c?Et(e):function(e){var t=e._i;s(t)?e._d=new Date(n.now()):a(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=kt.exec(e._i);null===t?(xt(e),!1===e._isValid&&(delete e._isValid,Tt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):i(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),gt(e)):o(t)?function(e){if(!e._d){var t=P(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),gt(e)}}(e):r(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function Ot(e,t,n,s,r){var a,l={};return!0!==n&&!1!==n||(s=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=e,l._f=t,l._strict=s,(a=new b(ft(Mt(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Lt(e,t,n,i){return Ot(e,t,n,i,!1)}n.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Nt=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()})),At=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Lt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}));function Pt(e,t){var n,o;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Lt();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Rt(e){var t=P(e),n=t.year||0,i=t.quarter||0,o=t.month||0,s=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===De.call(It,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<It.length;++i)if(e[It[i]]){if(n)return!1;parseFloat(e[It[i]])!==w(e[It[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*i+12*n,this._data={},this._locale=pt(),this._bubble()}function $t(e){return e instanceof Rt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function jt(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+$(~~(e/60),2)+t+$(~~e%60,2)}))}jt("Z",":"),jt("ZZ",""),le("Z",se),le("ZZ",se),he(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Bt(se,e)}));var Wt=/([\+\-]|\d\d)/gi;function Bt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Wt)||["-",0,0],o=60*i[1]+w(i[2]);return 0===o?0:"+"===i[0]?o:-o}function zt(e,t){var i,o;return t._isUTC?(i=t.clone(),o=(y(e)||a(e)?e.valueOf():Lt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):Lt(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}n.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Gt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,i,o,s=e,a=null;return $t(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(s={},t?s[t]=e:s.milliseconds=e):(a=Vt.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:w(a[ve])*n,h:w(a[be])*n,m:w(a[ye])*n,s:w(a[_e])*n,ms:w(Ft(1e3*a[we]))*n}):(a=Gt.exec(e))?(n="-"===a[1]?-1:(a[1],1),s={y:qt(a[2],n),M:qt(a[3],n),w:qt(a[4],n),d:qt(a[5],n),h:qt(a[6],n),m:qt(a[7],n),s:qt(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=zt(t,e),e.isBefore(t)?n=Kt(e,t):((n=Kt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Lt(s.from),Lt(s.to)),(s={}).ms=o.milliseconds,s.M=o.months),i=new Rt(s),$t(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Kt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){return function(n,i){var o;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Xt(this,Yt(n="string"==typeof n?+n:n,i),e),this}}function Xt(e,t,i,o){var s=t._milliseconds,r=Ft(t._days),a=Ft(t._months);e.isValid()&&(o=null==o||o,a&&Re(e,Me(e,"Month")+a*i),r&&Oe(e,"Date",Me(e,"Date")+r*i),s&&e._d.setTime(e._d.valueOf()+s*i),o&&n.updateOffset(e,r||a))}Yt.fn=Rt.prototype,Yt.invalid=function(){return Yt(NaN)};var Jt=Zt(1,"add"),Qt=Zt(-1,"subtract");function en(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pt(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function on(){return this._locale}function sn(e,t){z(0,[e,e.length],0,t)}function rn(e,t,n,i,o){var s;return null==e?Ve(this,i,o).year:(t>(s=Ge(e,i,o))&&(t=s),an.call(this,e,t,n,i,o))}function an(e,t,n,i,o){var s=Ue(e,t,n,i,o),r=ze(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),le("G",ie),le("g",ie),le("GG",Z,G),le("gg",Z,G),le("GGGG",ee,q),le("gggg",ee,q),le("GGGGG",te,K),le("ggggg",te,K),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=w(e)})),pe(["gg","GG"],(function(e,t,i,o){t[o]=n.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),N("quarter","Q"),R("quarter",7),le("Q",V),he("Q",(function(e,t){t[ge]=3*(w(e)-1)})),z("D",["DD",2],"Do","date"),N("date","D"),R("date",9),le("D",Z),le("DD",Z,G),le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),he(["D","DD"],ve),he("Do",(function(e,t){t[ve]=w(e.match(Z)[0])}));var ln=Ee("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),R("dayOfYear",4),le("DDD",Q),le("DDDD",Y),he(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=w(e)})),z("m",["mm",2],0,"minute"),N("minute","m"),R("minute",14),le("m",Z),le("mm",Z,G),he(["m","mm"],ye);var cn=Ee("Minutes",!1);z("s",["ss",2],0,"second"),N("second","s"),R("second",15),le("s",Z),le("ss",Z,G),he(["s","ss"],_e);var un,dn=Ee("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),N("millisecond","ms"),R("millisecond",16),le("S",Q,V),le("SS",Q,G),le("SSS",Q,Y),un="SSSS";un.length<=9;un+="S")le(un,ne);function hn(e,t){t[we]=w(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")he(un,hn);var pn=Ee("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var fn=b.prototype;function mn(e){return e}fn.add=Jt,fn.calendar=function(e,t){var i=e||Lt(),o=zt(i,this).startOf("day"),s=n.calendarFormat(this,o)||"sameElse",r=t&&(E(t[s])?t[s].call(this,i):t[s]);return this.format(r||this.localeData().calendar(s,this,Lt(i)))},fn.clone=function(){return new b(this)},fn.diff=function(e,t,n){var i,o,s;if(!this.isValid())return NaN;if(!(i=zt(e,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=A(t)){case"year":s=en(this,i)/12;break;case"month":s=en(this,i);break;case"quarter":s=en(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return n?s:_(s)},fn.endOf=function(e){return void 0===(e=A(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||Lt(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Lt(),e)},fn.to=function(e,t){return this.isValid()&&(y(e)&&e.isValid()||Lt(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Lt(),e)},fn.get=function(e){return E(this[e=A(e)])?this[e]():this},fn.invalidAt=function(){return h(this).overflow},fn.isAfter=function(e,t){var n=y(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=y(e)?e:Lt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,i=y(e)?e:Lt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=A(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return p(this)},fn.lang=nn,fn.locale=tn,fn.localeData=on,fn.max=At,fn.min=Nt,fn.parsingFlags=function(){return u({},h(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:I[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(E(this[e=A(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Qt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(Date.prototype.toISOString)?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Te,fn.isLeapYear=function(){return Ce(this.year())},fn.weekYear=function(e){return rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=$e,fn.daysInMonth=function(){return Le(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ge(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ge(this.year(),1,4)},fn.date=ln,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=st,fn.minute=fn.minutes=cn,fn.second=fn.seconds=dn,fn.millisecond=fn.milliseconds=pn,fn.utcOffset=function(e,t,i){var o,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(se,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&t&&(o=Ht(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),s!==e&&(!t||this._changeInProgress?Xt(this,Yt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Ht(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Lt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Ut,fn.isUTC=Ut,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=S("dates accessor is deprecated. Use date instead.",ln),fn.months=S("months accessor is deprecated. Use month instead",$e),fn.years=S("years accessor is deprecated. Use year instead",Te),fn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),fn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=Mt(e))._a){var t=e._isUTC?d(e._a):Lt(e._a);this._isDSTShifted=this.isValid()&&k(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var gn=O.prototype;function vn(e,t,n,i){var o=pt(),s=d().set(i,t);return o[n](s,e)}function bn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return vn(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=vn(e,i,n,"month");return o}function yn(e,t,n,i){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var o,s=pt(),a=e?s._week.dow:0;if(null!=n)return vn(t,(n+a)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=vn(t,(o+a)%7,i,"day");return l}gn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return E(i)?i.call(t,n):i},gn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(e){return this._ordinal.replace("%d",e)},gn.preparse=mn,gn.postformat=mn,gn.relativeTime=function(e,t,n,i){var o=this._relativeTime[n];return E(o)?o(e,t,n,i):o.replace(/%d/i,e)},gn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},gn.set=function(e){var t,n;for(n in e)E(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gn.months=function(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone},gn.monthsShort=function(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ne.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gn.monthsParse=function(e,t,n){var i,o,s;if(this._monthsParseExact)return Ie.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},gn.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||We.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=je),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||We.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(e){return Ve(e,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},gn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},gn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},gn.weekdaysParse=function(e,t,n){var i,o,s;if(this._weekdaysParseExact)return Ze.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},gn.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},gn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=S("moment.lang is deprecated. Use moment.locale instead.",dt),n.langData=S("moment.langData is deprecated. Use moment.localeData instead.",pt);var _n=Math.abs;function wn(e,t,n,i){var o=Yt(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function kn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function Sn(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var Dn=Cn("ms"),Tn=Cn("s"),En=Cn("m"),Mn=Cn("h"),On=Cn("d"),Ln=Cn("w"),Nn=Cn("M"),An=Cn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var In=Pn("milliseconds"),Rn=Pn("seconds"),$n=Pn("minutes"),Fn=Pn("hours"),jn=Pn("days"),Wn=Pn("months"),Bn=Pn("years");var zn=Math.round,Hn={ss:44,s:45,m:45,h:22,d:26,M:11};function Un(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}var Vn=Math.abs;function Gn(e){return(e>0)-(e<0)||+e}function Yn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,i=Vn(this._days),o=Vn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var s=_(o/12),r=o%=12,a=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Gn(this._months)!==Gn(d)?"-":"",f=Gn(this._days)!==Gn(d)?"-":"",m=Gn(this._milliseconds)!==Gn(d)?"-":"";return h+"P"+(s?p+s+"Y":"")+(r?p+r+"M":"")+(a?f+a+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var qn=Rt.prototype;return qn.isValid=function(){return this._isValid},qn.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},qn.add=function(e,t){return wn(this,e,t,1)},qn.subtract=function(e,t){return wn(this,e,t,-1)},qn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=A(e))||"year"===e)return t=this._days+i/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Sn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},qn.asMilliseconds=Dn,qn.asSeconds=Tn,qn.asMinutes=En,qn.asHours=Mn,qn.asDays=On,qn.asWeeks=Ln,qn.asMonths=Nn,qn.asYears=An,qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},qn._bubble=function(){var e,t,n,i,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||s<=0&&r<=0&&a<=0||(s+=864e5*kn(Sn(a)+r),r=0,a=0),l.milliseconds=s%1e3,e=_(s/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,n=_(t/60),l.hours=n%24,r+=_(n/24),a+=o=_(xn(r)),r-=kn(Sn(o)),i=_(a/12),a%=12,l.days=r,l.months=a,l.years=i,this},qn.clone=function(){return Yt(this)},qn.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},qn.milliseconds=In,qn.seconds=Rn,qn.minutes=$n,qn.hours=Fn,qn.days=jn,qn.weeks=function(){return _(this.days()/7)},qn.months=Wn,qn.years=Bn,qn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Yt(e).abs(),o=zn(i.as("s")),s=zn(i.as("m")),r=zn(i.as("h")),a=zn(i.as("d")),l=zn(i.as("M")),c=zn(i.as("y")),u=o<=Hn.ss&&["s",o]||o<Hn.s&&["ss",o]||s<=1&&["m"]||s<Hn.m&&["mm",s]||r<=1&&["h"]||r<Hn.h&&["hh",r]||a<=1&&["d"]||a<Hn.d&&["dd",a]||l<=1&&["M"]||l<Hn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Un.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},qn.toISOString=Yn,qn.toString=Yn,qn.toJSON=Yn,qn.locale=tn,qn.localeData=on,qn.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),qn.lang=nn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),le("x",ie),le("X",/[+-]?\d+(\.\d{1,3})?/),he("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),he("x",(function(e,t,n){n._d=new Date(w(e))})),n.version="2.19.3",e=Lt,n.fn=fn,n.min=function(){return Pt("isBefore",[].slice.call(arguments,0))},n.max=function(){return Pt("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return Lt(1e3*e)},n.months=function(e,t){return bn(e,t,"months")},n.isDate=a,n.locale=dt,n.invalid=f,n.duration=Yt,n.isMoment=y,n.weekdays=function(e,t,n){return yn(e,t,n,"weekdays")},n.parseZone=function(){return Lt.apply(null,arguments).parseZone()},n.localeData=pt,n.isDuration=$t,n.monthsShort=function(e,t){return bn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return yn(e,t,n,"weekdaysMin")},n.defineLocale=ht,n.updateLocale=function(e,t){if(null!=t){var n,i,o=rt;null!=(i=ut(e))&&(o=i._config),(n=new O(t=M(o,t))).parentLocale=at[e],at[e]=n,dt(e)}else null!=at[e]&&(null!=at[e].parentLocale?at[e]=at[e].parentLocale:null!=at[e]&&delete at[e]);return at[e]},n.locales=function(){return C(at)},n.weekdaysShort=function(e,t,n){return yn(e,t,n,"weekdaysShort")},n.normalizeUnits=A,n.relativeTimeRounding=function(e){return void 0===e?zn:"function"==typeof e&&(zn=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Hn[e]&&(void 0===t?Hn[e]:(Hn[e]=t,"s"===e&&(Hn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n}));var luxon=function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function a(e,t,n){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},a.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,s(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,e)},l(e)}function c(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(l(Error)),p=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return o(t,e),t}(h),f=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return o(t,e),t}(h),m=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return o(t,e),t}(h),g=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(h),v=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return o(t,e),t}(h),b=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t}(h),y=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return o(t,e),t}(h),_="numeric",w="short",k="long",x={year:_,month:_,day:_},S={year:_,month:w,day:_},C={year:_,month:w,day:_,weekday:w},D={year:_,month:k,day:_},T={year:_,month:k,day:_,weekday:k},E={hour:_,minute:_},M={hour:_,minute:_,second:_},O={hour:_,minute:_,second:_,timeZoneName:w},L={hour:_,minute:_,second:_,timeZoneName:k},N={hour:_,minute:_,hourCycle:"h23"},A={hour:_,minute:_,second:_,hourCycle:"h23"},P={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:w},I={hour:_,minute:_,second:_,hourCycle:"h23",timeZoneName:k},R={year:_,month:_,day:_,hour:_,minute:_},$={year:_,month:_,day:_,hour:_,minute:_,second:_},F={year:_,month:w,day:_,hour:_,minute:_},j={year:_,month:w,day:_,hour:_,minute:_,second:_},W={year:_,month:w,day:_,weekday:w,hour:_,minute:_},B={year:_,month:k,day:_,hour:_,minute:_,timeZoneName:w},z={year:_,month:k,day:_,hour:_,minute:_,second:_,timeZoneName:w},H={year:_,month:k,day:_,weekday:k,hour:_,minute:_,timeZoneName:k},U={year:_,month:k,day:_,weekday:k,hour:_,minute:_,second:_,timeZoneName:k};function V(e){return void 0===e}function G(e){return"number"==typeof e}function Y(e){return"number"==typeof e&&e%1==0}function q(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function K(e,t,n){if(0!==e.length)return e.reduce((function(e,i){var o=[t(i),i];return e&&n(e[0],o[0])===e[0]?e:o}),null)[1]}function Z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function X(e,t,n){return Y(e)&&e>=t&&e<=n}function J(e,t){return void 0===t&&(t=2),e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Q(e){return V(e)||null===e||""===e?void 0:parseInt(e,10)}function ee(e){return V(e)||null===e||""===e?void 0:parseFloat(e)}function te(e){if(!V(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function ne(e,t,n){void 0===n&&(n=!1);var i=Math.pow(10,t);return(n?Math.trunc:Math.round)(e*i)/i}function ie(e){return e%4==0&&(e%100!=0||e%400==0)}function oe(e){return ie(e)?366:365}function se(e,t){var n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?ie(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function re(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(t.getUTCFullYear()-1900),+t}function ae(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,n=e-1,i=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return 4===t||3===i?53:52}function le(e){return e>99?e:e>60?1900+e:2e3+e}function ce(e,t,n,o){void 0===o&&(o=null);var s=new Date(e),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};o&&(r.timeZone=o);var a=i({timeZoneName:t},r),l=new Intl.DateTimeFormat(n,a).formatToParts(s).find((function(e){return"timezonename"===e.type.toLowerCase()}));return l?l.value:null}function ue(e,t){var n=parseInt(e,10);Number.isNaN(n)&&(n=0);var i=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-i:i)}function de(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new b("Invalid unit value "+e);return t}function he(e,t){var n={};for(var i in e)if(Z(e,i)){var o=e[i];if(null==o)continue;n[t(i)]=de(o)}return n}function pe(e,t){var n=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return""+o+J(n,2)+":"+J(i,2);case"narrow":return""+o+n+(i>0?":"+i:"");case"techie":return""+o+J(n,2)+J(i,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function fe(e){return function(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}(e,["hour","minute","second","millisecond"])}var me=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,ge=["January","February","March","April","May","June","July","August","September","October","November","December"],ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],be=["J","F","M","A","M","J","J","A","S","O","N","D"];function ye(e){switch(e){case"narrow":return[].concat(be);case"short":return[].concat(ve);case"long":return[].concat(ge);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var _e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],we=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ke=["M","T","W","T","F","S","S"];function xe(e){switch(e){case"narrow":return[].concat(ke);case"short":return[].concat(we);case"long":return[].concat(_e);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Se=["AM","PM"],Ce=["Before Christ","Anno Domini"],De=["BC","AD"],Te=["B","A"];function Ee(e){switch(e){case"narrow":return[].concat(Te);case"short":return[].concat(De);case"long":return[].concat(Ce);default:return null}}function Me(e,t){for(var n,i="",o=d(e);!(n=o()).done;){var s=n.value;s.literal?i+=s.val:i+=t(s.val)}return i}var Oe={D:x,DD:S,DDD:D,DDDD:T,t:E,tt:M,ttt:O,tttt:L,T:N,TT:A,TTT:P,TTTT:I,f:R,ff:F,fff:B,ffff:H,F:$,FF:j,FFF:z,FFFF:U},Le=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,n){return void 0===n&&(n={}),new e(t,n)},e.parseFormat=function(e){for(var t=null,n="",i=!1,o=[],s=0;s<e.length;s++){var r=e.charAt(s);"'"===r?(n.length>0&&o.push({literal:i,val:n}),t=null,n="",i=!i):i||r===t?n+=r:(n.length>0&&o.push({literal:!1,val:n}),n=r,t=r)}return n.length>0&&o.push({literal:i,val:n}),o},e.macroTokenToFormatOpts=function(e){return Oe[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,i({},this.opts,t)).format()},t.formatDateTime=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,i({},this.opts,t)).format()},t.formatDateTimeParts=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,i({},this.opts,t)).formatToParts()},t.resolvedOptions=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,i({},this.opts,t)).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return J(e,t);var n=i({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)},t.formatDateTimeFromString=function(t,n){var i=this,o="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=function(e,n){return i.loc.extract(t,e,n)},a=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},l=function(){return o?function(e){return Se[e.hour<12?0:1]}(t):r({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function(e,n){return o?function(e,t){return ye(t)[e.month-1]}(t,e):r(n?{month:e}:{month:e,day:"numeric"},"month")},u=function(e,n){return o?function(e,t){return xe(t)[e.weekday-1]}(t,e):r(n?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},d=function(e){return o?function(e,t){return Ee(t)[e.year<0?0:1]}(t,e):r({era:e},"era")};return Me(e.parseFormat(n),(function(n){switch(n){case"S":return i.num(t.millisecond);case"u":case"SSS":return i.num(t.millisecond,3);case"s":return i.num(t.second);case"ss":return i.num(t.second,2);case"uu":return i.num(Math.floor(t.millisecond/10),2);case"uuu":return i.num(Math.floor(t.millisecond/100));case"m":return i.num(t.minute);case"mm":return i.num(t.minute,2);case"h":return i.num(t.hour%12==0?12:t.hour%12);case"hh":return i.num(t.hour%12==0?12:t.hour%12,2);case"H":return i.num(t.hour);case"HH":return i.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:i.opts.allowZ});case"ZZ":return a({format:"short",allowZ:i.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:i.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:i.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:i.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return s?r({day:"numeric"},"day"):i.num(t.day);case"dd":return s?r({day:"2-digit"},"day"):i.num(t.day,2);case"c":case"E":return i.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):i.num(t.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):i.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return s?r({month:"numeric"},"month"):i.num(t.month);case"MM":return s?r({month:"2-digit"},"month"):i.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return s?r({year:"numeric"},"year"):i.num(t.year);case"yy":return s?r({year:"2-digit"},"year"):i.num(t.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):i.num(t.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):i.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return i.num(t.weekYear.toString().slice(-2),2);case"kkkk":return i.num(t.weekYear,4);case"W":return i.num(t.weekNumber);case"WW":return i.num(t.weekNumber,2);case"o":return i.num(t.ordinal);case"ooo":return i.num(t.ordinal,3);case"q":return i.num(t.quarter);case"qq":return i.num(t.quarter,2);case"X":return i.num(Math.floor(t.ts/1e3));case"x":return i.num(t.ts);default:return function(n){var o=e.macroTokenToFormatOpts(n);return o?i.formatWithSystemDefault(t,o):n}(n)}}))},t.formatDurationFromString=function(t,n){var i,o=this,s=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=e.parseFormat(n),a=r.reduce((function(e,t){var n=t.literal,i=t.val;return n?e:e.concat(i)}),[]),l=t.shiftTo.apply(t,a.map(s).filter((function(e){return e})));return Me(r,(i=l,function(e){var t=s(e);return t?o.num(i.get(t),e.length):e}))},e}(),Ne=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Ae=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new y},t.formatOffset=function(e,t){throw new y},t.offset=function(e){throw new y},t.equals=function(e){throw new y},n(e,[{key:"type",get:function(){throw new y}},{key:"name",get:function(){throw new y}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new y}},{key:"isValid",get:function(){throw new y}}]),e}(),Pe=null,Ie=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var i=t.prototype;return i.offsetName=function(e,t){return ce(e,t.format,t.locale)},i.formatOffset=function(e,t){return pe(this.offset(e),t)},i.offset=function(e){return-new Date(e).getTimezoneOffset()},i.equals=function(e){return"system"===e.type},n(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Pe&&(Pe=new t),Pe}}]),t}(Ae),Re={};var $e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var Fe={},je=function(e){function t(n){var i;return(i=e.call(this)||this).zoneName=n,i.valid=t.isValidZone(n),i}o(t,e),t.create=function(e){return Fe[e]||(Fe[e]=new t(e)),Fe[e]},t.resetCache=function(){Fe={},Re={}},t.isValidSpecifier=function(e){return this.isValidZone(e)},t.isValidZone=function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}};var i=t.prototype;return i.offsetName=function(e,t){return ce(e,t.format,t.locale,this.name)},i.formatOffset=function(e,t){return pe(this.offset(e),t)},i.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var n,i=(n=this.name,Re[n]||(Re[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Re[n]),o=i.formatToParts?function(e,t){for(var n=e.formatToParts(t),i=[],o=0;o<n.length;o++){var s=n[o],r=s.type,a=s.value,l=$e[r];"era"===r?i[l]=a:V(l)||(i[l]=parseInt(a,10))}return i}(i,t):function(e,t){var n=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),o=i[1],s=i[2];return[i[3],o,s,i[4],i[5],i[6],i[7]]}(i,t),s=o[0],r=o[1],a=o[2],l=o[3],c=o[4],u=o[5],d=o[6];"BC"===l&&(s=1-Math.abs(s));var h=+t,p=h%1e3;return(re({year:s,month:r,day:a,hour:24===c?0:c,minute:u,second:d,millisecond:0})-(h-=p>=0?p:1e3+p))/6e4},i.equals=function(e){return"iana"===e.type&&e.name===this.name},n(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(Ae),We=null,Be=function(e){function t(t){var n;return(n=e.call(this)||this).fixed=t,n}o(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(ue(n[1],n[2]))}return null};var i=t.prototype;return i.offsetName=function(){return this.name},i.formatOffset=function(e,t){return pe(this.fixed,t)},i.offset=function(){return this.fixed},i.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},n(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+pe(this.fixed,"narrow")}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT"+pe(-this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===We&&(We=new t(0)),We}}]),t}(Ae),ze=function(e){function t(t){var n;return(n=e.call(this)||this).zoneName=t,n}o(t,e);var i=t.prototype;return i.offsetName=function(){return null},i.formatOffset=function(){return""},i.offset=function(){return NaN},i.equals=function(){return!1},n(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(Ae);function He(e,t){if(V(e)||null===e)return t;if(e instanceof Ae)return e;if("string"==typeof e){var n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?Ie.instance:"utc"===n||"gmt"===n?Be.utcInstance:Be.parseSpecifier(n)||je.create(e)}return G(e)?Be.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new ze(e)}var Ue,Ve=function(){return Date.now()},Ge="system",Ye=null,qe=null,Ke=null,Ze=function(){function e(){}return e.resetCaches=function(){ct.resetCache(),je.resetCache()},n(e,null,[{key:"now",get:function(){return Ve},set:function(e){Ve=e}},{key:"defaultZone",get:function(){return He(Ge,Ie.instance)},set:function(e){Ge=e}},{key:"defaultLocale",get:function(){return Ye},set:function(e){Ye=e}},{key:"defaultNumberingSystem",get:function(){return qe},set:function(e){qe=e}},{key:"defaultOutputCalendar",get:function(){return Ke},set:function(e){Ke=e}},{key:"throwOnInvalid",get:function(){return Ue},set:function(e){Ue=e}}]),e}(),Xe=["base"],Je=["padTo","floor"],Qe={};var et={};function tt(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),i=et[n];return i||(i=new Intl.DateTimeFormat(e,t),et[n]=i),i}var nt={};var it={};var ot=null;function st(e,t,n,i,o){var s=e.listingMode(n);return"error"===s?null:"en"===s?i(t):o(t)}var rt=function(){function e(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1,n.padTo,n.floor;var o=c(n,Je);if(!t||Object.keys(o).length>0){var s=i({useGrouping:!1},n);n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),i=nt[n];return i||(i=new Intl.NumberFormat(e,t),nt[n]=i),i}(e,s)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return J(this.floor?Math.floor(e):ne(e,3),this.padTo)},e}(),at=function(){function e(e,t,n){var o;if(this.opts=n,e.zone.isUniversal){var s=e.offset/60*-1,r=s>=0?"Etc/GMT+"+s:"Etc/GMT"+s;0!==e.offset&&je.create(r).valid?(o=r,this.dt=e):(o="UTC",n.timeZoneName?this.dt=e:this.dt=0===e.offset?e:hi.fromMillis(e.ts+60*e.offset*1e3))}else"system"===e.zone.type?this.dt=e:(this.dt=e,o=e.zone.name);var a=i({},this.opts);o&&(a.timeZone=o),this.dtf=tt(t,a)}var t=e.prototype;return t.format=function(){return this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),lt=function(){function e(e,t,n){this.opts=i({style:"long"},n),!t&&q()&&(this.rtf=function(e,t){void 0===t&&(t={});var n=t;n.base;var i=c(n,Xe),o=JSON.stringify([e,i]),s=it[o];return s||(s=new Intl.RelativeTimeFormat(e,t),it[o]=s),s}(e,n))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,n,i){void 0===n&&(n="always"),void 0===i&&(i=!1);var o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&s){var r="days"===e;switch(t){case 1:return r?"tomorrow":"next "+o[e][0];case-1:return r?"yesterday":"last "+o[e][0];case 0:return r?"today":"this "+o[e][0]}}var a=Object.is(t,-0)||t<0,l=Math.abs(t),c=1===l,u=o[e],d=i?c?u[1]:u[2]||u[1]:c?o[e][0]:e;return a?l+" "+d+" ago":"in "+l+" "+d}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),ct=function(){function e(e,t,n,i){var o=function(e){var t=e.indexOf("-u-");if(-1===t)return[e];var n,i=e.substring(0,t);try{n=tt(e).resolvedOptions()}catch(e){n=tt(i).resolvedOptions()}var o=n;return[i,o.numberingSystem,o.calendar]}(e),s=o[0],r=o[1],a=o[2];this.locale=s,this.numberingSystem=t||r||null,this.outputCalendar=n||a||null,this.intl=function(e,t,n){return n||t?(e+="-u",n&&(e+="-ca-"+n),t&&(e+="-nu-"+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)},e.create=function(t,n,i,o){void 0===o&&(o=!1);var s=t||Ze.defaultLocale;return new e(s||(o?"en-US":ot||(ot=(new Intl.DateTimeFormat).resolvedOptions().locale)),n||Ze.defaultNumberingSystem,i||Ze.defaultOutputCalendar,s)},e.resetCache=function(){ot=null,et={},nt={},it={}},e.fromObject=function(t){var n=void 0===t?{}:t,i=n.locale,o=n.numberingSystem,s=n.outputCalendar;return e.create(i,o,s)};var t=e.prototype;return t.listingMode=function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(i({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(i({},e,{defaultToEN:!1}))},t.months=function(e,t,n){var i=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,ye,(function(){var n=t?{month:e,day:"numeric"}:{month:e},o=t?"format":"standalone";return i.monthsCache[o][e]||(i.monthsCache[o][e]=function(e){for(var t=[],n=1;n<=12;n++){var i=hi.utc(2016,n,1);t.push(e(i))}return t}((function(e){return i.extract(e,n,"month")}))),i.monthsCache[o][e]}))},t.weekdays=function(e,t,n){var i=this;return void 0===t&&(t=!1),void 0===n&&(n=!0),st(this,e,n,xe,(function(){var n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},o=t?"format":"standalone";return i.weekdaysCache[o][e]||(i.weekdaysCache[o][e]=function(e){for(var t=[],n=1;n<=7;n++){var i=hi.utc(2016,11,13+n);t.push(e(i))}return t}((function(e){return i.extract(e,n,"weekday")}))),i.weekdaysCache[o][e]}))},t.meridiems=function(e){var t=this;return void 0===e&&(e=!0),st(this,void 0,e,(function(){return Se}),(function(){if(!t.meridiemCache){var e={hour:"numeric",hourCycle:"h12"};t.meridiemCache=[hi.utc(2016,11,13,9),hi.utc(2016,11,13,19)].map((function(n){return t.extract(n,e,"dayperiod")}))}return t.meridiemCache}))},t.eras=function(e,t){var n=this;return void 0===t&&(t=!0),st(this,e,t,Ee,(function(){var t={era:e};return n.eraCache[e]||(n.eraCache[e]=[hi.utc(-40,1,1),hi.utc(2017,1,1)].map((function(e){return n.extract(e,t,"era")}))),n.eraCache[e]}))},t.extract=function(e,t,n){var i=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===n}));return i?i.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new rt(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new at(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new lt(this.intl,this.isEnglish(),e)},t.listFormatter=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),i=Qe[n];return i||(i=new Intl.ListFormat(e,t),Qe[n]=i),i}(this.intl,e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},n(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}();function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+i+"$")}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){var o=t[0],s=t[1],r=t[2],a=n(e,r),l=a[0],c=a[1],u=a[2];return[i({},o,l),c||s,u]}),[{},null,1]).slice(0,2)}}function ht(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o=0,s=n;o<s.length;o++){var r=s[o],a=r[0],l=r[1],c=a.exec(e);if(c)return l(c)}return[null,null]}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var i,o={};for(i=0;i<t.length;i++)o[t[i]]=Q(e[n+i]);return[o,null,n+i]}}var ft=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,gt=RegExp(""+mt.source+("(?:"+ft.source+"?(?:\\[("+me.source+")\\])?)?")),vt=RegExp("(?:T"+gt.source+")?"),bt=pt("weekYear","weekNumber","weekDay"),yt=pt("year","ordinal"),_t=RegExp(mt.source+" ?(?:"+ft.source+"|("+me.source+"))?"),wt=RegExp("(?: "+_t.source+")?");function kt(e,t,n){var i=e[t];return V(i)?n:Q(i)}function xt(e,t){return[{hours:kt(e,t,0),minutes:kt(e,t+1,0),seconds:kt(e,t+2,0),milliseconds:te(e[t+3])},null,t+4]}function St(e,t){var n=!e[t]&&!e[t+1],i=ue(e[t+1],e[t+2]);return[{},n?null:Be.instance(i),t+3]}function Ct(e,t){return[{},e[t]?je.create(e[t]):null,t+1]}var Dt=RegExp("^T?"+mt.source+"$"),Tt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Et(e){var t=e[0],n=e[1],i=e[2],o=e[3],s=e[4],r=e[5],a=e[6],l=e[7],c=e[8],u="-"===t[0],d=l&&"-"===l[0],h=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&u)?-e:e};return[{years:h(ee(n)),months:h(ee(i)),weeks:h(ee(o)),days:h(ee(s)),hours:h(ee(r)),minutes:h(ee(a)),seconds:h(ee(l),"-0"===l),milliseconds:h(te(c),d)}]}var Mt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e,t,n,i,o,s,r){var a={year:2===t.length?le(Q(t)):Q(t),month:ve.indexOf(n)+1,day:Q(i),hour:Q(o),minute:Q(s)};return r&&(a.second=Q(r)),e&&(a.weekday=e.length>3?_e.indexOf(e)+1:we.indexOf(e)+1),a}var Lt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Nt(e){var t,n=e[1],i=e[2],o=e[3],s=e[4],r=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],p=Ot(n,s,o,i,r,a,l);return t=c?Mt[c]:u?0:ue(d,h),[p,new Be(t)]}var At=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Pt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,It=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Rt(e){var t=e[1],n=e[2],i=e[3];return[Ot(t,e[4],i,n,e[5],e[6],e[7]),Be.utcInstance]}function $t(e){var t=e[1],n=e[2],i=e[3],o=e[4],s=e[5],r=e[6];return[Ot(t,e[7],n,i,o,s,r),Be.utcInstance]}var Ft=ut(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vt),jt=ut(/(\d{4})-?W(\d\d)(?:-?(\d))?/,vt),Wt=ut(/(\d{4})-?(\d{3})/,vt),Bt=ut(gt),zt=dt((function(e,t){return[{year:kt(e,t),month:kt(e,t+1,1),day:kt(e,t+2,1)},null,t+3]}),xt,St,Ct),Ht=dt(bt,xt,St,Ct),Ut=dt(yt,xt,St,Ct),Vt=dt(xt,St,Ct);var Gt=dt(xt);var Yt=ut(/(\d{4})-(\d\d)-(\d\d)/,wt),qt=ut(_t),Kt=dt(xt,St,Ct);var Zt={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Xt=i({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Zt),Jt=365.2425,Qt=30.436875,en=i({years:{quarters:4,months:12,weeks:52.1775,days:Jt,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:Qt,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Zt),tn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],nn=tn.slice(0).reverse();function on(e,t,n){void 0===n&&(n=!1);var o={values:n?t.values:i({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy};return new rn(o)}function sn(e,t,n,i,o){var s=e[o][n],r=t[n]/s,a=!(Math.sign(r)===Math.sign(i[o]))&&0!==i[o]&&Math.abs(r)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(r):Math.trunc(r);i[o]+=a,t[n]-=a*s}var rn=function(){function e(e){var t="longterm"===e.conversionAccuracy||!1;this.values=e.values,this.loc=e.loc||ct.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?en:Xt,this.isLuxonDuration=!0}e.fromMillis=function(t,n){return e.fromObject({milliseconds:t},n)},e.fromObject=function(t,n){if(void 0===n&&(n={}),null==t||"object"!=typeof t)throw new b("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new e({values:he(t,e.normalizeUnit),loc:ct.fromObject(n),conversionAccuracy:n.conversionAccuracy})},e.fromDurationLike=function(t){if(G(t))return e.fromMillis(t);if(e.isDuration(t))return t;if("object"==typeof t)return e.fromObject(t);throw new b("Unknown duration argument "+t+" of type "+typeof t)},e.fromISO=function(t,n){var i=function(e){return ht(e,[Tt,Et])}(t),o=i[0];return o?e.fromObject(o,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.fromISOTime=function(t,n){var i=function(e){return ht(e,[Dt,Gt])}(t),o=i[0];return o?e.fromObject(o,n):e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new b("need to specify a reason the Duration is invalid");var i=t instanceof Ne?t:new Ne(t,n);if(Ze.throwOnInvalid)throw new m(i);return new e({invalid:i})},e.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new v(e);return t},e.isDuration=function(e){return e&&e.isLuxonDuration||!1};var t=e.prototype;return t.toFormat=function(e,t){void 0===t&&(t={});var n=i({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Le.create(this.loc,n).formatDurationFromString(this,e):"Invalid Duration"},t.toHuman=function(e){var t=this;void 0===e&&(e={});var n=tn.map((function(n){var o=t.values[n];return V(o)?null:t.loc.numberFormatter(i({style:"unit",unitDisplay:"long"},e,{unit:n.slice(0,-1)})).format(o)})).filter((function(e){return e}));return this.loc.listFormatter(i({type:"conjunction",style:e.listStyle||"narrow"},e)).format(n)},t.toObject=function(){return this.isValid?i({},this.values):{}},t.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=ne(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},t.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();if(t<0||t>=864e5)return null;e=i({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e);var n=this.shiftTo("hours","minutes","seconds","milliseconds"),o="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===n.seconds&&0===n.milliseconds||(o+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===n.milliseconds||(o+=".SSS"));var s=n.toFormat(o);return e.includePrefix&&(s="T"+s),s},t.toJSON=function(){return this.toISO()},t.toString=function(){return this.toISO()},t.toMillis=function(){return this.as("milliseconds")},t.valueOf=function(){return this.toMillis()},t.plus=function(t){if(!this.isValid)return this;for(var n,i=e.fromDurationLike(t),o={},s=d(tn);!(n=s()).done;){var r=n.value;(Z(i.values,r)||Z(this.values,r))&&(o[r]=i.get(r)+this.get(r))}return on(this,{values:o},!0)},t.minus=function(t){if(!this.isValid)return this;var n=e.fromDurationLike(t);return this.plus(n.negate())},t.mapUnits=function(e){if(!this.isValid)return this;for(var t={},n=0,i=Object.keys(this.values);n<i.length;n++){var o=i[n];t[o]=de(e(this.values[o],o))}return on(this,{values:t},!0)},t.get=function(t){return this[e.normalizeUnit(t)]},t.set=function(t){return this.isValid?on(this,{values:i({},this.values,he(t,e.normalizeUnit))}):this},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,i=t.numberingSystem,o=t.conversionAccuracy,s={loc:this.loc.clone({locale:n,numberingSystem:i})};return o&&(s.conversionAccuracy=o),on(this,s)},t.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},t.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return function(e,t){nn.reduce((function(n,i){return V(t[i])?n:(n&&sn(e,t,n,t,i),i)}),null)}(this.matrix,e),on(this,{values:e},!0)},t.shiftTo=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!this.isValid)return this;if(0===n.length)return this;n=n.map((function(t){return e.normalizeUnit(t)}));for(var o,s,r={},a={},l=this.toObject(),c=d(tn);!(s=c()).done;){var u=s.value;if(n.indexOf(u)>=0){o=u;var h=0;for(var p in a)h+=this.matrix[p][u]*a[p],a[p]=0;G(l[u])&&(h+=l[u]);var f=Math.trunc(h);for(var m in r[u]=f,a[u]=(1e3*h-1e3*f)/1e3,l)tn.indexOf(m)>tn.indexOf(u)&&sn(this.matrix,l,m,r,u)}else G(l[u])&&(a[u]=l[u])}for(var g in a)0!==a[g]&&(r[o]+=g===o?a[g]:a[g]/this.matrix[o][g]);return on(this,{values:r},!0).normalize()},t.negate=function(){if(!this.isValid)return this;for(var e={},t=0,n=Object.keys(this.values);t<n.length;t++){var i=n[t];e[i]=0===this.values[i]?0:-this.values[i]}return on(this,{values:e},!0)},t.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t,n=d(tn);!(t=n()).done;){var i=t.value;if(o=this.values[i],s=e.values[i],!(void 0===o||0===o?void 0===s||0===s:o===s))return!1}var o,s;return!0},n(e,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),an="Invalid Interval";function ln(e,t){return e&&e.isValid?t&&t.isValid?t<e?cn.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:cn.invalid("missing or invalid end"):cn.invalid("missing or invalid start")}var cn=function(){function e(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new b("need to specify a reason the Interval is invalid");var i=t instanceof Ne?t:new Ne(t,n);if(Ze.throwOnInvalid)throw new f(i);return new e({invalid:i})},e.fromDateTimes=function(t,n){var i=pi(t),o=pi(n),s=ln(i,o);return null==s?new e({start:i,end:o}):s},e.after=function(t,n){var i=rn.fromDurationLike(n),o=pi(t);return e.fromDateTimes(o,o.plus(i))},e.before=function(t,n){var i=rn.fromDurationLike(n),o=pi(t);return e.fromDateTimes(o.minus(i),o)},e.fromISO=function(t,n){var i=(t||"").split("/",2),o=i[0],s=i[1];if(o&&s){var r,a,l,c;try{a=(r=hi.fromISO(o,n)).isValid}catch(s){a=!1}try{c=(l=hi.fromISO(s,n)).isValid}catch(s){c=!1}if(a&&c)return e.fromDateTimes(r,l);if(a){var u=rn.fromISO(s,n);if(u.isValid)return e.after(r,u)}else if(c){var d=rn.fromISO(o,n);if(d.isValid)return e.before(l,d)}}return e.invalid("unparsable",'the input "'+t+"\" can't be parsed as ISO 8601")},e.isInterval=function(e){return e&&e.isLuxonInterval||!1};var t=e.prototype;return t.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},t.count=function(e){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1},t.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},t.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},t.isAfter=function(e){return!!this.isValid&&this.s>e},t.isBefore=function(e){return!!this.isValid&&this.e<=e},t.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},t.set=function(t){var n=void 0===t?{}:t,i=n.start,o=n.end;return this.isValid?e.fromDateTimes(i||this.s,o||this.e):this},t.splitAt=function(){var t=this;if(!this.isValid)return[];for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(var s=i.map(pi).filter((function(e){return t.contains(e)})).sort(),r=[],a=this.s,l=0;a<this.e;){var c=s[l]||this.e,u=+c>+this.e?this.e:c;r.push(e.fromDateTimes(a,u)),a=u,l+=1}return r},t.splitBy=function(t){var n=rn.fromDurationLike(t);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];for(var i,o=this.s,s=1,r=[];o<this.e;){var a=this.start.plus(n.mapUnits((function(e){return e*s})));i=+a>+this.e?this.e:a,r.push(e.fromDateTimes(o,i)),o=i,s+=1}return r},t.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},t.overlaps=function(e){return this.e>e.s&&this.s<e.e},t.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},t.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},t.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},t.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},t.intersection=function(t){if(!this.isValid)return this;var n=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return n>=i?null:e.fromDateTimes(n,i)},t.union=function(t){if(!this.isValid)return this;var n=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return e.fromDateTimes(n,i)},e.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var n=e[0],i=e[1];return i?i.overlaps(t)||i.abutsStart(t)?[n,i.union(t)]:[n.concat([i]),t]:[n,t]}),[[],null]),n=t[0],i=t[1];return i&&n.push(i),n},e.xor=function(t){for(var n,i,o=null,s=0,r=[],a=t.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=d((n=Array.prototype).concat.apply(n,a).sort((function(e,t){return e.time-t.time})));!(i=l()).done;){var c=i.value;1===(s+="s"===c.type?1:-1)?o=c.time:(o&&+o!=+c.time&&r.push(e.fromDateTimes(o,c.time)),o=null)}return e.merge(r)},t.difference=function(){for(var t=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.xor([this].concat(i)).map((function(e){return t.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))},t.toString=function(){return this.isValid?"["+this.s.toISO()+"  "+this.e.toISO()+")":an},t.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):an},t.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():an},t.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):an},t.toFormat=function(e,t){var n=(void 0===t?{}:t).separator,i=void 0===n?"  ":n;return this.isValid?""+this.s.toFormat(e)+i+this.e.toFormat(e):an},t.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):rn.invalid(this.invalidReason)},t.mapEndpoints=function(t){return e.fromDateTimes(t(this.s),t(this.e))},n(e,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),e}(),un=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=Ze.defaultZone);var t=hi.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return je.isValidZone(e)},e.normalizeZone=function(e){return He(e,Ze.defaultZone)},e.months=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,i=n.locale,o=void 0===i?null:i,s=n.numberingSystem,r=void 0===s?null:s,a=n.locObj,l=void 0===a?null:a,c=n.outputCalendar,u=void 0===c?"gregory":c;return(l||ct.create(o,r,u)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,i=n.locale,o=void 0===i?null:i,s=n.numberingSystem,r=void 0===s?null:s,a=n.locObj,l=void 0===a?null:a,c=n.outputCalendar,u=void 0===c?"gregory":c;return(l||ct.create(o,r,u)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,i=n.locale,o=void 0===i?null:i,s=n.numberingSystem,r=void 0===s?null:s,a=n.locObj;return((void 0===a?null:a)||ct.create(o,r,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var n=void 0===t?{}:t,i=n.locale,o=void 0===i?null:i,s=n.numberingSystem,r=void 0===s?null:s,a=n.locObj;return((void 0===a?null:a)||ct.create(o,r,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,n=void 0===t?null:t;return ct.create(n).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var n=(void 0===t?{}:t).locale,i=void 0===n?null:n;return ct.create(i,null,"gregory").eras(e)},e.features=function(){return{relative:q()}},e}();function dn(e,t){var n=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},i=n(t)-n(e);return Math.floor(rn.fromMillis(i).as("days"))}function hn(e,t,n,i){var o=function(e,t,n){for(var i,o,s={},r=0,a=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var n=dn(e,t);return(n-n%7)/7}],["days",dn]];r<a.length;r++){var l=a[r],c=l[0],u=l[1];if(n.indexOf(c)>=0){var d;i=c;var h,p=u(e,t);(o=e.plus(((d={})[c]=p,d)))>t?(e=e.plus(((h={})[c]=p-1,h)),p-=1):e=o,s[c]=p}}return[e,s,o,i]}(e,t,n),s=o[0],r=o[1],a=o[2],l=o[3],c=t-s,u=n.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===u.length){var d;if(a<t)a=s.plus(((d={})[l]=1,d));a!==s&&(r[l]=(r[l]||0)+c/(a-s))}var h,p=rn.fromObject(r,i);return u.length>0?(h=rn.fromMillis(c,i)).shiftTo.apply(h,u).plus(p):p}var pn={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},fn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mn=pn.hanidec.replace(/[\[|\]]/g,"").split("");function gn(e,t){var n=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+pn[n||"latn"]+t)}var vn="missing Intl.DateTimeFormat.formatToParts support";function bn(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var n=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(-1!==e[n].search(pn.hanidec))t+=mn.indexOf(e[n]);else for(var o in fn){var s=fn[o],r=s[0],a=s[1];i>=r&&i<=a&&(t+=i-r)}}return parseInt(t,10)}return t}(n))}}}var yn="[ "+String.fromCharCode(160)+"]",_n=new RegExp(yn,"g");function wn(e){return e.replace(/\./g,"\\.?").replace(_n,yn)}function kn(e){return e.replace(/\./g,"").replace(_n," ").toLowerCase()}function xn(e,t){return null===e?null:{regex:RegExp(e.map(wn).join("|")),deser:function(n){var i=n[0];return e.findIndex((function(e){return kn(i)===kn(e)}))+t}}}function Sn(e,t){return{regex:e,deser:function(e){return ue(e[1],e[2])},groups:t}}function Cn(e){return{regex:e,deser:function(e){return e[0]}}}var Dn={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};var Tn=null;function En(e,t){var n;return(n=Array.prototype).concat.apply(n,e.map((function(e){return function(e,t){if(e.literal)return e;var n=On(Le.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t)})))}function Mn(e,t,n){var i=En(Le.parseFormat(n),e),o=i.map((function(t){return n=t,o=gn(i=e),s=gn(i,"{2}"),r=gn(i,"{3}"),a=gn(i,"{4}"),l=gn(i,"{6}"),c=gn(i,"{1,2}"),u=gn(i,"{1,3}"),d=gn(i,"{1,6}"),h=gn(i,"{1,9}"),p=gn(i,"{2,4}"),f=gn(i,"{4,6}"),m=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},g=function(e){if(n.literal)return m(e);switch(e.val){case"G":return xn(i.eras("short",!1),0);case"GG":return xn(i.eras("long",!1),0);case"y":return bn(d);case"yy":case"kk":return bn(p,le);case"yyyy":case"kkkk":return bn(a);case"yyyyy":return bn(f);case"yyyyyy":return bn(l);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return bn(c);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return bn(s);case"MMM":return xn(i.months("short",!0,!1),1);case"MMMM":return xn(i.months("long",!0,!1),1);case"LLL":return xn(i.months("short",!1,!1),1);case"LLLL":return xn(i.months("long",!1,!1),1);case"o":case"S":return bn(u);case"ooo":case"SSS":return bn(r);case"u":return Cn(h);case"uu":return Cn(c);case"uuu":case"E":case"c":return bn(o);case"a":return xn(i.meridiems(),0);case"EEE":return xn(i.weekdays("short",!1,!1),1);case"EEEE":return xn(i.weekdays("long",!1,!1),1);case"ccc":return xn(i.weekdays("short",!0,!1),1);case"cccc":return xn(i.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Sn(new RegExp("([+-]"+c.source+")(?::("+s.source+"))?"),2);case"ZZZ":return Sn(new RegExp("([+-]"+c.source+")("+s.source+")?"),2);case"z":return Cn(/[a-z_+-/]{1,256}?/i);default:return m(e)}}(n)||{invalidReason:vn},g.token=n,g;var n,i,o,s,r,a,l,c,u,d,h,p,f,m,g})),s=o.find((function(e){return e.invalidReason}));if(s)return{input:t,tokens:i,invalidReason:s.invalidReason};var r=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(o),a=r[0],l=r[1],c=RegExp(a,"i"),u=function(e,t,n){var i=e.match(t);if(i){var o={},s=1;for(var r in n)if(Z(n,r)){var a=n[r],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(o[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,o]}return[i,{}]}(t,c,l),d=u[0],h=u[1],p=h?function(e){var t,n=null;return V(e.z)||(n=je.create(e.z)),V(e.Z)||(n||(n=new Be(e.Z)),t=e.Z),V(e.q)||(e.M=3*(e.q-1)+1),V(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),V(e.u)||(e.S=te(e.u)),[Object.keys(e).reduce((function(t,n){var i=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(n);return i&&(t[i]=e[n]),t}),{}),n,t]}(h):[null,null,void 0],f=p[0],m=p[1],v=p[2];if(Z(h,"a")&&Z(h,"H"))throw new g("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:c,rawMatches:d,matches:h,result:f,zone:m,specificOffset:v}}function On(e,t){return e?Le.create(t,e).formatDateTimeParts((Tn||(Tn=hi.fromMillis(1555555555555)),Tn)).map((function(t){return function(e,t,n){var i=e.type,o=e.value;if("literal"===i)return{literal:!0,val:o};var s=n[i],r=Dn[i];return"object"==typeof r&&(r=r[s]),r?{literal:!1,val:r}:void 0}(t,0,e)})):null}var Ln=[0,31,59,90,120,151,181,212,243,273,304,334],Nn=[0,31,60,91,121,152,182,213,244,274,305,335];function An(e,t){return new Ne("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function Pn(e,t,n){var i=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);var o=i.getUTCDay();return 0===o?7:o}function In(e,t,n){return n+(ie(e)?Nn:Ln)[t-1]}function Rn(e,t){var n=ie(e)?Nn:Ln,i=n.findIndex((function(e){return e<t}));return{month:i+1,day:t-n[i]}}function $n(e){var t,n=e.year,o=e.month,s=e.day,r=In(n,o,s),a=Pn(n,o,s),l=Math.floor((r-a+10)/7);return l<1?l=ae(t=n-1):l>ae(n)?(t=n+1,l=1):t=n,i({weekYear:t,weekNumber:l,weekday:a},fe(e))}function Fn(e){var t,n=e.weekYear,o=e.weekNumber,s=e.weekday,r=Pn(n,1,4),a=oe(n),l=7*o+s-r-3;l<1?l+=oe(t=n-1):l>a?(t=n+1,l-=oe(n)):t=n;var c=Rn(t,l);return i({year:t,month:c.month,day:c.day},fe(e))}function jn(e){var t=e.year;return i({year:t,ordinal:In(t,e.month,e.day)},fe(e))}function Wn(e){var t=e.year,n=Rn(t,e.ordinal);return i({year:t,month:n.month,day:n.day},fe(e))}function Bn(e){var t=Y(e.year),n=X(e.month,1,12),i=X(e.day,1,se(e.year,e.month));return t?n?!i&&An("day",e.day):An("month",e.month):An("year",e.year)}function zn(e){var t=e.hour,n=e.minute,i=e.second,o=e.millisecond,s=X(t,0,23)||24===t&&0===n&&0===i&&0===o,r=X(n,0,59),a=X(i,0,59),l=X(o,0,999);return s?r?a?!l&&An("millisecond",o):An("second",i):An("minute",n):An("hour",t)}var Hn="Invalid DateTime",Un=864e13;function Vn(e){return new Ne("unsupported zone",'the zone "'+e.name+'" is not supported')}function Gn(e){return null===e.weekData&&(e.weekData=$n(e.c)),e.weekData}function Yn(e,t){var n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new hi(i({},n,t,{old:n}))}function qn(e,t,n){var i=e-60*t*1e3,o=n.offset(i);if(t===o)return[i,t];i-=60*(o-t)*1e3;var s=n.offset(i);return o===s?[i,o]:[e-60*Math.min(o,s)*1e3,Math.max(o,s)]}function Kn(e,t){var n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Zn(e,t,n){return qn(re(e),t,n)}function Xn(e,t){var n=e.o,o=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),r=i({},e.c,{year:o,month:s,day:Math.min(e.c.day,se(o,s))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=rn.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=qn(re(r),n,e.zone),c=l[0],u=l[1];return 0!==a&&(c+=a,u=e.zone.offset(c)),{ts:c,o:u}}function Jn(e,t,n,o,s,r){var a=n.setZone,l=n.zone;if(e&&0!==Object.keys(e).length){var c=t||l,u=hi.fromObject(e,i({},n,{zone:c,specificOffset:r}));return a?u:u.setZone(l)}return hi.invalid(new Ne("unparsable",'the input "'+s+"\" can't be parsed as "+o))}function Qn(e,t,n){return void 0===n&&(n=!0),e.isValid?Le.create(ct.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ei(e,t){var n=e.c.year>9999||e.c.year<0,i="";return n&&e.c.year>=0&&(i+="+"),i+=J(e.c.year,n?6:4),t?(i+="-",i+=J(e.c.month),i+="-",i+=J(e.c.day)):(i+=J(e.c.month),i+=J(e.c.day)),i}function ti(e,t,n,i,o,s){var r=J(e.c.hour);return t?(r+=":",r+=J(e.c.minute),0===e.c.second&&n||(r+=":")):r+=J(e.c.minute),0===e.c.second&&n||(r+=J(e.c.second),0===e.c.millisecond&&i||(r+=".",r+=J(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!s?r+="Z":e.o<0?(r+="-",r+=J(Math.trunc(-e.o/60)),r+=":",r+=J(Math.trunc(-e.o%60))):(r+="+",r+=J(Math.trunc(e.o/60)),r+=":",r+=J(Math.trunc(e.o%60)))),s&&(r+="["+e.zone.ianaName+"]"),r}var ni={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ii={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},oi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},si=["year","month","day","hour","minute","second","millisecond"],ri=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ai=["year","ordinal","hour","minute","second","millisecond"];function li(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new v(e);return t}function ci(e,t){var n,i,o=He(t.zone,Ze.defaultZone),s=ct.fromObject(t),r=Ze.now();if(V(e.year))n=r;else{for(var a,l=d(si);!(a=l()).done;){var c=a.value;V(e[c])&&(e[c]=ni[c])}var u=Bn(e)||zn(e);if(u)return hi.invalid(u);var h=Zn(e,o.offset(r),o);n=h[0],i=h[1]}return new hi({ts:n,zone:o,loc:s,o:i})}function ui(e,t,n){var i=!!V(n.round)||n.round,o=function(e,o){return e=ne(e,i||n.calendary?0:2,!0),t.loc.clone(n).relFormatter(n).format(e,o)},s=function(i){return n.calendary?t.hasSame(e,i)?0:t.startOf(i).diff(e.startOf(i),i).get(i):t.diff(e,i).get(i)};if(n.unit)return o(s(n.unit),n.unit);for(var r,a=d(n.units);!(r=a()).done;){var l=r.value,c=s(l);if(Math.abs(c)>=1)return o(c,l)}return o(e>t?-0:0,n.units[n.units.length-1])}function di(e){var t,n={};return e.length>0&&"object"==typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}var hi=function(){function e(e){var t=e.zone||Ze.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Ne("invalid input"):null)||(t.isValid?null:Vn(t));this.ts=V(e.ts)?Ze.now():e.ts;var i=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var s=[e.old.c,e.old.o];i=s[0],o=s[1]}else{var r=t.offset(this.ts);i=Kn(this.ts,r),i=(n=Number.isNaN(i.year)?new Ne("invalid input"):null)?null:i,o=n?null:r}this._zone=t,this.loc=e.loc||ct.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}e.now=function(){return new e({})},e.local=function(){var e=di(arguments),t=e[0],n=e[1];return ci({year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]},t)},e.utc=function(){var e=di(arguments),t=e[0],n=e[1],i=n[0],o=n[1],s=n[2],r=n[3],a=n[4],l=n[5],c=n[6];return t.zone=Be.utcInstance,ci({year:i,month:o,day:s,hour:r,minute:a,second:l,millisecond:c},t)},e.fromJSDate=function(t,n){void 0===n&&(n={});var i,o=(i=t,"[object Date]"===Object.prototype.toString.call(i)?t.valueOf():NaN);if(Number.isNaN(o))return e.invalid("invalid input");var s=He(n.zone,Ze.defaultZone);return s.isValid?new e({ts:o,zone:s,loc:ct.fromObject(n)}):e.invalid(Vn(s))},e.fromMillis=function(t,n){if(void 0===n&&(n={}),G(t))return t<-Un||t>Un?e.invalid("Timestamp out of range"):new e({ts:t,zone:He(n.zone,Ze.defaultZone),loc:ct.fromObject(n)});throw new b("fromMillis requires a numerical input, but received a "+typeof t+" with value "+t)},e.fromSeconds=function(t,n){if(void 0===n&&(n={}),G(t))return new e({ts:1e3*t,zone:He(n.zone,Ze.defaultZone),loc:ct.fromObject(n)});throw new b("fromSeconds requires a numerical input")},e.fromObject=function(t,n){void 0===n&&(n={}),t=t||{};var i=He(n.zone,Ze.defaultZone);if(!i.isValid)return e.invalid(Vn(i));var o=Ze.now(),s=V(n.specificOffset)?i.offset(o):n.specificOffset,r=he(t,li),a=!V(r.ordinal),l=!V(r.year),c=!V(r.month)||!V(r.day),u=l||c,h=r.weekYear||r.weekNumber,p=ct.fromObject(n);if((u||a)&&h)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new g("Can't mix ordinal dates with month/day");var f,m,v=h||r.weekday&&!u,b=Kn(o,s);v?(f=ri,m=ii,b=$n(b)):a?(f=ai,m=oi,b=jn(b)):(f=si,m=ni);for(var y,_=!1,w=d(f);!(y=w()).done;){var k=y.value;V(r[k])?r[k]=_?m[k]:b[k]:_=!0}var x=v?function(e){var t=Y(e.weekYear),n=X(e.weekNumber,1,ae(e.weekYear)),i=X(e.weekday,1,7);return t?n?!i&&An("weekday",e.weekday):An("week",e.week):An("weekYear",e.weekYear)}(r):a?function(e){var t=Y(e.year),n=X(e.ordinal,1,oe(e.year));return t?!n&&An("ordinal",e.ordinal):An("year",e.year)}(r):Bn(r),S=x||zn(r);if(S)return e.invalid(S);var C=Zn(v?Fn(r):a?Wn(r):r,s,i),D=new e({ts:C[0],zone:i,o:C[1],loc:p});return r.weekday&&u&&t.weekday!==D.weekday?e.invalid("mismatched weekday","you can't specify both a weekday of "+r.weekday+" and a date of "+D.toISO()):D},e.fromISO=function(e,t){void 0===t&&(t={});var n=function(e){return ht(e,[Ft,zt],[jt,Ht],[Wt,Ut],[Bt,Vt])}(e);return Jn(n[0],n[1],t,"ISO 8601",e)},e.fromRFC2822=function(e,t){void 0===t&&(t={});var n=function(e){return ht(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Lt,Nt])}(e);return Jn(n[0],n[1],t,"RFC 2822",e)},e.fromHTTP=function(e,t){void 0===t&&(t={});var n=function(e){return ht(e,[At,Rt],[Pt,Rt],[It,$t])}(e);return Jn(n[0],n[1],t,"HTTP",t)},e.fromFormat=function(t,n,i){if(void 0===i&&(i={}),V(t)||V(n))throw new b("fromFormat requires an input string and a format");var o=i,s=o.locale,r=void 0===s?null:s,a=o.numberingSystem,l=void 0===a?null:a,c=function(e,t,n){var i=Mn(e,t,n);return[i.result,i.zone,i.specificOffset,i.invalidReason]}(ct.fromOpts({locale:r,numberingSystem:l,defaultToEN:!0}),t,n),u=c[0],d=c[1],h=c[2],p=c[3];return p?e.invalid(p):Jn(u,d,i,"format "+n,t,h)},e.fromString=function(t,n,i){return void 0===i&&(i={}),e.fromFormat(t,n,i)},e.fromSQL=function(e,t){void 0===t&&(t={});var n=function(e){return ht(e,[Yt,zt],[qt,Kt])}(e);return Jn(n[0],n[1],t,"SQL",e)},e.invalid=function(t,n){if(void 0===n&&(n=null),!t)throw new b("need to specify a reason the DateTime is invalid");var i=t instanceof Ne?t:new Ne(t,n);if(Ze.throwOnInvalid)throw new p(i);return new e({invalid:i})},e.isDateTime=function(e){return e&&e.isLuxonDateTime||!1},e.parseFormatForOpts=function(e,t){void 0===t&&(t={});var n=On(e,ct.fromObject(t));return n?n.map((function(e){return e?e.val:null})).join(""):null};var t=e.prototype;return t.get=function(e){return this[e]},t.resolvedLocaleOptions=function(e){void 0===e&&(e={});var t=Le.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},t.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(Be.instance(e),t)},t.toLocal=function(){return this.setZone(Ze.defaultZone)},t.setZone=function(t,n){var i=void 0===n?{}:n,o=i.keepLocalTime,s=void 0!==o&&o,r=i.keepCalendarTime,a=void 0!==r&&r;if((t=He(t,Ze.defaultZone)).equals(this.zone))return this;if(t.isValid){var l=this.ts;if(s||a){var c=t.offset(this.ts);l=Zn(this.toObject(),c,t)[0]}return Yn(this,{ts:l,zone:t})}return e.invalid(Vn(t))},t.reconfigure=function(e){var t=void 0===e?{}:e,n=t.locale,i=t.numberingSystem,o=t.outputCalendar;return Yn(this,{loc:this.loc.clone({locale:n,numberingSystem:i,outputCalendar:o})})},t.setLocale=function(e){return this.reconfigure({locale:e})},t.set=function(e){if(!this.isValid)return this;var t,n=he(e,li),o=!V(n.weekYear)||!V(n.weekNumber)||!V(n.weekday),s=!V(n.ordinal),r=!V(n.year),a=!V(n.month)||!V(n.day),l=r||a,c=n.weekYear||n.weekNumber;if((l||s)&&c)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new g("Can't mix ordinal dates with month/day");o?t=Fn(i({},$n(this.c),n)):V(n.ordinal)?(t=i({},this.toObject(),n),V(n.day)&&(t.day=Math.min(se(t.year,t.month),t.day))):t=Wn(i({},jn(this.c),n));var u=Zn(t,this.o,this.zone);return Yn(this,{ts:u[0],o:u[1]})},t.plus=function(e){return this.isValid?Yn(this,Xn(this,rn.fromDurationLike(e))):this},t.minus=function(e){return this.isValid?Yn(this,Xn(this,rn.fromDurationLike(e).negate())):this},t.startOf=function(e){if(!this.isValid)return this;var t={},n=rn.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===n&&(t.weekday=1),"quarters"===n){var i=Math.ceil(this.month/3);t.month=3*(i-1)+1}return this.set(t)},t.endOf=function(e){var t;return this.isValid?this.plus((t={},t[e]=1,t)).startOf(e).minus(1):this},t.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Le.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Hn},t.toLocaleString=function(e,t){return void 0===e&&(e=x),void 0===t&&(t={}),this.isValid?Le.create(this.loc.clone(t),e).formatDateTime(this):Hn},t.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Le.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},t.toISO=function(e){var t=void 0===e?{}:e,n=t.format,i=void 0===n?"extended":n,o=t.suppressSeconds,s=void 0!==o&&o,r=t.suppressMilliseconds,a=void 0!==r&&r,l=t.includeOffset,c=void 0===l||l,u=t.extendedZone,d=void 0!==u&&u;if(!this.isValid)return null;var h="extended"===i,p=ei(this,h);return p+="T",p+=ti(this,h,s,a,c,d)},t.toISODate=function(e){var t=(void 0===e?{}:e).format,n=void 0===t?"extended":t;return this.isValid?ei(this,"extended"===n):null},t.toISOWeekDate=function(){return Qn(this,"kkkk-'W'WW-c")},t.toISOTime=function(e){var t=void 0===e?{}:e,n=t.suppressMilliseconds,i=void 0!==n&&n,o=t.suppressSeconds,s=void 0!==o&&o,r=t.includeOffset,a=void 0===r||r,l=t.includePrefix,c=void 0!==l&&l,u=t.extendedZone,d=void 0!==u&&u,h=t.format,p=void 0===h?"extended":h;return this.isValid?(c?"T":"")+ti(this,"extended"===p,s,i,a,d):null},t.toRFC2822=function(){return Qn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},t.toHTTP=function(){return Qn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},t.toSQLDate=function(){return this.isValid?ei(this,!0):null},t.toSQLTime=function(e){var t=void 0===e?{}:e,n=t.includeOffset,i=void 0===n||n,o=t.includeZone,s=void 0!==o&&o,r=t.includeOffsetSpace,a="HH:mm:ss.SSS";return(s||i)&&((void 0===r||r)&&(a+=" "),s?a+="z":i&&(a+="ZZ")),Qn(this,a,!0)},t.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},t.toString=function(){return this.isValid?this.toISO():Hn},t.valueOf=function(){return this.toMillis()},t.toMillis=function(){return this.isValid?this.ts:NaN},t.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},t.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},t.toJSON=function(){return this.toISO()},t.toBSON=function(){return this.toJSDate()},t.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=i({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},t.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},t.diff=function(e,t,n){if(void 0===t&&(t="milliseconds"),void 0===n&&(n={}),!this.isValid||!e.isValid)return rn.invalid("created by diffing an invalid DateTime");var o,s=i({locale:this.locale,numberingSystem:this.numberingSystem},n),r=(o=t,Array.isArray(o)?o:[o]).map(rn.normalizeUnit),a=e.valueOf()>this.valueOf(),l=hn(a?this:e,a?e:this,r,s);return a?l.negate():l},t.diffNow=function(t,n){return void 0===t&&(t="milliseconds"),void 0===n&&(n={}),this.diff(e.now(),t,n)},t.until=function(e){return this.isValid?cn.fromDateTimes(this,e):this},t.hasSame=function(e,t){if(!this.isValid)return!1;var n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=n&&n<=i.endOf(t)},t.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},t.toRelative=function(t){if(void 0===t&&(t={}),!this.isValid)return null;var n=t.base||e.fromObject({},{zone:this.zone}),o=t.padding?this<n?-t.padding:t.padding:0,s=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(s=t.unit,r=void 0),ui(n,this.plus(o),i({},t,{numeric:"always",units:s,unit:r}))},t.toRelativeCalendar=function(t){return void 0===t&&(t={}),this.isValid?ui(t.base||e.fromObject({},{zone:this.zone}),this,i({},t,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},e.min=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.every(e.isDateTime))throw new b("min requires all arguments be DateTimes");return K(n,(function(e){return e.valueOf()}),Math.min)},e.max=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.every(e.isDateTime))throw new b("max requires all arguments be DateTimes");return K(n,(function(e){return e.valueOf()}),Math.max)},e.fromFormatExplain=function(e,t,n){void 0===n&&(n={});var i=n,o=i.locale,s=void 0===o?null:o,r=i.numberingSystem,a=void 0===r?null:r;return Mn(ct.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0}),e,t)},e.fromStringExplain=function(t,n,i){return void 0===i&&(i={}),e.fromFormatExplain(t,n,i)},n(e,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?Gn(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?Gn(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?Gn(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?jn(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?un.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?un.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?un.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?un.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return ie(this.year)}},{key:"daysInMonth",get:function(){return se(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?oe(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ae(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return x}},{key:"DATE_MED",get:function(){return S}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return C}},{key:"DATE_FULL",get:function(){return D}},{key:"DATE_HUGE",get:function(){return T}},{key:"TIME_SIMPLE",get:function(){return E}},{key:"TIME_WITH_SECONDS",get:function(){return M}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return O}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return L}},{key:"TIME_24_SIMPLE",get:function(){return N}},{key:"TIME_24_WITH_SECONDS",get:function(){return A}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return P}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return I}},{key:"DATETIME_SHORT",get:function(){return R}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return $}},{key:"DATETIME_MED",get:function(){return F}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return j}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return W}},{key:"DATETIME_FULL",get:function(){return B}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return z}},{key:"DATETIME_HUGE",get:function(){return H}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return U}}]),e}();function pi(e){if(hi.isDateTime(e))return e;if(e&&e.valueOf&&G(e.valueOf()))return hi.fromJSDate(e);if(e&&"object"==typeof e)return hi.fromObject(e);throw new b("Unknown datetime argument: "+e+", of type "+typeof e)}return e.DateTime=hi,e.Duration=rn,e.FixedOffsetZone=Be,e.IANAZone=je,e.Info=un,e.Interval=cn,e.InvalidZone=ze,e.Settings=Ze,e.SystemZone=Ie,e.VERSION="3.0.1",e.Zone=Ae,Object.defineProperty(e,"__esModule",{value:!0}),e}({});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e._,i=e._=t();i.noConflict=function(){return e._=n,i}}())}(this,(function(){var e="1.13.2",t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},n=Array.prototype,i=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,s=n.push,r=n.slice,a=i.toString,l=i.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,d=Array.isArray,h=Object.keys,p=Object.create,f=c&&ArrayBuffer.isView,m=isNaN,g=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var s=Array(t+1);for(o=0;o<t;o++)s[o]=arguments[o];return s[t]=i,e.apply(this,s)}}function w(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return void 0===e}function x(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)}function S(e){var t="[object "+e+"]";return function(e){return a.call(e)===t}}var C=S("String"),D=S("Number"),T=S("Date"),E=S("RegExp"),M=S("Error"),O=S("Symbol"),L=S("ArrayBuffer"),N=S("Function"),A=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof A&&(N=function(e){return"function"==typeof e||!1});var P=N,I=S("Object"),R=u&&I(new DataView(new ArrayBuffer(8))),$="undefined"!=typeof Map&&I(new Map),F=S("DataView");var j=R?function(e){return null!=e&&P(e.getInt8)&&L(e.buffer)}:F,W=d||S("Array");function B(e,t){return null!=e&&l.call(e,t)}var z=S("Arguments");!function(){z(arguments)||(z=function(e){return B(e,"callee")})}();var H=z;function U(e){return D(e)&&m(e)}function V(e){return function(){return e}}function G(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=y}}function Y(e){return function(t){return null==t?void 0:t[e]}}var q=Y("byteLength"),K=G(q),Z=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=c?function(e){return f?f(e)&&!j(e):K(e)&&Z.test(a.call(e))}:V(!1),J=Y("length");function Q(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=b.length,o=e.constructor,s=P(o)&&o.prototype||i,r="constructor";for(B(e,r)&&!t.contains(r)&&t.push(r);n--;)(r=b[n])in e&&e[r]!==s[r]&&!t.contains(r)&&t.push(r)}function ee(e){if(!w(e))return[];if(h)return h(e);var t=[];for(var n in e)B(e,n)&&t.push(n);return v&&Q(e,t),t}function te(e,t){var n=ee(t),i=n.length;if(null==e)return!i;for(var o=Object(e),s=0;s<i;s++){var r=n[s];if(t[r]!==o[r]||!(r in o))return!1}return!0}function ne(e){return e instanceof ne?e:this instanceof ne?void(this._wrapped=e):new ne(e)}function ie(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,q(e))}ne.VERSION=e,ne.prototype.value=function(){return this._wrapped},ne.prototype.valueOf=ne.prototype.toJSON=ne.prototype.value,ne.prototype.toString=function(){return String(this._wrapped)};var oe="[object DataView]";function se(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&re(e,t,n,i)}function re(e,t,n,i){e instanceof ne&&(e=e._wrapped),t instanceof ne&&(t=t._wrapped);var s=a.call(e);if(s!==a.call(t))return!1;if(R&&"[object Object]"==s&&j(e)){if(!j(t))return!1;s=oe}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t);case"[object ArrayBuffer]":case oe:return re(ie(e),ie(t),n,i)}var r="[object Array]"===s;if(!r&&X(e)){if(q(e)!==q(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;r=!0}if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(P(l)&&l instanceof l&&P(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),r){if((u=e.length)!==t.length)return!1;for(;u--;)if(!se(e[u],t[u],n,i))return!1}else{var d,h=ee(e);if(u=h.length,ee(t).length!==u)return!1;for(;u--;)if(!B(t,d=h[u])||!se(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0}function ae(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return v&&Q(e,t),t}function le(e){var t=J(e);return function(n){if(null==n)return!1;var i=ae(n);if(J(i))return!1;for(var o=0;o<t;o++)if(!P(n[e[o]]))return!1;return e!==pe||!P(n[ce])}}var ce="forEach",ue=["clear","delete"],de=["get","has","set"],he=ue.concat(ce,de),pe=ue.concat(de),fe=["add"].concat(ue,ce,"has"),me=$?le(he):S("Map"),ge=$?le(pe):S("WeakMap"),ve=$?le(fe):S("Set"),be=S("WeakSet");function ye(e){for(var t=ee(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i}function _e(e){for(var t={},n=ee(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t}function we(e){var t=[];for(var n in e)P(e[n])&&t.push(n);return t.sort()}function ke(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var s=arguments[o],r=e(s),a=r.length,l=0;l<a;l++){var c=r[l];t&&void 0!==n[c]||(n[c]=s[c])}return n}}var xe=ke(ae),Se=ke(ee),Ce=ke(ae,!0);function De(e){if(!w(e))return{};if(p)return p(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Te(e){return W(e)?e:[e]}function Ee(e){return ne.toPath(e)}function Me(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function Oe(e,t,n){var i=Me(e,Ee(t));return k(i)?n:i}function Le(e){return e}function Ne(e){return e=Se({},e),function(t){return te(t,e)}}function Ae(e){return e=Ee(e),function(t){return Me(t,e)}}function Pe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,s){return e.call(t,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function Ie(e,t,n){return null==e?Le:P(e)?Pe(e,t,n):w(e)&&!W(e)?Ne(e):Ae(e)}function Re(e,t){return Ie(e,t,1/0)}function $e(e,t,n){return ne.iteratee!==Re?ne.iteratee(e,t):Ie(e,t,n)}function Fe(){}function je(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ne.toPath=Te,ne.iteratee=Re;var We=Date.now||function(){return(new Date).getTime()};function Be(e){var t=function(t){return e[t]},n="(?:"+ee(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}}var ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},He=Be(ze),Ue=Be(_e(ze)),Ve=ne.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ge=/(.)^/,Ye={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},qe=/\\|'|\r|\n|\u2028|\u2029/g;function Ke(e){return"\\"+Ye[e]}var Ze=/^\s*(\w|\$)+\s*$/;var Xe=0;function Je(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var s=De(e.prototype),r=e.apply(s,o);return w(r)?r:s}var Qe=_((function(e,t){var n=Qe.placeholder,i=function(){for(var o=0,s=t.length,r=Array(s),a=0;a<s;a++)r[a]=t[a]===n?arguments[o++]:t[a];for(;o<arguments.length;)r.push(arguments[o++]);return Je(e,i,this,this,r)};return i}));Qe.placeholder=ne;var et=_((function(e,t,n){if(!P(e))throw new TypeError("Bind must be called on a function");var i=_((function(o){return Je(e,i,t,this,n.concat(o))}));return i})),tt=G(J);function nt(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var o=i.length,s=0,r=J(e);s<r;s++){var a=e[s];if(tt(a)&&(W(a)||H(a)))if(t>1)nt(a,t-1,n,i),o=i.length;else for(var l=0,c=a.length;l<c;)i[o++]=a[l++];else n||(i[o++]=a)}return i}var it=_((function(e,t){var n=(t=nt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=et(e[i],e)}return e}));var ot=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),st=Qe(ot,ne,1);function rt(e){return function(){return!e.apply(this,arguments)}}function at(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var lt=Qe(at,2);function ct(e,t,n){t=$e(t,n);for(var i,o=ee(e),s=0,r=o.length;s<r;s++)if(t(e[i=o[s]],i,e))return i}function ut(e){return function(t,n,i){n=$e(n,i);for(var o=J(t),s=e>0?0:o-1;s>=0&&s<o;s+=e)if(n(t[s],s,t))return s;return-1}}var dt=ut(1),ht=ut(-1);function pt(e,t,n,i){for(var o=(n=$e(n,i,1))(t),s=0,r=J(e);s<r;){var a=Math.floor((s+r)/2);n(e[a])<o?s=a+1:r=a}return s}function ft(e,t,n){return function(i,o,s){var a=0,l=J(i);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(n&&s&&l)return i[s=n(i,o)]===o?s:-1;if(o!=o)return(s=t(r.call(i,a,l),U))>=0?s+a:-1;for(s=e>0?a:l-1;s>=0&&s<l;s+=e)if(i[s]===o)return s;return-1}}var mt=ft(1,dt,pt),gt=ft(-1,ht);function vt(e,t,n){var i=(tt(e)?dt:ct)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function bt(e,t,n){var i,o;if(t=Pe(t,n),tt(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var s=ee(e);for(i=0,o=s.length;i<o;i++)t(e[s[i]],s[i],e)}return e}function yt(e,t,n){t=$e(t,n);for(var i=!tt(e)&&ee(e),o=(i||e).length,s=Array(o),r=0;r<o;r++){var a=i?i[r]:r;s[r]=t(e[a],a,e)}return s}function _t(e){return function(t,n,i,o){var s=arguments.length>=3;return function(t,n,i,o){var s=!tt(t)&&ee(t),r=(s||t).length,a=e>0?0:r-1;for(o||(i=t[s?s[a]:a],a+=e);a>=0&&a<r;a+=e){var l=s?s[a]:a;i=n(i,t[l],l,t)}return i}(t,Pe(n,o,4),i,s)}}var wt=_t(1),kt=_t(-1);function xt(e,t,n){var i=[];return t=$e(t,n),bt(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i}function St(e,t,n){t=$e(t,n);for(var i=!tt(e)&&ee(e),o=(i||e).length,s=0;s<o;s++){var r=i?i[s]:s;if(!t(e[r],r,e))return!1}return!0}function Ct(e,t,n){t=$e(t,n);for(var i=!tt(e)&&ee(e),o=(i||e).length,s=0;s<o;s++){var r=i?i[s]:s;if(t(e[r],r,e))return!0}return!1}function Dt(e,t,n,i){return tt(e)||(e=ye(e)),("number"!=typeof n||i)&&(n=0),mt(e,t,n)>=0}var Tt=_((function(e,t,n){var i,o;return P(t)?o=t:(t=Ee(t),i=t.slice(0,-1),t=t[t.length-1]),yt(e,(function(e){var s=o;if(!s){if(i&&i.length&&(e=Me(e,i)),null==e)return;s=e[t]}return null==s?s:s.apply(e,n)}))}));function Et(e,t){return yt(e,Ae(t))}function Mt(e,t,n){var i,o,s=-1/0,r=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=tt(e)?e:ye(e)).length;a<l;a++)null!=(i=e[a])&&i>s&&(s=i);else t=$e(t,n),bt(e,(function(e,n,i){((o=t(e,n,i))>r||o===-1/0&&s===-1/0)&&(s=e,r=o)}));return s}var Ot=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Lt(e){return e?W(e)?r.call(e):C(e)?e.match(Ot):tt(e)?yt(e,Le):ye(e):[]}function Nt(e,t,n){if(null==t||n)return tt(e)||(e=ye(e)),e[je(e.length-1)];var i=Lt(e),o=J(i);t=Math.max(Math.min(t,o),0);for(var s=o-1,r=0;r<t;r++){var a=je(r,s),l=i[r];i[r]=i[a],i[a]=l}return i.slice(0,t)}function At(e,t){return function(n,i,o){var s=t?[[],[]]:{};return i=$e(i,o),bt(n,(function(t,o){var r=i(t,o,n);e(s,t,r)})),s}}var Pt=At((function(e,t,n){B(e,n)?e[n].push(t):e[n]=[t]})),It=At((function(e,t,n){e[n]=t})),Rt=At((function(e,t,n){B(e,n)?e[n]++:e[n]=1})),$t=At((function(e,t,n){e[n?0:1].push(t)}),!0);function Ft(e,t,n){return t in n}var jt=_((function(e,t){var n={},i=t[0];if(null==e)return n;P(i)?(t.length>1&&(i=Pe(i,t[1])),t=ae(e)):(i=Ft,t=nt(t,!1,!1),e=Object(e));for(var o=0,s=t.length;o<s;o++){var r=t[o],a=e[r];i(a,r,e)&&(n[r]=a)}return n})),Wt=_((function(e,t){var n,i=t[0];return P(i)?(i=rt(i),t.length>1&&(n=t[1])):(t=yt(nt(t,!1,!1),String),i=function(e,n){return!Dt(t,n)}),jt(e,i,n)}));function Bt(e,t,n){return r.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function zt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Bt(e,e.length-t)}function Ht(e,t,n){return r.call(e,null==t||n?1:t)}var Ut=_((function(e,t){return t=nt(t,!0,!0),xt(e,(function(e){return!Dt(t,e)}))})),Vt=_((function(e,t){return Ut(e,t)}));function Gt(e,t,n,i){x(t)||(i=n,n=t,t=!1),null!=n&&(n=$e(n,i));for(var o=[],s=[],r=0,a=J(e);r<a;r++){var l=e[r],c=n?n(l,r,e):l;t&&!n?(r&&s===c||o.push(l),s=c):n?Dt(s,c)||(s.push(c),o.push(l)):Dt(o,l)||o.push(l)}return o}var Yt=_((function(e){return Gt(nt(e,!0,!0))}));function qt(e){for(var t=e&&Mt(e,J).length||0,n=Array(t),i=0;i<t;i++)n[i]=Et(e,i);return n}var Kt=_(qt);function Zt(e,t){return e._chain?ne(t).chain():t}function Xt(e){return bt(we(e),(function(t){var n=ne[t]=e[t];ne.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),Zt(this,n.apply(ne,e))}})),ne}bt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=n[e];ne.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Zt(this,n)}})),bt(["concat","join","slice"],(function(e){var t=n[e];ne.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Zt(this,e)}}));var Jt={__proto__:null,VERSION:e,restArguments:_,isObject:w,isNull:function(e){return null===e},isUndefined:k,isBoolean:x,isElement:function(e){return!(!e||1!==e.nodeType)},isString:C,isNumber:D,isDate:T,isRegExp:E,isError:M,isSymbol:O,isArrayBuffer:L,isDataView:j,isArray:W,isFunction:P,isArguments:H,isFinite:function(e){return!O(e)&&g(e)&&!isNaN(parseFloat(e))},isNaN:U,isTypedArray:X,isEmpty:function(e){if(null==e)return!0;var t=J(e);return"number"==typeof t&&(W(e)||C(e)||H(e))?0===t:0===J(ee(e))},isMatch:te,isEqual:function(e,t){return se(e,t)},isMap:me,isWeakMap:ge,isSet:ve,isWeakSet:be,keys:ee,allKeys:ae,values:ye,pairs:function(e){for(var t=ee(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},invert:_e,functions:we,methods:we,extend:xe,extendOwn:Se,assign:Se,defaults:Ce,create:function(e,t){var n=De(e);return t&&Se(n,t),n},clone:function(e){return w(e)?W(e)?e.slice():xe({},e):e},tap:function(e,t){return t(e),e},get:Oe,has:function(e,t){for(var n=(t=Ee(t)).length,i=0;i<n;i++){var o=t[i];if(!B(e,o))return!1;e=e[o]}return!!n},mapObject:function(e,t,n){t=$e(t,n);for(var i=ee(e),o=i.length,s={},r=0;r<o;r++){var a=i[r];s[a]=t(e[a],a,e)}return s},identity:Le,constant:V,noop:Fe,toPath:Te,property:Ae,propertyOf:function(e){return null==e?Fe:function(t){return Oe(e,t)}},matcher:Ne,matches:Ne,times:function(e,t,n){var i=Array(Math.max(0,e));t=Pe(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},random:je,now:We,escape:He,unescape:Ue,templateSettings:Ve,template:function(e,t,n){!t&&n&&(t=n),t=Ce({},t,ne.templateSettings);var i=RegExp([(t.escape||Ge).source,(t.interpolate||Ge).source,(t.evaluate||Ge).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,(function(t,n,i,r,a){return s+=e.slice(o,a).replace(qe,Ke),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(s+="';\n"+r+"\n__p+='"),t})),s+="';\n";var r,a=t.variable;if(a){if(!Ze.test(a))throw new Error("variable is not a bare identifier: "+a)}else s="with(obj||{}){\n"+s+"}\n",a="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(a,"_",s)}catch(e){throw e.source=s,e}var l=function(e){return r.call(this,e,ne)};return l.source="function("+a+"){\n"+s+"}",l},result:function(e,t,n){var i=(t=Ee(t)).length;if(!i)return P(n)?n.call(e):n;for(var o=0;o<i;o++){var s=null==e?void 0:e[t[o]];void 0===s&&(s=n,o=i),e=P(s)?s.call(e):s}return e},uniqueId:function(e){var t=++Xe+"";return e?e+t:t},chain:function(e){var t=ne(e);return t._chain=!0,t},iteratee:Re,partial:Qe,bind:et,bindAll:it,memoize:function(e,t){var n=function(i){var o=n.cache,s=""+(t?t.apply(this,arguments):i);return B(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return n.cache={},n},delay:ot,defer:st,throttle:function(e,t,n){var i,o,s,r,a=0;n||(n={});var l=function(){a=!1===n.leading?0:We(),i=null,r=e.apply(o,s),i||(o=s=null)},c=function(){var c=We();a||!1!==n.leading||(a=c);var u=t-(c-a);return o=this,s=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),a=c,r=e.apply(o,s),i||(o=s=null)):i||!1===n.trailing||(i=setTimeout(l,u)),r};return c.cancel=function(){clearTimeout(i),a=0,i=o=s=null},c},debounce:function(e,t,n){var i,o,s,r,a,l=function(){var c=We()-o;t>c?i=setTimeout(l,t-c):(i=null,n||(r=e.apply(a,s)),i||(s=a=null))},c=_((function(c){return a=this,s=c,o=We(),i||(i=setTimeout(l,t),n&&(r=e.apply(a,s))),r}));return c.cancel=function(){clearTimeout(i),i=s=a=null},c},wrap:function(e,t){return Qe(t,e)},negate:rt,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:at,once:lt,findKey:ct,findIndex:dt,findLastIndex:ht,sortedIndex:pt,indexOf:mt,lastIndexOf:gt,find:vt,detect:vt,findWhere:function(e,t){return vt(e,Ne(t))},each:bt,forEach:bt,map:yt,collect:yt,reduce:wt,foldl:wt,inject:wt,reduceRight:kt,foldr:kt,filter:xt,select:xt,reject:function(e,t,n){return xt(e,rt($e(t)),n)},every:St,all:St,some:Ct,any:Ct,contains:Dt,includes:Dt,include:Dt,invoke:Tt,pluck:Et,where:function(e,t){return xt(e,Ne(t))},max:Mt,min:function(e,t,n){var i,o,s=1/0,r=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=tt(e)?e:ye(e)).length;a<l;a++)null!=(i=e[a])&&i<s&&(s=i);else t=$e(t,n),bt(e,(function(e,n,i){((o=t(e,n,i))<r||o===1/0&&s===1/0)&&(s=e,r=o)}));return s},shuffle:function(e){return Nt(e,1/0)},sample:Nt,sortBy:function(e,t,n){var i=0;return t=$e(t,n),Et(yt(e,(function(e,n,o){return{value:e,index:i++,criteria:t(e,n,o)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")},groupBy:Pt,indexBy:It,countBy:Rt,partition:$t,toArray:Lt,size:function(e){return null==e?0:tt(e)?e.length:ee(e).length},pick:jt,omit:Wt,first:zt,head:zt,take:zt,initial:Bt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ht(e,Math.max(0,e.length-t))},rest:Ht,tail:Ht,drop:Ht,compact:function(e){return xt(e,Boolean)},flatten:function(e,t){return nt(e,t,!1)},without:Vt,uniq:Gt,unique:Gt,union:Yt,intersection:function(e){for(var t=[],n=arguments.length,i=0,o=J(e);i<o;i++){var s=e[i];if(!Dt(t,s)){var r;for(r=1;r<n&&Dt(arguments[r],s);r++);r===n&&t.push(s)}}return t},difference:Ut,unzip:qt,transpose:qt,zip:Kt,object:function(e,t){for(var n={},i=0,o=J(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),s=0;s<i;s++,e+=n)o[s]=e;return o},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(r.call(e,i,i+=t));return n},mixin:Xt,default:ne},Qt=Xt(Jt);return Qt._=Qt,Qt})),function(e,t){"use strict";var n=t.prototype.trim,i=t.prototype.trimRight,o=t.prototype.trimLeft,s=function(e){return 1*e||0},r=function(e,t){if(t<1)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},a=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+f.escapeRegExp(e)+"]"};function c(e,t){var n,i,o=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(i=t[n]){if(i.test&&i.test(e))return!0;if(i.toLowerCase()===o)return!0}}var u={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},d={};for(var h in u)d[u[h]]=h;d["'"]="#39";var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=r,i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(i,o){var s,r,a,l,c,u,d,h=1,f=i.length,m="",g=[];for(r=0;r<f;r++)if("string"===(m=e(i[r])))g.push(i[r]);else if("array"===m){if((l=i[r])[2])for(s=o[h],a=0;a<l[2].length;a++){if(!s.hasOwnProperty(l[2][a]))throw new Error(p('[_.sprintf] property "%s" does not exist',l[2][a]));s=s[l[2][a]]}else s=l[1]?o[l[1]]:o[h++];if(/[^s]/.test(l[8])&&"number"!=e(s))throw new Error(p("[_.sprintf] expecting number but found %s",e(s)));switch(l[8]){case"b":s=s.toString(2);break;case"c":s=t.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=l[7]?s.toExponential(l[7]):s.toExponential();break;case"f":s=l[7]?parseFloat(s).toFixed(l[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=t(s))&&l[7]?s.substring(0,l[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(l[8])&&l[3]&&s>=0?"+"+s:s,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",d=l[6]-t(s).length,c=l[6]?n(u,d):"",g.push(l[5]?s+c:c+s)}return g.join("")},i.cache={},i.parse=function(e){for(var t=e,n=[],i=[],o=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){o|=1;var s=[],r=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(r)))throw new Error("[_.sprintf] huh?");for(s.push(a[1]);""!==(r=r.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(r)))s.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(r)))throw new Error("[_.sprintf] huh?");s.push(a[1])}n[2]=s}else o|=2;if(3===o)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}t=t.substring(n[0].length)}return i},i}(),f={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return(e=null==e?"":t(e)).charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return null==e?[]:(e=t(e),(n=~~n)>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return f.strip(e).replace(/\s+/g," ")},count:function(e,n){if(null==e||null==n)return 0;e=t(e);for(var i=0,o=0,s=(n=t(n)).length;-1!==(o=e.indexOf(n,o));)i++,o+=s;return i},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,(function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()}))},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,(function(e){return"&"+d[e]+";"}))},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,(function(e,n){var i;return n in u?u[n]:(i=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(i[1],16)):(i=n.match(/^#(\d+)$/))?t.fromCharCode(~~i[1]):e}))},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,i){var o=f.chars(e);return o.splice(~~t,~~n,i),o.join("")},insert:function(e,t,n){return f.splice(e,t,0,n)},include:function(e,n){return""===n||null!=e&&-1!==t(e).indexOf(n)},join:function(){var e=a.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return f.chars(e).reverse().join("")},startsWith:function(e,n){return""===n||null!=e&&null!=n&&(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return""===n||null!=e&&null!=n&&(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return null==e?"":(e=t(e)).slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1)},titleize:function(e){return null==e?"":(e=t(e).toLowerCase()).replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()}))},camelize:function(e){return f.trim(e).replace(/[-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},underscored:function(e){return f.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return f.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return f.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return f.capitalize(f.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,i){return null==e?"":!i&&n?n.call(e):(i=l(i),t(e).replace(new RegExp("^"+i+"+|"+i+"+$","g"),""))},ltrim:function(e,n){return null==e?"":!n&&o?o.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=l(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,i){return null==e?"":(i=i||"...",n=~~n,(e=t(e)).length>n?e.slice(0,n)+i:e)},prune:function(e,n,i){if(null==e)return"";if(e=t(e),n=~~n,i=null!=i?t(i):"...",e.length<=n)return e;var o=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,(function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "}));return((o=o.slice(o.length-2).match(/\w\w/)?o.replace(/\s*\S+$/,""):f.rtrim(o.slice(0,o.length-1)))+i).length>e.length?e:e.slice(0,o.length)+i},words:function(e,t){return f.isBlank(e)?[]:f.trim(e,t).split(t||/\s+/)},pad:function(e,n,i,o){e=null==e?"":t(e),n=~~n;var s=0;switch(i?i.length>1&&(i=i.charAt(0)):i=" ",o){case"right":return s=n-e.length,e+r(i,s);case"both":return s=n-e.length,r(i,Math.ceil(s/2))+e+r(i,Math.floor(s/2));default:return s=n-e.length,r(i,s)+e}},lpad:function(e,t,n){return f.pad(e,t,n)},rpad:function(e,t,n){return f.pad(e,t,n,"right")},lrpad:function(e,t,n){return f.pad(e,t,n,"both")},sprintf:p,vsprintf:function(e,t){return t.unshift(e),p.apply(null,t)},toNumber:function(e,t){return e?(e=f.trim(e)).match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):NaN:0},numberFormat:function(e,t,n,i){if(isNaN(e)||null==e)return"";i="string"==typeof i?i:",";var o=(e=e.toFixed(~~t)).split("."),s=o[0],r=o[1]?(n||".")+o[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+r},strRight:function(e,n){if(null==e)return"";e=t(e);var i=(n=null!=n?t(n):n)?e.indexOf(n):-1;return~i?e.slice(i+n.length,e.length):e},strRightBack:function(e,n){if(null==e)return"";e=t(e);var i=(n=null!=n?t(n):n)?e.lastIndexOf(n):-1;return~i?e.slice(i+n.length,e.length):e},strLeft:function(e,n){if(null==e)return"";e=t(e);var i=(n=null!=n?t(n):n)?e.indexOf(n):-1;return~i?e.slice(0,i):e},strLeftBack:function(e,t){if(null==e)return"";var n=(e+="").lastIndexOf(t=null!=t?""+t:t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,i){t=t||", ",n=n||" and ";var o=e.slice(),s=o.pop();return e.length>2&&i&&(n=f.rtrim(t)+n),o.length?o.join(t)+n+s:s},toSentenceSerial:function(){var e=a.call(arguments);return e[3]=!0,f.toSentence.apply(f,e)},slugify:function(e){if(null==e)return"";var n="",i=new RegExp(l(n),"g");return e=t(e).toLowerCase().replace(i,(function(e){var t=n.indexOf(e);return"aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz".charAt(t)||"-"})),f.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return f.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,n,i){if(null==e)return"";if(n=~~n,null==i)return r(t(e),n);for(var o=[];n>0;o[--n]=e);return o.join(i)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;for(var i=/(\.\d+)|(\d+)|(\D+)/g,o=t(e).toLowerCase().match(i),s=t(n).toLowerCase().match(i),r=Math.min(o.length,s.length),a=0;a<r;a++){var l=o[a],c=s[a];if(l!==c){var u=parseInt(l,10);if(!isNaN(u)){var d=parseInt(c,10);if(!isNaN(d)&&u-d)return u-d}return l<c?-1:1}}return o.length===s.length?o.length-s.length:e<n?-1:1},levenshtein:function(e,n){if(null==e&&null==n)return 0;if(null==e)return t(n).length;if(null==n)return t(e).length;e=t(e),n=t(n);for(var i,o,s=[],r=0;r<=n.length;r++)for(var a=0;a<=e.length;a++)o=r&&a?e.charAt(a-1)===n.charAt(r-1)?i:Math.min(s[a],s[a-1],i)+1:r+a,i=s[a],s[a]=o;return s.pop()},toBoolean:function(e,t,n){return"number"==typeof e&&(e=""+e),"string"!=typeof e?!!e:!!c(e=f.trim(e),t||["true","1"])||!c(e,n||["false","0"])&&void 0}};f.strip=f.trim,f.lstrip=f.ltrim,f.rstrip=f.rtrim,f.center=f.lrpad,f.rjust=f.lpad,f.ljust=f.rpad,f.contains=f.include,f.q=f.quote,f.toBool=f.toBoolean,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=f),exports._s=f),"function"==typeof define&&define.amd&&define("underscore.string",[],(function(){return f})),e._=e._||{},e._.string=e._.str=f}(this,String),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],i=e.document,o=Object.getPrototypeOf,s=n.slice,r=n.concat,a=n.push,l=n.indexOf,c={},u=c.toString,d=c.hasOwnProperty,h=d.toString,p=h.call(Object),f={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,noModule:!0};function b(e,t,n){var o,s=(t=t||i).createElement("script");if(s.text=e,n)for(o in v)n[o]&&(s[o]=n[o]);t.head.appendChild(s).parentNode.removeChild(s)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var _="3.3.1",w=function(e,t){return new w.fn.init(e,t)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=y(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:_,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,i,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||m(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],i=e[t],"__proto__"!==t&&r!==i&&(c&&i&&(w.isPlainObject(i)||(o=Array.isArray(i)))?(o?(o=!1,s=n&&Array.isArray(n)?n:[]):s=n&&w.isPlainObject(n)?n:{},r[t]=w.extend(c,s,i)):void 0!==i&&(r[t]=i));return r},w.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e))&&(!(t=o(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&h.call(n)===p)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var n,i=0;if(x(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(k,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?w.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,s=e.length,r=!n;o<s;o++)!t(e[o],o)!==r&&i.push(e[o]);return i},map:function(e,t,n){var i,o,s=0,a=[];if(x(e))for(i=e.length;s<i;s++)null!=(o=t(e[s],s,n))&&a.push(o);else for(s in e)null!=(o=t(e[s],s,n))&&a.push(o);return r.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,i,o,s,r,a,l,c,u,d,h,p,f,m,g,v,b,y,_="sizzle"+1*new Date,w=e.document,k=0,x=0,S=re(),C=re(),D=re(),T=function(e,t){return e===t&&(d=!0),0},E={}.hasOwnProperty,M=[],O=M.pop,L=M.push,N=M.push,A=M.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+$+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+R+"*\\]",j=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",W=new RegExp(R+"+","g"),B=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),z=new RegExp("^"+R+"*,"+R+"*"),H=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),V=new RegExp(j),G=new RegExp("^"+$+"$"),Y={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},oe=be((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{N.apply(M=A.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(e){N={apply:M.length?function(e,t){L.apply(e,A.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,o){var s,a,c,u,d,f,v,b=t&&t.ownerDocument,k=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return i;if(!o&&((t?t.ownerDocument||t:w)!==p&&h(t),t=t||p,m)){if(11!==k&&(d=X.exec(e)))if(s=d[1]){if(9===k){if(!(c=t.getElementById(s)))return i;if(c.id===s)return i.push(c),i}else if(b&&(c=b.getElementById(s))&&y(t,c)&&c.id===s)return i.push(c),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((s=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(s)),i}if(n.qsa&&!D[e+" "]&&(!g||!g.test(e))){if(1!==k)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=_),a=(f=r(e)).length;a--;)f[a]="#"+u+" "+ve(f[a]);v=f.join(","),b=J.test(e)&&me(t.parentNode)||t}if(v)try{return N.apply(i,b.querySelectorAll(v)),i}catch(e){}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(B,"$1"),t,i,o)}function re(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ae(e){return e[_]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae((function(t){return t=+t,ae((function(n,i){for(var o,s=e([],n.length,t),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=se.setDocument=function(e){var t,o,r=e?e.ownerDocument||e:w;return r!==p&&9===r.nodeType&&r.documentElement?(f=(p=r).documentElement,m=!s(p),w!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,o,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(o=t.getElementsByName(e),i=0;s=o[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Z.test(p.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Z.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",j)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(f.compareDocumentPosition),y=t||Z.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===p||e.ownerDocument===w&&y(w,e)?-1:t===p||t.ownerDocument===w&&y(w,t)?1:u?P(u,e)-P(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!o||!s)return e===p?-1:t===p?1:o?-1:s?1:u?P(u,e)-P(u,t):0;if(o===s)return ue(e,t);for(n=e;n=n.parentNode;)r.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;r[i]===a[i];)i++;return i?ue(r[i],a[i]):r[i]===w?-1:a[i]===w?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(U,"='$1']"),n.matchesSelector&&m&&!D[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=b.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var o=i.attrHandle[t.toLowerCase()],s=o&&E.call(i.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==s?s:n.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ne)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],o=0,s=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[s++];)t===e[s]&&(o=i.push(s));for(;o--;)e.splice(i[o],1)}return u=null,e},o=se.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},i=se.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=r(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&S(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=se.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(y=(p=(c=(u=(d=(h=g)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[k,p,y];break}}else if(b&&(y=p=(c=(u=(d=(h=t)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===y)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((u=(d=h[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[k,y]),h!==t)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[_]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var i,s=o(e,t),r=s.length;r--;)e[i=P(e,s[r])]=!(n[i]=s[r])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ae((function(e){var t=[],n=[],i=a(e.replace(B,"$1"));return i[_]?ae((function(e,t,n,o){for(var s,r=i(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))})):function(e,o,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return se(e,t).length>0}})),contains:ae((function(e){return e=e.replace(Q,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:ae((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(Q,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:fe((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function ge(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,o=t.next,s=o||i,r=n&&"parentNode"===s,a=x++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o);return!1}:function(t,n,l){var c,u,d,h=[k,a];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[s])&&c[0]===k&&c[1]===a)return h[2]=c[2];if(u[s]=h,h[2]=e(t,n,l))return!0}return!1}}function ye(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(n&&!n(s,i,o)||(r.push(s),c&&t.push(a)));return r}function we(e,t,n,i,o,s){return i&&!i[_]&&(i=we(i)),o&&!o[_]&&(o=we(o,s)),ae((function(s,r,a,l){var c,u,d,h=[],p=[],f=r.length,m=s||function(e,t,n){for(var i=0,o=t.length;i<o;i++)se(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!s&&t?m:_e(m,h,e,a,l),v=n?o||(s?e:f||i)?[]:r:g;if(n&&n(g,v,a,l),i)for(c=_e(v,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[p[u]]=!(g[p[u]]=d));if(s){if(o||e){if(o){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);o(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=o?P(s,d):h[u])>-1&&(s[c]=!(r[c]=d))}}else v=_e(v===r?v.splice(f,v.length):v),o?o(null,r,v,l):N.apply(r,v)}))}function ke(e){for(var t,n,o,s=e.length,r=i.relative[e[0].type],a=r||i.relative[" "],l=r?1:0,u=be((function(e){return e===t}),a,!0),d=be((function(e){return P(t,e)>-1}),a,!0),h=[function(e,n,i){var o=!r&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,o}];l<s;l++)if(n=i.relative[e[l].type])h=[be(ye(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(o=++l;o<s&&!i.relative[e[o].type];o++);return we(l>1&&ye(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(B,"$1"),n,l<o&&ke(e.slice(l,o)),o<s&&ke(e=e.slice(o)),o<s&&ve(e))}h.push(n)}return ye(h)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,r=se.tokenize=function(e,t){var n,o,s,r,a,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(r in n&&!(o=z.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=H.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(B," ")}),a=a.slice(n.length)),i.filter)!(o=Y[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):C(e,l).slice(0)},a=se.compile=function(e,t){var n,o=[],s=[],a=D[e+" "];if(!a){for(t||(t=r(e)),n=t.length;n--;)(a=ke(t[n]))[_]?o.push(a):s.push(a);a=D(e,function(e,t){var n=t.length>0,o=e.length>0,s=function(s,r,a,l,u){var d,f,g,v=0,b="0",y=s&&[],_=[],w=c,x=s||o&&i.find.TAG("*",u),S=k+=null==w?1:Math.random()||.1,C=x.length;for(u&&(c=r===p||r||u);b!==C&&null!=(d=x[b]);b++){if(o&&d){for(f=0,r||d.ownerDocument===p||(h(d),a=!m);g=e[f++];)if(g(d,r||p,a)){l.push(d);break}u&&(k=S)}n&&((d=!g&&d)&&v--,s&&y.push(d))}if(v+=b,n&&b!==v){for(f=0;g=t[f++];)g(y,_,r,a);if(s){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=O.call(l));_=_e(_)}N.apply(l,_),u&&!s&&_.length>0&&v+t.length>1&&se.uniqueSort(l)}return u&&(k=S,c=w),y};return n?ae(s):s}(s,o)),a.selector=e}return a},l=se.select=function(e,t,n,o){var s,l,c,u,d,h="function"==typeof e&&e,p=!o&&r(e=h.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(Q,ee),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=Y.needsContext.test(e)?0:l.length;s--&&(c=l[s],!i.relative[u=c.type]);)if((d=i.find[u])&&(o=d(c.matches[0].replace(Q,ee),J.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(s,1),!(e=o.length&&ve(l)))return N.apply(n,o),n;break}}return(h||a(e,p))(o,t,!m,n,!t||J.test(e)&&me(t.parentNode)||t),n},n.sortStable=_.split("").sort(T).join("")===_,n.detectDuplicates=!!d,h(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(I,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(e);w.find=S,w.expr=S.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=S.uniqueSort,w.text=S.getText,w.isXMLDoc=S.isXML,w.contains=S.contains,w.escapeSelector=S.escape;var C=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&w(e).is(n))break;i.push(e)}return i},D=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=w.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return m(t)?w.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?w.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?w.grep(e,(function(e){return l.call(t,e)>-1!==n})):w.filter(t,e,n)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,(function(e){return 1===e.nodeType})))},w.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(w(e).filter((function(){for(t=0;t<i;t++)if(w.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,o[t],n);return i>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&T.test(e)?w(e):e||[],!1).length}});var L,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var o,s;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),M.test(o[1])&&w.isPlainObject(t))for(o in t)m(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(s=i.getElementById(o[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,L=w(i);var A=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,o=this.length,s=[],r="string"!=typeof e&&w(e);if(!T.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?w.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?l.call(w(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return D((e.parentNode||{}).firstChild,e)},children:function(e){return D(e.firstChild)},contents:function(e){return E(e,"iframe")?e.contentDocument:(E(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},(function(e,t){w.fn[e]=function(n,i){var o=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=w.filter(i,o)),this.length>1&&(P[e]||w.uniqueSort(o),A.test(e)&&o.reverse()),this.pushStack(o)}}));var R=/[^\x20\t\r\n\f]+/g;function $(e){return e}function F(e){throw e}function j(e,t,n,i){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(R)||[],(function(e,n){t[n]=!0})),t}(e):w.extend({},e);var t,n,i,o,s=[],r=[],a=-1,l=function(){for(o=o||e.once,i=t=!0;r.length;a=-1)for(n=r.shift();++a<s.length;)!1===s[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=s.length,n=!1);e.memory||(n=!1),t=!1,o&&(s=n?[]:"")},c={add:function(){return s&&(n&&!t&&(a=s.length-1,r.push(n)),function t(n){w.each(n,(function(n,i){m(i)?e.unique&&c.has(i)||s.push(i):i&&i.length&&"string"!==y(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return w.each(arguments,(function(e,t){for(var n;(n=w.inArray(t,s,n))>-1;)s.splice(n,1),n<=a&&a--})),this},has:function(e){return e?w.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=r=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=r=[],n||t||(s=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],r.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return w.Deferred((function(t){w.each(n,(function(n,i){var o=m(e[i[4]])&&e[i[4]];s[i[1]]((function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(t,i,o){var s=0;function r(t,n,i,o){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<s)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(c)?o?c.call(e,r(s,n,$,o),r(s,n,F,o)):(s++,c.call(e,r(s,n,$,o),r(s,n,F,o),r(s,n,$,n.notifyWith))):(i!==$&&(a=void 0,l=[e]),(o||n.resolveWith)(a,l))}},u=o?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,u.stackTrace),t+1>=s&&(i!==F&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),e.setTimeout(u))}}return w.Deferred((function(e){n[0][3].add(r(0,e,m(o)?o:$,e.notifyWith)),n[1][3].add(r(0,e,m(t)?t:$)),n[2][3].add(r(0,e,m(i)?i:F))})).promise()},promise:function(e){return null!=e?w.extend(e,o):o}},s={};return w.each(n,(function(e,t){var r=t[2],a=t[5];o[t[1]]=r.add,a&&r.add((function(){i=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith})),o.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,n=t,i=Array(n),o=s.call(arguments),r=w.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(j(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||m(o[n]&&o[n].then)))return r.then();for(;n--;)j(o[n],a(n),r.reject);return r.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&W.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout((function(){throw t}))};var B=w.Deferred();function z(){i.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),w.ready()}w.fn.ready=function(e){return B.then(e).catch((function(e){w.readyException(e)})),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||B.resolveWith(i,[w]))}}),w.ready.then=B.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(w.ready):(i.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var H=function(e,t,n,i,o,s,r){var a=0,l=e.length,c=null==n;if("object"===y(n))for(a in o=!0,n)H(e,t,a,n[a],!0,s,r);else if(void 0!==i&&(o=!0,m(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(w(e),n)})),t))for(;a<l;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return o?e:c?t.call(e):l?t(e[0],n):s},U=/^-ms-/,V=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function Y(e){return e.replace(U,"ms-").replace(V,G)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=w.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[Y(t)]=n;else for(i in t)o[Y(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in i?[t]:t.match(R)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Z=new K,X=new K,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function ee(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}X.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return X.hasData(e)||Z.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===e){if(this.length&&(o=X.get(s),1===s.nodeType&&!Z.get(s,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=Y(i.slice(5)),ee(s,i,o[i]));Z.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){X.set(this,e)})):H(this,(function(t){var n;if(s&&void 0===t)return void 0!==(n=X.get(s,e))||void 0!==(n=ee(s,e))?n:void 0;this.each((function(){X.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){X.remove(this,e)}))}}),w.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z.get(e,t),n&&(!i||Array.isArray(n)?i=Z.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,o=n.shift(),s=w._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete s.stop,o.call(e,(function(){w.dequeue(e,t)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:w.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each((function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){w.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=w.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(n=Z.get(s[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,i){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in o=n.apply(e,i||[]),t)e.style[s]=r[s];return o};function re(e,t,n,i){var o,s,r=20,a=i?function(){return i.cur()}:function(){return w.css(e,t,"")},l=a(),c=n&&n[3]||(w.cssNumber[t]?"":"px"),u=(w.cssNumber[t]||"px"!==c&&+l)&&ne.exec(w.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;r--;)w.style(e,t,u+c),(1-s)*(1-(s=a()/l||.5))<=0&&(r=0),u/=s;u*=2,w.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}var ae={};function le(e){var t,n=e.ownerDocument,i=e.nodeName,o=ae[i];return o||(t=n.body.appendChild(n.createElement(i)),o=w.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ae[i]=o,o)}function ce(e,t){for(var n,i,o=[],s=0,r=e.length;s<r;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(o[s]=Z.get(i,"display")||null,o[s]||(i.style.display="")),""===i.style.display&&oe(i)&&(o[s]=le(i))):"none"!==n&&(o[s]="none",Z.set(i,"display",n)));for(s=0;s<r;s++)null!=o[s]&&(e[s].style.display=o[s]);return e}w.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){oe(this)?w(this).show():w(this).hide()}))}});var ue=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?w.merge([e],n):n}function me(e,t){for(var n=0,i=e.length;n<i;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td;var ge,ve,be=/<|&#?\w+;/;function ye(e,t,n,i,o){for(var s,r,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===y(s))w.merge(h,s.nodeType?[s]:s);else if(be.test(s)){for(r=r||d.appendChild(t.createElement("div")),a=(de.exec(s)||["",""])[1].toLowerCase(),l=pe[a]||pe._default,r.innerHTML=l[1]+w.htmlPrefilter(s)+l[2],u=l[0];u--;)r=r.lastChild;w.merge(h,r.childNodes),(r=d.firstChild).textContent=""}else h.push(t.createTextNode(s));for(d.textContent="",p=0;s=h[p++];)if(i&&w.inArray(s,i)>-1)o&&o.push(s);else if(c=w.contains(s.ownerDocument,s),r=fe(d.appendChild(s),"script"),c&&me(r),n)for(u=0;s=r[u++];)he.test(s.type||"")&&n.push(s);return d}ge=i.createDocumentFragment().appendChild(i.createElement("div")),(ve=i.createElement("input")).setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),ge.appendChild(ve),f.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue;var _e=i.documentElement,we=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function Ce(){return!1}function De(){try{return i.activeElement}catch(e){}}function Te(e,t,n,i,o,s){var r,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Te(e,a,n,i,t[a],s);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Ce;else if(!o)return e;return 1===s&&(r=o,o=function(e){return w().off(e),r.apply(this,arguments)},o.guid=r.guid||(r.guid=w.guid++)),e.each((function(){w.event.add(this,t,o,i,n)}))}w.event={global:{},add:function(e,t,n,i,o){var s,r,a,l,c,u,d,h,p,f,m,g=Z.get(e);if(g)for(n.handler&&(n=(s=n).handler,o=s.selector),o&&w.find.matchesSelector(_e,o),n.guid||(n.guid=w.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(R)||[""]).length;c--;)p=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=w.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=w.event.special[p]||{},u=w.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,r)||e.addEventListener&&e.addEventListener(p,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),w.event.global[p]=!0)},remove:function(e,t,n,i,o){var s,r,a,l,c,u,d,h,p,f,m,g=Z.hasData(e)&&Z.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(R)||[""]).length;c--;)if(p=m=(a=xe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||w.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[c],n,i,!0);w.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,s,r,a=w.event.fix(e),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],u=w.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(r=w.event.handlers.call(this,a,c),t=0;(o=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((w.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,s,r,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],r={},n=0;n<l;n++)void 0===r[o=(i=t[n]).selector+" "]&&(r[o]=i.needsContext?w(o,this).index(c)>-1:w.find(o,this,null,[c]).length),r[o]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==De()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===De()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(e){return E(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,o=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),w.fn.extend({on:function(e,t,n,i){return Te(this,e,t,n,i)},one:function(e,t,n,i){return Te(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each((function(){w.event.remove(this,e,n,t)}))}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Ae(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,i,o,s,r,a,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(s=Z.access(e),r=Z.set(t,s),c=s.events))for(o in delete r.handle,r.events={},c)for(n=0,i=c[o].length;n<i;n++)w.event.add(t,o,c[o][n]);X.hasData(e)&&(a=X.access(e),l=w.extend({},a),X.set(t,l))}}function Re(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ue.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function $e(e,t,n,i){t=r.apply([],t);var o,s,a,l,c,u,d=0,h=e.length,p=h-1,g=t[0],v=m(g);if(v||h>1&&"string"==typeof g&&!f.checkClone&&Oe.test(g))return e.each((function(o){var s=e.eq(o);v&&(t[0]=g.call(this,o,s.html())),$e(s,t,n,i)}));if(h&&(s=(o=ye(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=s),s||i)){for(l=(a=w.map(fe(o,"script"),Ae)).length;d<h;d++)c=o,d!==p&&(c=w.clone(c,!0,!0),l&&w.merge(a,fe(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,w.map(a,Pe),d=0;d<l;d++)c=a[d],he.test(c.type||"")&&!Z.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(c.src):b(c.textContent.replace(Le,""),u,c))}return e}function Fe(e,t,n){for(var i,o=t?w.filter(t,e):e,s=0;null!=(i=o[s]);s++)n||1!==i.nodeType||w.cleanData(fe(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&me(fe(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ee,"<$1></$2>")},clone:function(e,t,n){var i,o,s,r,a=e.cloneNode(!0),l=w.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(r=fe(a),i=0,o=(s=fe(e)).length;i<o;i++)Re(s[i],r[i]);if(t)if(n)for(s=s||fe(e),r=r||fe(a),i=0,o=s.length;i<o;i++)Ie(s[i],r[i]);else Ie(e,a);return(r=fe(a,"script")).length>0&&me(r,!l&&fe(e,"script")),a},cleanData:function(e){for(var t,n,i,o=w.event.special,s=0;void 0!==(n=e[s]);s++)if(q(n)){if(t=n[Z.expando]){if(t.events)for(i in t.events)o[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[Z.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return H(this,(function(e){return void 0===e?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return $e(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)}))},prepend:function(){return $e(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ne(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return $e(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return w.clone(this,e,t)}))},html:function(e){return H(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!pe[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return $e(this,arguments,(function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(fe(this)),n&&n.replaceChild(t,this))}),e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){w.fn[e]=function(e){for(var n,i=[],o=w(e),s=o.length-1,r=0;r<=s;r++)n=r===s?this:this.clone(!0),w(o[r])[t](n),a.apply(i,n.get());return this.pushStack(i)}}));var je=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),We=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(ie.join("|"),"i");function ze(e,t,n){var i,o,s,r,a=e.style;return(n=n||We(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(r=w.style(e,t)),!f.pixelBoxStyles()&&je.test(r)&&Be.test(t)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_e.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);o="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),s=36===n(t.width),u.style.position="absolute",r=36===u.offsetWidth||"absolute",_e.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var o,s,r,a,l,c=i.createElement("div"),u=i.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return t(),s},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),r}}))}();var Ue=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},qe=["Webkit","Moz","ms"],Ke=i.createElement("div").style;function Ze(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Ke)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Ke)return e}(e)||e),t}function Xe(e,t,n){var i=ne.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,o,s){var r="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;r<4;r+=2)"margin"===n&&(l+=w.css(e,n+ie[r],!0,o)),i?("content"===n&&(l-=w.css(e,"padding"+ie[r],!0,o)),"margin"!==n&&(l-=w.css(e,"border"+ie[r]+"Width",!0,o))):(l+=w.css(e,"padding"+ie[r],!0,o),"padding"!==n?l+=w.css(e,"border"+ie[r]+"Width",!0,o):a+=w.css(e,"border"+ie[r]+"Width",!0,o));return!i&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-a-.5))),l}function Qe(e,t,n){var i=We(e),o=ze(e,t,i),s="border-box"===w.css(e,"boxSizing",!1,i),r=s;if(je.test(o)){if(!n)return o;o="auto"}return r=r&&(f.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,i))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],r=!0),(o=parseFloat(o)||0)+Je(e,t,n||(s?"border":"content"),r,i,o)+"px"}function et(e,t,n,i,o){return new et.prototype.init(e,t,n,i,o)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=Y(t),l=Ve.test(t),c=e.style;if(l||(t=Ze(a)),r=w.cssHooks[t]||w.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:c[t];"string"===(s=typeof n)&&(o=ne.exec(n))&&o[1]&&(n=re(e,t,o),s="number"),null!=n&&n==n&&("number"===s&&(n+=o&&o[3]||(w.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var o,s,r,a=Y(t);return Ve.test(t)||(t=Ze(a)),(r=w.cssHooks[t]||w.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,n)),void 0===o&&(o=ze(e,t,i)),"normal"===o&&t in Ye&&(o=Ye[t]),""===n||n?(s=parseFloat(o),!0===n||isFinite(s)?s||0:o):o}}),w.each(["height","width"],(function(e,t){w.cssHooks[t]={get:function(e,n,i){if(n)return!Ue.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,i):se(e,Ge,(function(){return Qe(e,t,i)}))},set:function(e,n,i){var o,s=We(e),r="border-box"===w.css(e,"boxSizing",!1,s),a=i&&Je(e,t,i,r,s);return r&&f.scrollboxSize()===s.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-Je(e,t,"border",!1,s)-.5)),a&&(o=ne.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Xe(0,n,a)}}})),w.cssHooks.marginLeft=He(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+ie[i]+t]=s[i]||s[i-2]||s[0];return o}},"margin"!==e&&(w.cssHooks[e+t].set=Xe)})),w.fn.extend({css:function(e,t){return H(this,(function(e,t,n){var i,o,s={},r=0;if(Array.isArray(t)){for(i=We(e),o=t.length;r<o;r++)s[t[r]]=w.css(e,t[r],!1,i);return s}return void 0!==n?w.style(e,t,n):w.css(e,t)}),e,t,arguments.length>1)}}),w.Tween=et,et.prototype={constructor:et,init:function(e,t,n,i,o,s){this.elem=e,this.prop=n,this.easing=o||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=et.prototype.init,w.fx.step={};var tt,nt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){nt&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(st):e.setTimeout(st,w.fx.interval),w.fx.tick())}function rt(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function at(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=ie[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function lt(e,t,n){for(var i,o=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),s=0,r=o.length;s<r;s++)if(i=o[s].call(n,t,e))return i}function ct(e,t,n){var i,o,s=0,r=ct.prefilters.length,a=w.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=tt||rt(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),s=0,r=c.tweens.length;s<r;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),i<1&&r?n:(r||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||rt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,o,s,r;for(n in e)if(o=t[i=Y(n)],s=e[n],Array.isArray(s)&&(o=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(r=w.cssHooks[i])&&"expand"in r)for(n in s=r.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=o);else t[i]=o}(u,c.opts.specialEasing);s<r;s++)if(i=ct.prefilters[s].call(c,e,u,c.opts))return m(i.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return w.map(u,lt,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return re(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,i=0,o=e.length;i<o;i++)n=e[i],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,s,r,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&oe(e),g=Z.get(e,"fxshow");for(i in n.queue||(null==(r=w._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always((function(){h.always((function(){r.unqueued--,w.queue(e,"fx").length||r.empty.fire()}))}))),t)if(o=t[i],it.test(o)){if(delete t[i],s=s||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||w.style(e,i)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Z.get(e,"display")),"none"===(u=w.css(e,"display"))&&(c?u=c:(ce([e],!0),c=e.style.display||c,u=w.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(e,"float")&&(l||(h.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Z.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&ce([e],!0),h.done((function(){for(i in m||ce([e]),Z.remove(e,"fxshow"),p)w.style(e,i,p[i])}))),l=lt(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=w.isEmptyObject(e),s=w.speed(t,n,i),r=function(){var t=ct(this,w.extend({},e),s);(o||Z.get(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",s=w.timers,r=Z.get(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&ot.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(n),t=!1,s.splice(o,1));!t&&n||w.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],s=w.timers,r=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),w.each(["toggle","show","hide"],(function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(at(t,!0),e,i,o)}})),w.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),tt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){nt||(nt=!0,st())},w.fx.stop=function(){nt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx&&w.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var o=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(o)}}))},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var ut,dt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return H(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){w.removeAttr(this,e)}))}}),w.extend({attr:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?w.prop(e,t,n):(1===s&&w.isXMLDoc(e)||(o=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(R);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=dt[t]||w.find.attr;dt[t]=function(e,t,i){var o,s,r=t.toLowerCase();return i||(s=dt[r],dt[r]=o,o=null!=n(e,t,i)?r:null,dt[r]=s),o}}));var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ft(e){return(e.match(R)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}w.fn.extend({prop:function(e,t){return H(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[w.propFix[e]||e]}))}}),w.extend({prop:function(e,t,n){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&w.isXMLDoc(e)||(t=w.propFix[t]||t,o=w.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(e){var t,n,i,o,s,r,a,l=0;if(m(e))return this.each((function(t){w(this).addClass(e.call(this,t,mt(this)))}));if((t=gt(e)).length)for(;n=this[l++];)if(o=mt(n),i=1===n.nodeType&&" "+ft(o)+" "){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");o!==(a=ft(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,o,s,r,a,l=0;if(m(e))return this.each((function(t){w(this).removeClass(e.call(this,t,mt(this)))}));if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[l++];)if(o=mt(n),i=1===n.nodeType&&" "+ft(o)+" "){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");o!==(a=ft(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)})):this.each((function(){var t,o,s,r;if(i)for(o=0,s=w(this),r=gt(e);t=r[o++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+ft(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;w.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=m(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,w(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=w.map(o,(function(e){return null==e?"":e+""}))),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(vt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:ft(w.text(e))}},select:{get:function(e){var t,n,i,o=e.options,s=e.selectedIndex,r="select-one"===e.type,a=r?null:[],l=r?s+1:o.length;for(i=s<0?l:r?s:0;i<l;i++)if(((n=o[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=w(n).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var n,i,o=e.options,s=w.makeArray(t),r=o.length;r--;)((i=o[r]).selected=w.inArray(w.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},f.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),f.focusin="onfocusin"in e;var bt=/^(?:focusinfocus|focusoutblur)$/,yt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,o,s){var r,a,l,c,u,h,p,f,v=[o||i],b=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(a=f=l=o=o||i,3!==o.nodeType&&8!==o.nodeType&&!bt.test(b+w.event.triggered)&&(b.indexOf(".")>-1&&(y=b.split("."),b=y.shift(),y.sort()),u=b.indexOf(":")<0&&"on"+b,(t=t[w.expando]?t:new w.Event(b,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:w.makeArray(n,[t]),p=w.event.special[b]||{},s||!p.trigger||!1!==p.trigger.apply(o,n))){if(!s&&!p.noBubble&&!g(o)){for(c=p.delegateType||b,bt.test(c+b)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(o.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||e)}for(r=0;(a=v[r++])&&!t.isPropagationStopped();)f=a,t.type=r>1?c:p.bindType||b,(h=(Z.get(a,"events")||{})[t.type]&&Z.get(a,"handle"))&&h.apply(a,n),(h=u&&a[u])&&h.apply&&q(a)&&(t.result=h.apply(a,n),!1===t.result&&t.preventDefault());return t.type=b,s||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!q(o)||u&&m(o[b])&&!g(o)&&((l=o[u])&&(o[u]=null),w.event.triggered=b,t.isPropagationStopped()&&f.addEventListener(b,yt),o[b](),t.isPropagationStopped()&&f.removeEventListener(b,yt),w.event.triggered=void 0,l&&(o[u]=l)),t.result}},simulate:function(e,t,n){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each((function(){w.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),f.focusin||w.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=Z.access(i,t);o||i.addEventListener(e,n,!0),Z.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=Z.access(i,t)-1;o?Z.access(i,t,o):(i.removeEventListener(e,n,!0),Z.remove(i,t))}}}));var _t=e.location,wt=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var xt=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,i){var o;if(Array.isArray(t))w.each(t,(function(t,o){n||xt.test(e)?i(e,o):Tt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==y(t))i(e,t);else for(o in t)Tt(e+"["+o+"]",t[o],n,i)}w.param=function(e,t){var n,i=[],o=function(e,t){var n=m(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,(function(){o(this.name,this.value)}));else for(n in e)Tt(n,e[n],t,o);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Dt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!ue.test(e))})).map((function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}});var Et=/%20/g,Mt=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,At=/^\/\//,Pt={},It={},Rt="*/".concat("*"),$t=i.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,s=t.toLowerCase().match(R)||[];if(m(n))for(;i=s[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function jt(e,t,n,i){var o={},s=e===It;function r(a){var l;return o[a]=!0,w.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function Wt(e,t){var n,i,o=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&w.extend(!0,e,i),e}$t.href=_t.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,w.ajaxSettings),t):Wt(w.ajaxSettings,e)},ajaxPrefilter:Ft(Pt),ajaxTransport:Ft(It),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var o,s,r,a,l,c,u,d,h,p,f=w.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),b=w.Callbacks("once memory"),y=f.statusCode||{},_={},k={},x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Lt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=k[e.toLowerCase()]=k[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),C(0,t),this}};if(v.promise(S),f.url=((t||f.url||_t.href)+"").replace(At,_t.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(R)||[""],null==f.crossDomain){c=i.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=$t.protocol+"//"+$t.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),jt(Pt,f,n,S),u)return S;for(h in(d=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Nt.test(f.type),s=f.url.replace(Mt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Et,"+")):(p=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(kt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Ot,"$1"),p=(kt.test(s)?"&":"?")+"_="+wt+++p),f.url=s+p),f.ifModified&&(w.lastModified[s]&&S.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&S.setRequestHeader("If-None-Match",w.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,S,f)||u))return S.abort();if(x="abort",b.add(f.complete),S.done(f.success),S.fail(f.error),o=jt(It,f,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,f]),u)return S;f.async&&f.timeout>0&&(l=e.setTimeout((function(){S.abort("timeout")}),f.timeout));try{u=!1,o.send(_,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(t,n,i,a){var c,h,p,_,k,x=n;u||(u=!0,l&&e.clearTimeout(l),o=void 0,r=a||"",S.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(_=function(e,t,n){for(var i,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)s=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),n[s]}(f,S,i)),_=function(e,t,n,i){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,_,S,c),c?(f.ifModified&&((k=S.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=k),(k=S.getResponseHeader("etag"))&&(w.etag[s]=k)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=_.state,h=_.data,c=!(p=_.error))):(p=x,!t&&x||(x="error",t<0&&(t=0))),S.status=t,S.statusText=(n||x)+"",c?v.resolveWith(m,[h,x,S]):v.rejectWith(m,[S,x,p]),S.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?h:p]),b.fireWith(m,[S,x]),d&&(g.trigger("ajaxComplete",[S,f]),--w.active||w.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],(function(e,t){w[t]=function(e,n,i,o){return m(n)&&(o=o||i,i=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:o,data:n,success:i},w.isPlainObject(e)&&e))}})),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){w(this).wrapInner(e.call(this,t))})):this.each((function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){w(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},zt=w.ajaxSettings.xhr();f.cors=!!zt&&"withCredentials"in zt,f.ajax=zt=!!zt,w.ajaxTransport((function(t){var n,i;if(f.cors||zt&&!t.crossDomain)return{send:function(o,s){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(r,o[r]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),w.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),w.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(o,s){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ht,Ut=[],Vt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||w.expando+"_"+wt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",(function(t,n,i){var o,s,r,a=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Vt,"$1"+o):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||w.error(o+" was not called"),r[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},i.always((function(){void 0===s?w(e).removeProp(o):e[o]=s,t[o]&&(t.jsonpCallback=n.jsonpCallback,Ut.push(o)),r&&m(s)&&s(r[0]),r=s=void 0})),"script"})),f.createHTMLDocument=((Ht=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((o=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(o)):t=i),r=!n&&[],(s=M.exec(e))?[t.createElement(s[1])]:(s=ye([e],t,r),r&&r.length&&w(r).remove(),w.merge([],s.childNodes)));var o,s,r},w.fn.load=function(e,t,n){var i,o,s,r=this,a=e.indexOf(" ");return a>-1&&(i=ft(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&w.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){s=arguments,r.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)})).always(n&&function(e,t){r.each((function(){n.apply(this,s||[e.responseText,t,e])}))}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){w.fn[t]=function(e){return this.on(t,e)}})),w.expr.pseudos.animated=function(e){return w.grep(w.timers,(function(t){return e===t.elem})).length},w.offset={setOffset:function(e,t,n){var i,o,s,r,a,l,c=w.css(e,"position"),u=w(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=w.css(e,"top"),l=w.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(r=(i=u.position()).top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),m(t)&&(t=t.call(e,n,w.extend({},a))),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){w.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),o.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-w.css(i,"marginTop",!0),left:t.left-o.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||_e}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;w.fn[e]=function(i){return H(this,(function(e,i,o){var s;if(g(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===o)return s?s[t]:e[i];s?s.scrollTo(n?s.pageXOffset:o,n?o:s.pageYOffset):e[i]=o}),e,i,arguments.length)}})),w.each(["top","left"],(function(e,t){w.cssHooks[t]=He(f.pixelPosition,(function(e,n){if(n)return n=ze(e,t),je.test(n)?w(e).position()[t]+"px":n}))})),w.each({Height:"height",Width:"width"},(function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){w.fn[i]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===s?"margin":"border");return H(this,(function(t,n,o){var s;return g(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===o?w.css(t,n,a):w.style(t,n,o,a)}),t,r?o:void 0,r)}}))})),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return i=s.call(arguments,2),o=function(){return e.apply(t||this,i.concat(s.call(arguments)))},o.guid=e.guid=e.guid||w.guid++,o},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=m,w.isWindow=g,w.camelCase=Y,w.type=y,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var Gt=e.jQuery,Yt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Yt),t&&e.jQuery===w&&(e.jQuery=Gt),w},t||(e.jQuery=e.$=w),w})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){e.ui=e.ui||{};e.ui.version="1.12.1";var t,n=0,i=Array.prototype.slice;e.cleanData=(t=e.cleanData,function(n){var i,o,s;for(s=0;null!=(o=n[s]);s++)try{(i=e._data(o,"events"))&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var o,s,r,a={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(r=new n).options=e.widget.extend({},r.options),e.each(i,(function(t,i){e.isFunction(i)?a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=n,this._superApply=s,t}}():a[t]=i})),s.prototype=e.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:c}),o?(e.each(o._childConstructors,(function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)})),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,o,s=i.call(arguments,1),r=0,a=s.length;r<a;r++)for(n in s[r])o=s[r][n],s[r].hasOwnProperty(n)&&void 0!==o&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(s){var r="string"==typeof s,a=i.call(arguments,1),l=this;return r?this.length||"instance"!==s?this.each((function(){var n,i=e.data(this,o);return"instance"===s?(l=i,!1):i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")})):l=void 0:(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each((function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new n(s,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,n){t._removeClass(n,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)o[i[s]]=o[i[s]]||{},o=o[i[s]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=n}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(i=e(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function o(o,s){var r,a;for(a=0;a<o.length;a++)r=i.classesElementLookup[o[a]]||e(),r=t.add?e(e.unique(r.get().concat(t.element.get()))):e(r.not(t.element).get()),i.classesElementLookup[o[a]]=r,n.push(o[a]),s&&t.classes[o[a]]&&n.push(t.classes[o[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&o(t.keys.match(/\S+/g)||[],!0),t.extra&&o(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,(function(i,o){-1!==e.inArray(t.target,o)&&(n.classesElementLookup[i]=e(o.not(t.target).get()))}))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof e||null===e,s={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i};return s.element.toggleClass(this._classes(s),i),this},_on:function(t,n,i){var o,s=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=o=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),e.each(i,(function(i,r){function a(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof r?s[r]:r).apply(s,arguments)}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.on(c,u,a):n.on(c,a)}))},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout((function(){return("string"==typeof e?n[e]:e).apply(n,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var o,s,r=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(o in s)o in n||(n[o]=s[o]);return this.element.trigger(n,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,n){e.Widget.prototype["_"+t]=function(i,o,s){var r;"string"==typeof o&&(o={effect:o});var a=o?!0===o||"number"==typeof o?n:o.effect||n:t;"number"==typeof(o=o||{})&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&i.delay(o.delay),r&&e.effects&&e.effects.effect[a]?i[t](o):a!==t&&i[a]?i[a](o.duration,o.easing,s):i.queue((function(n){e(this)[t](),s&&s.call(i[0]),n()}))}}));e.widget;!function(){var t,n=Math.max,i=Math.abs,o=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=e.fn.position;function u(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function d(t,n){return parseInt(e.css(t,n),10)||0}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,i,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=o.children()[0];return e("body").append(o),n=s.offsetWidth,o.css("overflow","scroll"),n===(i=s.offsetWidth)&&(i=o[0].clientWidth),o.remove(),t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:!i&&!o?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,h,p,f,m,g,v,b,y=e(t.of),_=e.position.getWithinInfo(t.within),w=e.position.getScrollInfo(_),k=(t.collision||"flip").split(" "),x={};return g=9===(b=(v=y)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:e.isWindow(b)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},y[0].preventDefault&&(t.at="left top"),h=g.width,p=g.height,f=g.offset,m=e.extend({},f),e.each(["my","at"],(function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=o.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=o.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=r.exec(i[0]),n=r.exec(i[1]),x[this]=[e?e[0]:0,n?n[0]:0],t[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]})),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?m.left+=h:"center"===t.at[0]&&(m.left+=h/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),l=u(x.at,h,p),m.left+=l[0],m.top+=l[1],this.each((function(){var o,s,r=e(this),a=r.outerWidth(),c=r.outerHeight(),g=d(this,"marginLeft"),v=d(this,"marginTop"),b=a+g+d(this,"marginRight")+w.width,S=c+v+d(this,"marginBottom")+w.height,C=e.extend({},m),D=u(x.my,r.outerWidth(),r.outerHeight());"right"===t.my[0]?C.left-=a:"center"===t.my[0]&&(C.left-=a/2),"bottom"===t.my[1]?C.top-=c:"center"===t.my[1]&&(C.top-=c/2),C.left+=D[0],C.top+=D[1],o={marginLeft:g,marginTop:v},e.each(["left","top"],(function(n,i){e.ui.position[k[n]]&&e.ui.position[k[n]][i](C,{targetWidth:h,targetHeight:p,elemWidth:a,elemHeight:c,collisionPosition:o,collisionWidth:b,collisionHeight:S,offset:[l[0]+D[0],l[1]+D[1]],my:t.my,at:t.at,within:_,elem:r})})),t.using&&(s=function(e){var o=f.left-C.left,s=o+h-a,l=f.top-C.top,u=l+p-c,d={target:{element:y,left:f.left,top:f.top,width:h,height:p},element:{element:r,left:C.left,top:C.top,width:a,height:c},horizontal:s<0?"left":o>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};h<a&&i(o+s)<h&&(d.horizontal="center"),p<c&&i(l+u)<p&&(d.vertical="middle"),n(i(o),i(s))>n(i(l),i(u))?d.important="horizontal":d.important="vertical",t.using.call(this,e,d)}),r.offset(e.extend(C,{using:s}))}))},e.ui.position={fit:{left:function(e,t){var i,o=t.within,s=o.isWindow?o.scrollLeft:o.offset.left,r=o.width,a=e.left-t.collisionPosition.marginLeft,l=s-a,c=a+t.collisionWidth-r-s;t.collisionWidth>r?l>0&&c<=0?(i=e.left+l+t.collisionWidth-r-s,e.left+=l-i):e.left=c>0&&l<=0?s:l>c?s+r-t.collisionWidth:s:l>0?e.left+=l:c>0?e.left-=c:e.left=n(e.left-a,e.left)},top:function(e,t){var i,o=t.within,s=o.isWindow?o.scrollTop:o.offset.top,r=t.within.height,a=e.top-t.collisionPosition.marginTop,l=s-a,c=a+t.collisionHeight-r-s;t.collisionHeight>r?l>0&&c<=0?(i=e.top+l+t.collisionHeight-r-s,e.top+=l-i):e.top=c>0&&l<=0?s:l>c?s+r-t.collisionHeight:s:l>0?e.top+=l:c>0?e.top-=c:e.top=n(e.top-a,e.top)}},flip:{left:function(e,t){var n,o,s=t.within,r=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+h+p+f+t.collisionWidth-a-r)<0||n<i(u))&&(e.left+=h+p+f):d>0&&((o=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||i(o)<d)&&(e.left+=h+p+f)},top:function(e,t){var n,o,s=t.within,r=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];u<0?((o=e.top+h+p+f+t.collisionHeight-a-r)<0||o<i(u))&&(e.top+=h+p+f):d>0&&((n=e.top-t.collisionPosition.marginTop+h+p+f-l)>0||i(n)<d)&&(e.top+=h+p+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();var o;e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(n){return!!e.data(n,t)}})):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:(o="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(o+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});e.ui.focusable=function(t,n){var i,o,s,r,a,l=t.nodeName.toLowerCase();return"area"===l?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&((s=e("img[usemap='#"+o+"']")).length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(r=!t.disabled)&&(a=e(t).closest("fieldset")[0])&&(r=!a.disabled):r="a"===l&&t.href||n,r&&e(t).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},e.fn.extend({uniqueId:(s=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++s)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var s,r=!1;e(document).on("mouseup",(function(){r=!1}));e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,i){var o,s=e.ui[t].prototype;for(o in i)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([n,i[o]])},call:function(e,t,n,i){var o,s=e.plugins[t];if(s&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,n)}},e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",t)&&n._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),o=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options,s=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(n=e(o.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=o.containment:this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var o=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each((function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,o))}))},stop:function(t,n,i){var o=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,(function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))}))},drag:function(t,n,i){e.each(i.sortables,(function(){var o=!1,s=this;s.positionAbs=i.positionAbs,s.helperProportions=i.helperProportions,s.offset.click=i.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o}))),o?(s.isOver||(s.isOver=1,i._parent=n.helper.parent(),s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=i.offset.click.top,s.offset.click.left=i.offset.click.left,s.offset.parent.left-=i.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=i.offset.parent.top-s.offset.parent.top,i._trigger("toSortable",t),i.dropped=s.element,e.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,s.fromOutside=i),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var o=e("body"),s=i.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,n,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var o=e(n.helper),s=i.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,n,i){var o=i.options;o._opacity&&e(n.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var o=i.options,s=!1,r=i.scrollParentNotHidden[0],a=i.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})}))},drag:function(t,n,i){var o,s,r,a,l,c,u,d,h,p,f=i.options,m=f.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)c=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(u=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,v<l-m||g>c+m||y<u-m||b>d+m||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=Math.abs(u-y)<=m,s=Math.abs(d-b)<=m,r=Math.abs(l-v)<=m,a=Math.abs(c-g)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=o||s||r||a,"outer"!==f.snapMode&&(o=Math.abs(u-b)<=m,s=Math.abs(d-y)<=m,r=Math.abs(l-g)<=m,a=Math.abs(c-v)<=m,o&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),s&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),r&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(o||s||r||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=o||s||r||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var o,s=i.options,r=e.makeArray(e(s.stack)).sort((function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)}));r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each((function(t){e(this).css("zIndex",o+t)})),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var o=e(n.helper),s=i.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,n,i){var o=i.options;o._zIndex&&e(n.helper).css("zIndex",o._zIndex)}});e.ui.draggable;e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,o=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&a(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return o=!0,!1})),!o&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var a=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,o){if(!n.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=r+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=s&&a<=d&&u<=r&&l<=h;case"intersect":return c<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<d&&u<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(o.pageY,u,n.proportions().height)&&e(o.pageX,c,n.proportions().width);case"touch":return(r>=u&&r<=h||l>=u&&l<=h||r<u&&l>h)&&(s>=c&&s<=d||a>=c&&a<=d||s<c&&a>d);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(o=0;o<a.length;o++)if(a[o]===s[i].element[0]){s[i].proportions().height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===r&&s[i]._activate.call(s[i],n),s[i].offset=s[i].element.offset(),s[i].proportions({width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&a(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}))},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,o,s,r=a(t,this,this.options.tolerance,n),l=!r&&this.isover?"isout":r&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===o}))).length&&((i=e(s[0]).droppable("instance")).greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable;e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,odoo_isRTL:!1,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i,o=n&&"left"===n?"scrollLeft":"scrollTop";return t[o]>0||(t[o]=1,i=t[o]>0,t[o]=0,i)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",(function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())})).on("mouseleave",(function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){if(this._super(e,t),"handles"===e)this._removeHandles(),this._setupHandles()},_setupHandles:function(){var t,n,i,o,s,r=this.options,a=this;if(this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)o="ui-resizable-"+(t=e.trim(i[n])),s=e("<div>"),this._addClass(s,"ui-resizable-handle "+o),s.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(s);this._renderAxis=function(t){var n,i,o,s;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),o=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")})),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,o=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var n,i,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,o=this.originalMousePosition,s=this.axis,r=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[s];return r=this.options.odoo_isRTL?-r:r,this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,o,s,r,a,l,c=this.options,u=this;return this._helper&&(o=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,s=i?0:u.sizeDiff.width,r={width:u.helper.width()-s,height:u.helper.height()-o},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),n<s.maxWidth&&(s.maxWidth=n),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),r&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),i&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(o[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,o=n._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&n._hasScroll(o[0],"left")?0:n.sizeDiff.height,a=s?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-r},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};o&&o.length&&e(o[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,o,s,r,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each((function(e,i){n[e]=l._num(t.css("padding"+i))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:i.left,top:i.top,width:r,height:a}))},resize:function(t){var n,i,o,s,r=e(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),n=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),n+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-n,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,o=t.containerPosition,s=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-o.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})}))},resize:function(t,n){var i=e(this).resizable("instance"),o=i.options,s=i.originalSize,r=i.originalPosition,a={height:i.size.height-s.height||0,width:i.size.width-s.width||0,top:i.position.top-r.top||0,left:i.position.left-r.left||0};e(o.alsoResize).each((function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,(function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)})),t.css(o)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,o=n.size,s=n.originalSize,r=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-s.width)/c)*c,h=Math.round((o.height-s.height)/u)*u,p=s.width+d,f=s.height+h,m=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),b&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=r.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=r.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=r.top-h):(f=u-t.height,n.size.height=f,n.position.top=r.top+s.height-f),p-c>0?(n.size.width=p,n.options.odoo_isRTL?n.position.left=r.left+d:n.position.left=r.left-d):(p=c-t.width,n.size.width=p,n.options.odoo_isRTL?n.position.left=r.left-s.width+p:n.position.left=r.left+s.width-p))}});e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each((function(){var n=e(this),i=n.offset(),o={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:o.left,top:o.top,right:o.left+n.outerWidth(),bottom:o.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))})),e(t.target).parents().addBack().each((function(){var i,o=e.data(this,"selectable-item");if(o)return i=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),n._removeClass(o.$element,i?"ui-unselecting":"ui-selected")._addClass(o.$element,i?"ui-selecting":"ui-unselecting"),o.unselecting=!i,o.selecting=i,o.selected=i,i?n._trigger("selecting",t,{selecting:o.element}):n._trigger("unselecting",t,{unselecting:o.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,o=this.options,s=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(n=a,a=s,s=n),r>l&&(n=l,l=r,r=n),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each((function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===o.tolerance?c=!(u.left>a||u.right<s||u.top>l||u.bottom<r):"fit"===o.tolerance&&(c=u.left>s&&u.right<a&&u.top>r&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))})),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})})),e(".ui-selecting",this.element[0]).each((function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,o=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,s.widgetName+"-item")===s)return i=e(this),!1})),e.data(t.target,s.widgetName+"-item")===s&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each((function(){this===t.target&&(o=!0)})),!o))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===o||e.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],o))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,(function(){i._clear(t)}))}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each((function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))})),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each((function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")})),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,h="y"===this.options.axis||t+u>s&&t+u<r,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<r&&a<i+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!o)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,o,s,r=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(i=(o=e(l[n],this.document[0])).length-1;i>=0;i--)(s=e.data(o[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);function c(){r.push(this)}for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(c);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,o,s,r,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(o=e(h[n],this.document[0])).length-1;i>=0;i--)(s=e.data(o[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(d.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=d.length-1;n>=0;n--)for(r=d[n][1],i=0,c=(a=d[n][0]).length;i<c;i++)(l=e(a[i])).data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,o,s;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),s=o.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+i+">",t.document[0]);return t._addClass(o,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===i?t._createTrPlaceholder(t.currentItem,o):"img"===i&&o.attr("src",t.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(e,o){n&&!i.forcePlaceholderSize||(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each((function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(t){var n,i,o,s,r,a,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,s=null,r=(u=h.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[r],c=!1,t[d]-l>this.items[i][a]/2&&(c=!0),Math.abs(t[d]-l)<o&&(o=Math.abs(t[d]-l),s=this.items[i],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],n=e(o.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*i}},_generatePosition:function(t){var n,i,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!i)}))},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}for(this.fromOutside&&!t&&i.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(i.push((function(e){this._trigger("remove",e,this._uiHash())})),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(o("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(o("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()}))},_keydown:function(t){var n,i,o,s,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,i=this.previousFilter||"",s=!1,o=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),o===i?s=!0:o=i+o,n=this._filterMenuItems(o),(n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(o=String.fromCharCode(t.keyCode),n=this._filterMenuItems(o)),n.length?(this.focus(t,n),this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,o,s=this,r=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+r),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))})),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")})),o=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,o;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,o,s,r,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.outerHeight(),o<0?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,o;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i-o<0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,i,o;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=e(this)).offset().top-i+o>0})),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))}))}});e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=s||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:n=!0,this._searchTimeout(o)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(t,n){var i,o;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));o=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),(i=n.item.attr("aria-label")||o.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=o,this._delay((function(){this.previous=o,this.selectedItem=i}))),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,(function(e,n){i._renderItemData(t,n)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var l;e.ui.autocomplete;function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=u(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function u(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,d)}function d(){e.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function h(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return h(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,o,s;o="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(s=this._newInst(e(t),o)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?u(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,o,s,r=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),r&&(n.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(o=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[a?"before":"after"](n.trigger),n.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,o,s=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(n=0,i=0,o=0;o<e.length;o++)e[o].length>n&&(n=e[o].length,i=o);return i},s.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,s){var r,a,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(d=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",d)),h(d.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(d,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var n,i=e(t),o=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(o.append.remove(),o.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),l===o&&(l=null))},_enableDatepicker:function(t){var n,i,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,s.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var n,i,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,s.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var o,s,r,a,l=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null;o=n||{},"string"==typeof n&&((o={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),h(l.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==a&&void 0!==o.dateFormat&&void 0===o.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,s),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,o,s=e.datepicker._getInst(t.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return(o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv))[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),(n=e.datepicker._get(s,"onSelect"))?(i=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[i,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,o=e.datepicker._getInst(t.target);if(e.datepicker._get(o,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,i,o,s,r,a,l;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{})&&(h(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each((function(){return!(s|="fixed"===e(this).css("position"))})),r={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),r=e.datepicker._checkOffset(n,r,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),n.inline||(a=e.datepicker._get(n,"showAnim"),l=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[a]?n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,l=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),o=i[1],s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&d.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout((function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?o-r:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+o>l&&l>o?Math.abs(n.left+o-l):0),n.top-=Math.min(n.top,n.top+s>c&&c>s?Math.abs(s+a):0),n},_findPos:function(t){for(var n,i=this._getInst(t),o=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,o,s,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(r,"showAnim"),i=this._get(r,"duration"),o=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[n]||e.effects[n])?r.dpDiv.hide(n,e.datepicker._get(r,"showOptions"),i,o):r.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,o),n||o(),this._datepickerShowing=!1,(s=this._get(r,"onClose"))&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,n+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var n,i=e(t),o=this._getInst(i[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(n=new Date,o.selectedDay=n.getDate(),o.drawMonth=o.selectedMonth=n.getMonth(),o.drawYear=o.selectedYear=n.getFullYear()),this._notifyChange(o),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,n,i,o){var s,r=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((s=this._getInst(r[0])).selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,o=e(t),s=this._getInst(o[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),(i=this._get(s,"onSelect"))?i.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,o,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),o=this.formatDate(n,i,this._getFormatConfig(t)),e(s).val(o))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var o,s,r,a,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,_=function(e){var n=o+1<t.length&&t.charAt(o+1)===e;return n&&o++,n},w=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},k=function(t,i,o){var s=-1,r=e.map(_(t)?o:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(r,(function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return s=t[0],l+=i.length,!1})),-1!==s)return s+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<t.length;o++)if(y)"'"!==t.charAt(o)||_("'")?x():y=!1;else switch(t.charAt(o)){case"d":v=w("d");break;case"D":k("D",d,h);break;case"o":b=w("o");break;case"m":g=w("m");break;case"M":g=k("M",p,f);break;case"y":m=w("y");break;case"@":m=(a=new Date(w("@"))).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":m=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?x():y=!0;break;default:x()}if(l<n.length&&(r=n.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),b>-1)for(g=1,v=b;;){if(v<=(s=this._getDaysInMonth(m,g-1)))break;g++,v-=s}if((a=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,o=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),o,s);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),r,a);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,o=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||o("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":o("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,r=this._getFormatConfig(e);try{s=this.parseDate(n,i,r)||o}catch(e){i=t?"":i}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=i?s.getDate():0,e.currentMonth=i?s.getMonth():0,e.currentYear=i?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var o=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=i.getFullYear(),s=i.getMonth(),r=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(o,s))}l=a.exec(n)}return new Date(o,s,r)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,o=e.selectedMonth,s=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,o,s,r,a,l,c,u,d,h,p,f,m,g,v,b,y,_,w,k,x,S,C,D,T,E,M,O,L,N,A,P,I,R,$,F,j,W=new Date,B=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),z=this._get(e,"isRTL"),H=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),q=this._get(e,"stepMonths"),K=1!==G[0]||1!==G[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Q=e.drawMonth-Y,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-G[0]*G[1]+1,J.getDate())),t=X&&t<X?X:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-q,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+n+"</span></a>",o=this._get(e,"nextText"),o=V?this.formatDate(o,this._daylightSavingAdjust(new Date(ee,Q+q,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+o+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Z:B,r=V?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(z?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",k=0;k<G[0];k++){for(x="",this.maxRows=4,S=0;S<G[1];S++){if(C=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),D=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",G[1]>1)switch(S){case 0:T+=" ui-datepicker-group-first",D=" ui-corner-"+(z?"right":"left");break;case G[1]-1:T+=" ui-datepicker-group-last",D=" ui-corner-"+(z?"left":"right");break;default:T+=" ui-datepicker-group-middle",D=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===k?z?s:i:"")+(/all|right/.test(D)&&0===k?z?i:s:"")+this._generateMonthYearHeader(e,Q,ee,X,J,k>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)E+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[M=(w+u)%7]+"'>"+p[M]+"</span></th>";for(T+=E+"</tr></thead><tbody>",O=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,O)),L=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,N=Math.ceil((L+O)/7),A=K&&this.maxRows>N?this.maxRows:N,this.maxRows=A,P=this._daylightSavingAdjust(new Date(ee,Q,1-L)),I=0;I<A;I++){for(T+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",w=0;w<7;w++)$=g?g.apply(e.input?e.input[0]:null,[P]):[!0,""],j=(F=P.getMonth()!==Q)&&!b||!$[0]||X&&P<X||J&&P>J,R+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+$[1]+(P.getTime()===Z.getTime()?" "+this._currentClass:"")+(P.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===B.getTime()?" ui-state-highlight":"")+(P.getTime()===Z.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);T+=R+"</tr>"}++Q>11&&(Q=0,ee++),x+=T+="</tbody></table>"+(K?"</div>"+(G[0]>0&&S===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=x}return _+=c,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,o,s,r,a){var l,c,u,d,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(s||!g)_+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=o&&o.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=o.getMonth())&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");_+="</select>"}if(b||(y+=_+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!s&&g&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),o=e.selectedMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,o))+("D"===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,o,s)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),o=n&&t<n?n:t;return i&&o>i?i:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,i+(t<0?t:o[0]*o[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,i,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),r=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(r+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!r||t.getFullYear()>=r)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new c,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1";e.datepicker;e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(n,i);-1!==o&&i.splice(o,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n),"content"===t&&e.each(this.tooltips,(function(e,t){i._updateContent(t.element)}))},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,(function(n,i){var o=e.Event("blur");o.target=o.currentTarget=i.element[0],t.close(o,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})),this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each((function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,o=this,s=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,e,i);(n=i.call(e[0],(function(n){o._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,n))}))})))&&this._open(t,e,n)},_open:function(t,n,i){var o,s,r,a,l=e.extend({},this.options.position);function c(e){l.of=e,s.is(":hidden")||s.position(l)}i&&((o=this._find(n))?o.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=e("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:c}),c(t)):s.position(e.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval((function(){s.is(":visible")&&(c(l.of),clearInterval(r))}),e.fx.interval)),this._trigger("open",t,{tooltip:s})))},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,o=e(t?t.currentTarget:this.element),s=this._find(o);s?(n=s.tooltip,s.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),s.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(e(this))})),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]})),s.closing=!0,this._trigger("close",t,{tooltip:n}),s.hiding||(s.closing=!1))):o.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),o=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[o]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,(function(n,i){var o=e.Event("blur"),s=i.element;o.target=o.currentTarget=s[0],t.close(o,!0),e("#"+n).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip;var p,f="ui-effects-",m="ui-effects-style",g="ui-effects-animated",v=e;e.effects={effect:{}},function(e,t){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,o=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],s=e.Color=function(t,n,i,o){return new e.Color.fn.parse(t,n,i,o)},r={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=s.support={},c=e("<p>")[0],u=e.each;function d(e,t,n){var i=a[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function h(t){var i=s(),a=i._rgba=[];return t=t.toLowerCase(),u(o,(function(e,n){var o,s=n.re.exec(t),l=s&&n.parse(s),c=n.space||"rgba";if(l)return o=i[c](l),i[r[c].cache]=o[r[c].cache],a=i._rgba=o._rgba,!1})),a.length?("0,0,0,0"===a.join()&&e.extend(a,n.transparent),i):n[t]}function p(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}c.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=c.style.backgroundColor.indexOf("rgba")>-1,u(r,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),s.fn=e.extend(s.prototype,{parse:function(i,o,a,l){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=t);var c=this,p=e.type(i),f=this._rgba=[];return o!==t&&(i=[i,o,a,l],p="array"),"string"===p?this.parse(h(i)||n._default):"array"===p?(u(r.rgba.props,(function(e,t){f[t.idx]=d(i[t.idx],t)})),this):"object"===p?(u(r,i instanceof s?function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}:function(t,n){var o=n.cache;u(n.props,(function(e,t){if(!c[o]&&n.to){if("alpha"===e||null==i[e])return;c[o]=n.to(c._rgba)}c[o][t.idx]=d(i[e],t,!0)})),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,n.from&&(c._rgba=n.from(c[o])))}),this):void 0},is:function(e){var t=s(e),n=!0,i=this;return u(r,(function(e,o){var s,r=t[o.cache];return r&&(s=i[o.cache]||o.to&&o.to(i._rgba)||[],u(o.props,(function(e,t){if(null!=r[t.idx])return n=r[t.idx]===s[t.idx]}))),n})),n},_space:function(){var e=[],t=this;return u(r,(function(n,i){t[i.cache]&&e.push(n)})),e.pop()},transition:function(e,t){var n=s(e),i=n._space(),o=r[i],l=0===this.alpha()?s("transparent"):this,c=l[o.cache]||o.to(l._rgba),h=c.slice();return n=n[o.cache],u(o.props,(function(e,i){var o=i.idx,s=c[o],r=n[o],l=a[i.type]||{};null!==r&&(null===s?h[o]=r:(l.mod&&(r-s>l.mod/2?s+=l.mod:s-r>l.mod/2&&(s-=l.mod)),h[o]=d((r-s)*t+s,i)))})),this[i](h)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=s(t)._rgba;return s(e.map(n,(function(e,t){return(1-i)*o[t]+i*e})))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),s.fn.parse.prototype=s.fn,r.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,s=e[2]/255,r=e[3],a=Math.max(i,o,s),l=Math.min(i,o,s),c=a-l,u=a+l,d=.5*u;return t=l===a?0:i===a?60*(o-s)/c+360:o===a?60*(s-i)/c+120:60*(i-o)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==r?1:r]},r.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],s=i<=.5?i*(1+n):i+n-i*n,r=2*i-s;return[Math.round(255*p(r,s,t+1/3)),Math.round(255*p(r,s,t)),Math.round(255*p(r,s,t-1/3)),o]},u(r,(function(n,o){var r=o.props,a=o.cache,l=o.to,c=o.from;s.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var i,o=e.type(n),h="array"===o||"object"===o?n:arguments,p=this[a].slice();return u(r,(function(e,t){var n=h["object"===o?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=d(n,t)})),c?((i=s(c(p)))[a]=p,i):s(p)},u(r,(function(t,o){s.fn[t]||(s.fn[t]=function(s){var r,a=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[o.idx];return"undefined"===a?u:("function"===a&&(s=s.call(this,u),a=e.type(s)),null==s&&o.empty?this:("string"===a&&(r=i.exec(s))&&(s=u+parseFloat(r[2])*("+"===r[1]?1:-1)),c[o.idx]=s,this[l](c)))})}))})),s.hook=function(t){var n=t.split(" ");u(n,(function(t,n){e.cssHooks[n]={set:function(t,i){var o,r,a="";if("transparent"!==i&&("string"!==e.type(i)||(o=h(i)))){if(i=s(o||i),!l.rgba&&1!==i._rgba[3]){for(r="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(e){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=s(t.elem,n),t.end=s(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}))},s.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return u(["Top","Right","Bottom","Left"],(function(n,i){t["border"+i+"Color"]=e})),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(v),function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(t){var n,i,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[n=o[i]]&&(s[e.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(s[n]=o[n]);return s}e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(v.style(e.elem,n,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,s,r,a){var l=e.speed(s,r,a);return this.queue((function(){var s,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map((function(){return{el:e(this),start:i(this)}})),(s=function(){e.each(t,(function(e,t){o[t]&&r[t+"Class"](o[t])}))})(),c=c.map((function(){return this.end=i(this.el[0]),this.diff=function(t,i){var o,s,r={};for(o in i)s=i[o],t[o]!==s&&(n[o]||!e.fx.step[o]&&isNaN(parseFloat(s))||(r[o]=s));return r}(this.start,this.end),this})),r.attr("class",a),c=c.map((function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()})),e.when.apply(e,c.get()).done((function(){s(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(r[0])}))}))},e.fn.extend({addClass:function(t){return function(n,i,o,s){return i?e.effects.animateClass.call(this,{add:n},i,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,o,s,r){return"boolean"==typeof i||void 0===i?o?e.effects.animateClass.call(this,i?{add:n}:{remove:n},o,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,o,s)}}(e.fn.toggleClass),switchClass:function(t,n,i,o,s){return e.effects.animateClass.call(this,{add:n,remove:t},i,o,s)}})}(),function(){function t(t,n,i,o){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(o=i,i=n,n={}),e.isFunction(i)&&(o=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=o||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(g)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(f+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,o=t.length;i<o;i++)null!==t[i]&&(n=e.data(f+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(i),(t[0]===s||e.contains(t[0],s))&&e(s).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,o="vertical"!==n?(t||100)/100:1;return{height:e.height()*o,width:e.width()*i,outerHeight:e.outerHeight()*o,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(m,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(m)||"",e.removeData(m)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),o=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(f+"placeholder",n)),t.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function(e){var t=f+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,o){return o=o||{},e.each(n,(function(e,n){var s=t.cssUnit(n);s[0]>0&&(o[n]=s[0]*i+s[1])})),o}}),e.fn.extend({effect:function(){var n=t.apply(this,arguments),i=e.effects.effect[n.effect],o=i.mode,s=n.queue,r=s||"fx",a=n.complete,l=n.mode,c=[],u=function(t){var n=e(this),i=e.effects.mode(n,l)||o;n.data(g,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||e.effects.saveStyle(n),e.isFunction(t)&&t()};if(e.fx.off||!i)return l?this[l](n.duration,a):this.each((function(){a&&a.call(this)}));function d(t){var s=e(this);function r(){e.isFunction(a)&&a.call(s[0]),e.isFunction(t)&&t()}n.mode=c.shift(),!1===e.uiBackCompat||o?"none"===n.mode?(s[l](),r()):i.call(s[0],n,(function(){s.removeData(g),e.effects.cleanUp(s),"hide"===n.mode&&s.hide(),r()})):(s.is(":hidden")?"hide"===l:"show"===l)?(s[l](),r()):i.call(s[0],n,r)}return!1===s?this.each(u).each(d):this.queue(r,u).queue(r,d)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],(function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])})),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),o=e(t.to),s="fixed"===o.css("position"),r=e("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,(function(){h.remove(),e.isFunction(n)&&n()}))}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=i(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),p={},e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,t){p[t]=function(t){return Math.pow(t,e+2)}})),e.extend(p,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(p,(function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}}));e.effects,e.effects.define("bounce",(function(t,n){var i,o,s,r=e(this),a=t.mode,l="hide"===a,c="show"===a,u=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,m=t.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,y=r.queue().length;for(e.effects.createPlaceholder(r),s=r.css(g),d||(d=r["top"===g?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[g]=s,r.css("opacity",0).css(g,v?2*-d:2*d).animate(o,f,m)),l&&(d/=Math.pow(2,h-1)),(o={})[g]=s;b<h;b++)(i={})[g]=(v?"-=":"+=")+d,r.animate(i,f,m).animate(o,f,m),d=l?2*d:d/2;l&&((i={opacity:0})[g]=(v?"-=":"+=")+d,r.animate(i,f,m)),r.queue(n),e.effects.unshift(r,y,p+1)}))})),function(){if($.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},!$.browser){var e=$.uaMatch(navigator.userAgent),t={};e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),$.browser=t}}(),function(e,t){var n,i,o,s,r,a,l,c,u,d,h,p,f,m=Array.prototype.slice,g=decodeURIComponent,v=e.param,b=e.bbq=e.bbq||{},y=e.event.special,_="hashchange",w="querystring",k="fragment",x="elemUrlAttr",S="href",C="src",D=/^.*\?|#.*$/g,T={};function E(e){return"string"==typeof e}function M(e){var t=m.call(arguments,1);return function(){return e.apply(this,t.concat(m.call(arguments)))}}function O(t,o,r,a,l){var c,p,m,v,b;return a!==n?(b=(m=r.match(t?d:/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",2===l&&E(a)?p=a.replace(t?u:D,""):(v=s(m[2]),a=E(a)?s[t?k:w](a):a,p=2===l?a:1===l?e.extend({},a,v):e.extend({},v,a),p=i(p),t&&(p=p.replace(h,g))),c=m[1]+(t?f:p||!m[1]?"?":"")+p+b):c=o(r!==n?r:location.href),c}function L(e,t,i){return t===n||"boolean"==typeof t?(i=t,t=v[e?k:w]()):t=E(t)?t.replace(e?u:D,""):t,s(t,i)}function N(t,i,o,s){return E(o)||"object"==typeof o||(s=o,o=i,i=n),this.each((function(){var n=e(this),r=i||c()[(this.nodeName||"").toLowerCase()]||"",a=r&&n.attr(r)||"";n.attr(r,v[t](a,o,s))}))}v[w]=M(O,0,(function(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")})),v[k]=o=M(O,1,(function(e){return e.replace(d,"$2")})),v.sorted=i=function(t,n){var i=[],o={};return e.each(v(t,n).split("&"),(function(e,t){var n=t.replace(/(?:%5B|=).*$/,""),s=o[n];s||(s=o[n]=[],i.push(n)),s.push(t)})),e.map(i.sort(),(function(e){return o[e]})).join("&")},o.noEscape=function(t){t=t||"";var n=e.map(t.split(""),encodeURIComponent);h=new RegExp(n.join("|"),"g")},o.noEscape(",/"),o.ajaxCrawlable=function(e){return e!==n&&(e?(u=/^.*(?:#!|#)/,d=/^([^#]*)(?:#!|#)?(.*)$/,f="#!"):(u=/^.*#/,d=/^([^#]*)#?(.*)$/,f="#"),p=!!e),p},o.ajaxCrawlable(0),e.deparam=s=function(t,i){var o={},s={true:!0,false:!1,null:null};return e.each(t.replace(/\+/g," ").split("&"),(function(t,r){var a,l=r.split("="),c=g(l[0]),u=o,d=0,h=c.split("]["),p=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[p])?(h[p]=h[p].replace(/\]$/,""),p=(h=h.shift().split("[").concat(h)).length-1):p=0,2===l.length)if(a=g(l[1]),i&&(a=a&&!isNaN(a)?+a:"undefined"===a?n:s[a]!==n?s[a]:a),p)for(;d<=p&&("__proto__"!==(c=""===h[d]?u.length:h[d])&&"prototype"!==c&&"constructor"!==c);d++)u=u[c]=d<p?u[c]||(h[d+1]&&isNaN(h[d+1])?{}:[]):a;else e.isArray(o[c])?o[c].push(a):o[c]!==n?o[c]=[o[c],a]:o[c]=a;else c&&(o[c]=i?n:"")})),o},s[w]=M(L,0),s[k]=r=M(L,1),e[x]||(e[x]=function(t){return e.extend(T,t)})({a:S,base:S,iframe:C,img:C,input:C,form:"action",link:S,script:C}),c=e[x],e.fn[w]=M(N,w),e.fn[k]=M(N,k),b.pushState=a=function(e,t){E(e)&&/^#/.test(e)&&t===n&&(t=2);var i=e!==n,s=o(location.href,i?e:{},i?t:2);location.href=s},b.getState=l=function(e,t){return e===n||"boolean"==typeof e?r(e):r(t)[e]},b.removeState=function(t){var i={};t!==n&&(i=l(),e.each(e.isArray(t)?t:arguments,(function(e,t){delete i[t]}))),a(i,2)},y[_]=e.extend(y[_],{add:function(t){var i;function r(e){var t=e[k]=o();e.getState=function(e,i){return e===n||"boolean"==typeof e?s(t,e):s(t,i)[e]},i.apply(this,arguments)}if(e.isFunction(t))return i=t,r;i=t.handler,t.handler=r}})}(jQuery),function(e,t,n){var i,o="hashchange",s=document,r=e.event.special,a=s.documentMode,l="on"+o in t&&(a===n||a>7);function c(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}e.fn[o]=function(e){return e?this.bind(o,e):this.trigger(o)},e.fn[o].delay=50,r[o]=e.extend(r[o],{setup:function(){if(l)return!1;e(i.start)},teardown:function(){if(l)return!1;e(i.stop)}}),i=function(){var i,r,a,u={},d=c(),h=function(e){return e},p=h,f=h;function m(){var n=c(),s=f(d);n!==d?(p(d=n,s),e(t).trigger(o)):s!==d&&(location.href=location.href.replace(/#.*/,"")+s),i=setTimeout(m,e.fn[o].delay)}return u.start=function(){i||m()},u.stop=function(){i&&clearTimeout(i),i=n},e.browser.msie&&!l&&(u.start=function(){r||(a=(a=e.fn[o].src)&&a+c(),r=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",(function(){a||p(c()),m()})).attr("src",a||"javascript:0").insertAfter("body")[0].contentWindow,s.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=s.title)}catch(e){}})},u.stop=h,f=function(){return c(r.location.href)},p=function(t,n){var i=r.document,a=e.fn[o].domain;t!==n&&(i.title=s.title,i.open(),a&&i.write('<script>document.domain="'+a+'"<\/script>'),i.close(),r.location.hash=t)}),u}()}(jQuery,this);var QWeb2={expressions_cache:{},RESERVED_WORDS:"true,false,NaN,null,undefined,debugger,console,window,in,instanceof,new,function,return,this,typeof,eval,void,Math,RegExp,Array,Object,Date".split(","),ACTIONS_PRECEDENCE:"foreach,if,elif,else,call,set,tag,out,esc,raw,js,debug,log".split(","),WORD_REPLACEMENT:{and:"&&",or:"||",gt:">",gte:">=",lt:"<",lte:"<="},VOID_ELEMENTS:"area,base,br,col,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(","),tools:{exception:function(e,t){var n="QWeb2";throw(t=t||{}).template&&(n+=" - template['"+t.template+"']"),new Error(n+": "+e)},warning:function(e){"undefined"!=typeof window&&window.console&&window.console.warn(e)},trim:function(e,t){switch(t){case"left":return e.replace(/^\s*/,"");case"right":return e.replace(/\s*$/,"");default:return e.replace(/^\s*|\s*$/g,"")}},js_escape:function(e,t){return(t?"":"'")+e.replace(/\r?\n/g,"\\n").replace(/'/g,"\\'")+(t?"":"'")},html_escape:function(e){return null==e?"":_.escape(e)},markup:e=>new _Markup(e),gen_attribute:function(e){if(null!=e)if(e.constructor===Array){if(null!==e[1]&&void 0!==e[1])return this.format_attribute(e[0],e[1])}else if("object"==typeof e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=this.gen_attribute([n,e[n]]));return t}return""},format_attribute:function(e,t){return` ${e}="${null==t?"":this.html_escape(String(t))}"`},extend:function(e,t,n){for(var i in t)!t.hasOwnProperty(i)||n&&-1!==this.arrayIndexOf(n,i)||(e[i]=t[i]);return e},arrayIndexOf:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},get_element_sibling:function(e,t){for(var n=e[t];n&&1!==n.nodeType;)n=n[t];return n},xml_node_to_string:function(e,t){if(t){for(var n=e.childNodes,i=[],o=0,s=n.length;o<s;o++)i.push(this.xml_node_to_string(n[o]));return i.join("")}if(3==e.nodeType)return e.data;if("undefined"!=typeof XMLSerializer)return(new XMLSerializer).serializeToString(e);switch(e.nodeType){case 1:return e.outerHTML;case 4:return"<![CDATA["+e.data+"]]>";case 8:return"\x3c!-- "+e.data+"--\x3e"}throw new Error("Unknown node type "+e.nodeType)},call:function(e,t,n,i,o){var s=this.extend({},n);return s.__caller__=n.__template__,o&&(s[0]=this.markup(o(e,s))),this.markup(e.engine._render(t,s))},foreach:function(e,t,n,i,o){if(null!=t){var s,r,a,l=this.extend({},i);l[n+"_all"]=t;var c=n+"_value",u=n+"_index",d=n+"_first",h=n+"_last",p=n+"_parity";if(t instanceof Array){var f=t.length;for(l[n+"_size"]=f,s=0,r=t.length;s<r;s++)a=t[s],l[c]=a,l[u]=s,l[d]=0===s,l[h]=s+1===f,l[p]=s%2==1?"odd":"even",a&&a.constructor===Object&&this.extend(l,a),l[n]=a,o(e,l)}else if(t.constructor==Number){for(var m=[],g=0;g<t;g++)m.push(g);this.foreach(e,m,n,i,o)}else for(var v in s=0,t)t.hasOwnProperty(v)&&(a=t[v],l[c]=a,l[u]=s,l[d]=0===s,l[p]=s%2==1?"odd":"even",l[n]=v,o(e,l),s+=1);_.each(Object.keys(i),(function(e){i[e]=l[e]}))}else this.exception("No enumerator given to foreach",e)}}};QWeb2.Engine=function(){function e(){this.prefix="t",this.debug=!1,this.templates_resources=[],this.templates={},this.compiled_templates={},this.extend_templates={},this.default_dict={},this.tools=QWeb2.tools,this.jQuery=window.jQuery,this.reserved_words=QWeb2.RESERVED_WORDS.slice(0),this.actions_precedence=QWeb2.ACTIONS_PRECEDENCE.slice(0),this.void_elements=QWeb2.VOID_ELEMENTS.slice(0),this.word_replacement=QWeb2.tools.extend({},QWeb2.WORD_REPLACEMENT),this.preprocess_node=null;for(var e=0;e<arguments.length;e++)this.add_template(arguments[e])}return QWeb2.tools.extend(e.prototype,{add_template:function(e,t){var n=this;if(this.templates_resources.push(e),e.constructor===String)return this.load_xml(e,(function(e,i){if(e){if(t)return t(e);throw e}n.add_template(i,t)}));for(var i=(e=this.preprocess(e)).documentElement&&e.documentElement.childNodes||e.childNodes||[],o=0;o<i.length;o++){var s=i[o];if(1===s.nodeType){var r=s.getAttribute(this.prefix+"-name"),a=s.getAttribute(this.prefix+"-extend");if(r&&a){if(!this.templates[a])return this.tools.exception("Can't clone undefined template '"+a+"' to create '"+r+"'");this.templates[r]=this.templates[a].cloneNode(!0),this.extend_templates[r]=(this.extend_templates[a]||[]).slice(),a=r,r=void 0}r?(this.templates[r]=s,this.compiled_templates[r]=null):a&&(delete this.compiled_templates[a],this.extend_templates[a]?this.extend_templates[a].push(s):this.extend_templates[a]=[s])}}return t&&t(null,e),!0},preprocess:function(e){for(var t=this,n=e.documentElement&&e.documentElement.childNodes||e.childNodes||[],i=0;i<n.length;i++){if(1===(a=n[i]).nodeType&&"parsererror"==a.nodeName)return this.tools.exception(a.innerText)}for(var o=e.querySelectorAll("[t-elif], [t-else]"),s=(i=0,o.length);i<s;i++){var r,a=o[i],l=t.tools.get_element_sibling(a,"previousSibling"),c=function(e){return l.getAttribute(e)};if(!l||!c("t-if")&&!c("t-elif"))return t.tools.exception("Error: t-elif and t-else directives must be preceded by a t-if or t-elif directive");if(c("t-foreach"))return t.tools.exception("Error: t-if cannot stay at the same level as t-foreach when using t-elif or t-else");if(["t-if","t-elif","t-else"].map((function(e){return+!!a.getAttribute(e)})).reduce((function(e,t){return e+t}))>1)return t.tools.exception("Error: only one conditional branching directive is allowed per node");for(;(r=a.previousSibling)!==l;){if(8!==r.nodeType&&t.tools.trim(r.nodeValue))return t.tools.exception("Error: text is not allowed between branching directives");r.parentNode.removeChild(r)}}return e},load_xml:function(e,t){var n=this,i=!!t;if("<"===(e=this.tools.trim(e)).charAt(0)){var o=this.load_xml_string(e);return t&&t(null,o),o}var s=this.get_xhr();if(this.debug&&(e+="?debug="+(new Date).getTime()),s.open("GET",e,i),i&&s.addEventListener("load",(function(){200==s.status||0==s.status?t(null,n._parse_from_request(s)):t(new Error("Can't load template "+e+", http status "+s.status))})),s.send(null),!i)return this._parse_from_request(s)},_parse_from_request:function(e){var t=e.responseXML;if(t){if(!t.documentElement)throw new Error("QWeb2: This xml document has no root document : "+t.responseText);if("parsererror"==t.documentElement.nodeName)throw new Error("QWeb2: Could not parse document :"+t.documentElement.childNodes[0].nodeValue);return t}return this.load_xml_string(e.responseText)},load_xml_string:function(e){if(window.DOMParser){var t=(new DOMParser).parseFromString(e,"text/xml");if(t.body&&t.body.firstChild&&"parsererror"==t.body.firstChild.nodeName)throw new Error("QWeb2: Could not parse document :"+t.body.innerText);return t}var n;try{n=new ActiveXObject("MSXML2.DOMDocument")}catch(e){throw new Error("Could not find a DOM Parser: "+e.message)}return n.async=!1,n.preserveWhiteSpace=!0,n.loadXML(e),n},has_template:function(e){return!!this.templates[e]},get_xhr:function(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){throw new Error("Could not get XHR")}},compile:function(e){var t=new QWeb2.Element(this,e),n=e.getAttribute(this.prefix+"-name");return"   /* 'this' refers to Qweb2.Engine instance */\n   var context = { engine : this, template : "+this.tools.js_escape(n)+" };\n   dict = dict || {};\n   dict['__template__'] = '"+n+"';\n   var r = [];\n   /* START TEMPLATE */"+(this.debug?"":" try {\n")+t.compile()+"\n   /* END OF TEMPLATE */"+(this.debug?"":" } catch(error) {\n       if (console && console.exception) console.exception(error);\n       context.engine.tools.exception('Runtime Error: ' + error, context);\n")+(this.debug?"":"   }\n")+"   return r.join('');"},render:function(e,t){return t=t||{},QWeb2.tools.extend(t,this.default_dict),this._render(e,t)},_render:function(e,t){if(this.compiled_templates[e])return this.compiled_templates[e].apply(this,[t||{}]);if(this.templates[e]){var n;if(n=this.extend_templates[e])for(var i;i=n.shift();)this.extend(e,i);var o,s=this.compile(this.templates[e]);try{o=new Function(["dict"],s)}catch(t){this.debug&&window.console&&console.log(s),this.tools.exception("Error evaluating template: "+t,{template:e})}return o||this.tools.exception("Error evaluating template: (IE?)"+error,{template:e}),this.compiled_templates[e]=o,this.render(e,t)}return this.tools.exception("Template '"+e+"' not found")},extend:function(e,t){var n=this.jQuery;if(!n)return this.tools.exception("Can't extend template "+e+" without jQuery");for(var i=this.templates[e],o=0,s=t.childNodes.length;o<s;o++){var r=t.childNodes[o];if(1===r.nodeType){var a,l=r.getAttribute(this.prefix+"-jquery"),c=r.getAttribute(this.prefix+"-operation"),u="Error while extending template '"+e;if(l?!(a=n(l,i)).length&&window.console&&console.error("Can't find '"+l+"' when extending template "+e):this.tools.exception(u+"No expression given"),u+="' (expression='"+l+"') : ",c){var d="append,prepend,before,after,replace,inner,attributes".split(",");-1==this.tools.arrayIndexOf(d,c)&&this.tools.exception(u+"Invalid operation : '"+c+"'"),"attributes"===(c={replace:"replaceWith",inner:"html"}[c]||c)?n("attribute",r).each((function(){var e=n(this);a.attr(e.attr("name"),e.text()||e.attr("value"))})):a[c](r.cloneNode(!0).childNodes)}else{try{var h=new Function(["$","document"],this.tools.xml_node_to_string(r,!0))}catch(e){return this.tools.exception("Parse "+u+e)}try{h.apply(a,[n,i.ownerDocument])}catch(e){return this.tools.exception("Runtime "+u+e)}}}}}}),e}(),QWeb2.Element=function(){function e(e,t){this.engine=e,this.node=t,this.tag=t.tagName,this.actions={tag:this.tag},this.actions_done=[],this.attributes={},this.children=[],this._top=[],this._bottom=[],this._indent=1,this.process_children=!0,this.is_void_element=~QWeb2.tools.arrayIndexOf(this.engine.void_elements,this.tag);var n=this.node.childNodes;if(n)for(var i=0,o=n.length;i<o;i++)this.children.push(new QWeb2.Element(this.engine,n[i]));var s=this.node.attributes;if(s)for(var r=0,a=s.length;r<a;r++){var l=s[r],c=l.name,u=c.match(new RegExp("^"+this.engine.prefix+"-(.+)"));if(u){if("name"===(c=u[1]))continue;c.match(/^attf?(-.*)?/)?this.attributes[u[0]]=l.value:this.actions[c]=l.value}else this.attributes[c]=l.value}this.engine.preprocess_node&&this.engine.preprocess_node.call(this)}return QWeb2.tools.extend(e.prototype,{compile:function(){for(var e=[],t=!1,n=this._compile().split("\n"),i=0,o=n.length;i<o;i++){var s,r=n[i];(s=r.match(/^(\s*)\/\/@string=(.*)/))?t?this.engine.debug?e.push((-1!=s[2].indexOf("\\n")?"',\n\t"+s[1]+"'":"")+s[2]):e.push(s[2]):(e.push(s[1]+"r.push('"+s[2]),t=!0):(t&&e.push("');\n"),t=!1,e.push(r+"\n"))}return e.join("")},_compile:function(){switch(this.node.nodeType){case 3:case 4:this.top_string(this.node.data);break;case 1:this.compile_element()}var e=this._top.join("");if(this.process_children)for(var t=0,n=this.children.length;t<n;t++){var i=this.children[t];i._indent=this._indent,e+=i._compile()}return e+=this._bottom.join("")},format_expression:function(e){if(QWeb2.expressions_cache[e])return QWeb2.expressions_cache[e];var t=e.split(""),n="",i="",o=0,s="";t.push(" ");for(var r=0,a=t.length;r<a;r++){var l=t[r];if(n.length)l===n&&"\\"!==t[r-1]&&(n="");else if('"'===l||"'"===l)n=l;else{if(l.match(/[a-zA-Z_\$]/)&&!i.length){i=l,o=r;continue}if(l.match(/\W/)&&i.length)"."!==t[o-1]&&QWeb2.tools.arrayIndexOf(this.engine.reserved_words,i)<0&&(i=this.engine.word_replacement[i]||"dict['"+i+"']"),s+=i,i="";else if(i.length){i+=l;continue}}s+=l}return s=s.slice(0,-1),QWeb2.expressions_cache[e]=s,s},format_str:function(e){return"0"==e?"dict[0]":this.format_expression(e)},string_interpolation:function(e){var t=this;if(!e)return"''";function n(e){e&&r.push(t.engine.tools.js_escape(e))}for(var i,o=/#{(.+?)}|{{(.+?)}}/g,s=0,r=[];i=o.exec(e);)n(e.slice(s,o.lastIndex-i[0].length)),r.push("("+this.format_str(i[2]||i[1])+")"),s=o.lastIndex;return n(e.slice(s)),r.join(" + ")},indent:function(){return this._indent++},dedent:function(){if(0!==this._indent)return this._indent--},get_indent:function(){return new Array(this._indent+1).join("\t")},top:function(e){return this._top.push(this.get_indent()+e+"\n")},top_string:function(e){return this._top.push(this.get_indent()+"//@string="+this.engine.tools.js_escape(e,!0)+"\n")},bottom:function(e){return this._bottom.unshift(this.get_indent()+e+"\n")},bottom_string:function(e){return this._bottom.unshift(this.get_indent()+"//@string="+this.engine.tools.js_escape(e,!0)+"\n")},compile_element:function(){for(var e=0,t=this.engine.actions_precedence.length;e<t;e++){var n=this.engine.actions_precedence[e];if(n in this.actions){var i=this.actions[n],o="compile_action_"+n;this[o]?this[o](i):this.engine[o]?this.engine[o].call(this,i):this.engine.tools.exception("No handler method for action '"+n+"'")}}},compile_action_tag:function(){if(this.tag.toLowerCase()!==this.engine.prefix){for(var e in this.top_string("<"+this.tag),this.attributes){var t=this.attributes[e],n=e.split("-");n[0]===this.engine.prefix&&n.length>1?2===n.length?this.top("r.push(context.engine.tools.gen_attribute("+this.format_expression(t)+"));"):this.top("r.push(context.engine.tools.gen_attribute(['"+n.slice(2).join("-")+"', ("+("att"===n[1]?this.format_expression(t):this.string_interpolation(t))+")]));"):this.top_string(this.engine.tools.gen_attribute([e,t]))}"true"===this.actions.opentag||!this.children.length&&this.is_void_element?this.top_string("/>"):(this.top_string(">"),this.bottom_string("</"+this.tag+">"))}},compile_action_if:function(e){this.top("if ("+this.format_expression(e)+") {"),this.bottom("}"),this.indent()},compile_action_elif:function(e){this.top("else if ("+this.format_expression(e)+") {"),this.bottom("}"),this.indent()},compile_action_else:function(e){this.top("else {"),this.bottom("}"),this.indent()},compile_action_foreach:function(e){var t=this.actions.as||e.replace(/[^a-zA-Z0-9]/g,"_");this.top("context.engine.tools.foreach(context, "+this.format_expression(e)+", "+this.engine.tools.js_escape(t)+", dict, function(context, dict) {"),this.bottom("});"),this.indent()},compile_action_call:function(e){return 0===this.children.length?this.top("r.push(context.engine.tools.call(context, "+this.string_interpolation(e)+", dict));"):(this.top("r.push(context.engine.tools.call(context, "+this.string_interpolation(e)+", dict, null, function(context, dict) {"),this.bottom("}));"),this.indent(),this.top("var r = [];"),this.bottom("return context.engine.tools.markup(r.join(''));"))},compile_action_set:function(e){var t=this.format_expression(e);this.actions.value?(this.children.length&&this.engine.tools.warning("@set with @value plus node chidren found. Children are ignored."),this.top(t+" = ("+this.format_expression(this.actions.value)+");"),this.process_children=!1):0===this.children.length?this.top(t+" = '';"):1===this.children.length&&3===this.children[0].node.nodeType?(this.top(t+" = "+this.engine.tools.js_escape(this.children[0].node.data)+";"),this.process_children=!1):(this.top(t+" = (function(dict) {"),this.bottom("})(dict);"),this.indent(),this.top("var r = [];"),this.bottom("return context.engine.tools.markup(r.join(''));"))},compile_action_esc:function(e){return this.compile_action_out(e)},compile_action_out(e){this.top("var t = "+this.format_str(e)+";"),this.top("if (t != null) r.push(context.engine.tools.html_escape(t));"),this.top("else {"),this.bottom("}"),this.indent()},compile_action_raw:function(e){let t=this.node;for(;t.parentElement&&!t.getAttribute("t-name");)t=t.parentElement;console.warn("Found deprecated directive '@t-raw=\"%s\"' in template '%s'. Replace by @t-out, and explicitely wrap content in utils.Markup if necessary.",e,t.getAttribute("t-name")),this.top("var t = "+this.format_str(e)+";"),this.top("if (t != null) r.push(t);"),this.top("else {"),this.bottom("}"),this.indent()},compile_action_js:function(e){this.top("(function("+e+") {"),this.bottom("})(dict);"),this.indent();for(var t=this.engine.tools.xml_node_to_string(this.node,!0).split(/\r?\n/),n=0,i=t.length;n<i;n++)this.top(t[n]);this.process_children=!1},compile_action_debug:function(e){this.top("debugger;")},compile_action_log:function(e){this.top("console.log("+this.format_expression(e)+");")}}),e}(),function(){var e=Promise.prototype.catch;Promise.prototype.guardedCatch=function(t){return e.call(this,(function(e){const n=e instanceof Error&&"cause"in e?e.cause:e;return n&&n instanceof Error||t&&t.call(this,e),Promise.reject(e)}))}}(),function(){"use strict";var e=Date.now(),t=[],n=Object.create(null),i=[],o=[],s=Object.create({}),r=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,a=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g;globalThis.odoo||(globalThis.odoo={});var l,c=globalThis.odoo,u=c.debug,d=new Promise((function(e){l=e}));c.remainingJobs=t,c.__DEBUG__={didLogInfo:d,getDependencies:function(e,t){var n,o=e instanceof Array?e:[e];do{n=!1,i.forEach((function(e){o.indexOf(e.to)>=0&&o.indexOf(e.from)<0&&(o.push(e.from),n=!0)}))}while(n&&t);return o},getDependents:function(e){return i.filter((function(t){return t.from===e})).map((function(e){return e.to}))},getWaitedJobs:function(){return t.map((function(e){return e.name})).filter((function(e,t,n){return n.indexOf(e)===t}))},getMissingJobs:function(){var e=this,t=this.getWaitedJobs(),n=[];return t.forEach((function(t){e.getDependencies(t).forEach((function(t){t in e.services||n.push(t)}))})),n.filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(e){return t.indexOf(e)<0})).filter((function(e){return!e.error}))},getFailedJobs:function(){return t.filter((function(e){return!!e.error}))},processJobs:function(){var e;function n(e){var n,i=function(e){var t={};return Object.keys(s).filter((function(t){return e.deps.indexOf(t)>=0})).forEach((function(e){t[e]=s[e]})),function(e){return e in t||console.error("Undefined dependency: ",e),t[e]}}(e);function r(t){e.error=t,console.error(`Error while loading ${e.name}: ${t.message}`,t),Promise.reject(t)}var a=new Promise((function(o){try{n=e.factory.call(null,i),t.splice(t.indexOf(e),1)}catch(e){r(e)}e.error?o():Promise.resolve(n).then((function(t){s[e.name]=t,o(),c.__DEBUG__.processJobs()})).guardedCatch((function(n){e.rejected=n||!0,t.push(e)})).catch((function(e){e instanceof Error&&r(e),o()}))}));o.push(a),a.then(e.resolve)}function i(e){return!e.error&&!e.rejected&&e.factory.deps.every((function(e){return e in s}))}for(;t.length;){e=void 0;for(var r=0;r<t.length;r++)if(i(t[r])){e=t[r];break}if(!e)break;n(e)}return s},factories:n,services:s},c.define=function(){var o,s=Array.prototype.slice.call(arguments),l="string"==typeof s[0]?s.shift():"__odoo_job"+e++,u=s[s.length-1];if(s[0]instanceof Array?o=s[0]:(o=[],u.toString().replace(r,"").replace(a,(function(e,t){o.push(t)}))),!(o instanceof Array))throw new Error("Dependencies should be defined by an array",o);if("function"!=typeof u)throw new Error("Factory should be defined by a function",u);if("string"!=typeof l)throw new Error("Invalid name definition (should be a string",l);if(l in n)throw new Error("Service "+l+" already defined");let d;u.deps=o,n[l]=u;const h=new Promise((e=>{d=e}));t.push({name:l,factory:u,deps:o,resolve:d,promise:h}),o.forEach((function(e){i.push({from:e,to:l})})),c.__DEBUG__.processJobs()},c.log=function(){var e=[],i=[],o=null;if(t.length){for(var r,a,d={},h=[],p=[],f=0;f<t.length;f++){d[t[f].name]=r={dependencies:t[f].deps,dependents:c.__DEBUG__.getDependents(t[f].name),name:t[f].name},t[f].error&&(r.error=t[f].error),t[f].rejected&&(r.rejected=t[f].rejected,h.push(r.name));for(var m=c.__DEBUG__.getDependencies(r.name),g=0;g<m.length;g++)if(r.name!==m[g]&&!(m[g]in s)){if(!(a=d[m[g]])&&m[g]in n)for(var v=0;v<t.length;v++)if(t[v].name===m[g]){a=t[v];break}a&&a.rejected?(r.rejected||(r.rejected=[],p.push(r.name)),r.rejected.push(m[g])):(r.missing||(r.missing=[]),r.missing.push(m[g]))}}e=c.__DEBUG__.getMissingJobs(),i=c.__DEBUG__.getFailedJobs();var b=Object.keys(d).map((function(e){return d[e]})).filter((function(e){return e.missing}));if(u||i.length||b.length){var y=globalThis.console[i.length&&b.length?"error":"info"].bind(globalThis.console);y((i.length?"error":b.length?"warning":"info")+": Some modules could not be started"),e.length&&y("Missing dependencies:    ",e),i.length&&y("Failed modules:          ",i.map((function(e){return e.name}))),h.length&&y("Rejected modules:        ",h),p.length&&y("Rejected linked modules: ",p),b.length&&(o=function(e){const t=new Map;for(const n of e)t.set(n.name,n.dependencies);function n(e,t=new Set){for(const n of e){const e=i(n,t);if(e)return e}return null}function i(e,i){if(i.has(e)){const t=Array.from(i).concat([e]),n=t.indexOf(e);return t.slice(n).map((e=>`"${e}"`)).join(" => ")}const o=t.get(e);return o?n(o,new Set(i).add(e)):null}return n(e.map((e=>e.name)))}(b),o&&console.error("Cyclic dependencies: "+o),y("Non loaded modules:      ",b.map((function(e){return e.name})))),u&&Object.keys(d).length&&y("Debug:                   ",d)}}c.__DEBUG__.jsModules={missing:e,failed:i.map((e=>e.name)),unloaded:b?b.map((e=>e.name)):[],cycle:o},l(!0)},c.ready=async function(e){function i(t){return"string"==typeof e?t===e:e.test(t)}return await Promise.all(t.filter((e=>i(e.name))).map((e=>e.promise))),Object.keys(n).filter(i).length},c.runtimeImport=function(e){if(!(e in s))throw new Error(`Service "${e} is not defined or isn't finished loading."`);return s[e]},globalThis.addEventListener("load",(function e(){const t=o.length;Promise.all(o).then((function(){t===o.length?c.log():e()}))}))}(),function(e){"use strict";function t(e){e=e.slice();const t=[];let n;for(;(n=e[0])&&"string"==typeof n;)t.push(e.shift());return{modifiers:t,data:e}}const n={shouldNormalizeDom:!0,mainEventHandler:(e,n,i)=>("function"==typeof e?e(n):Array.isArray(e)&&(e=t(e).data)[0](e[1],n),!1)};class i{constructor(e,t){this.key=e,this.child=t}mount(e,t){this.parentEl=e,this.child.mount(e,t)}moveBeforeDOMNode(e,t){this.child.moveBeforeDOMNode(e,t)}moveBeforeVNode(e,t){this.moveBeforeDOMNode(e&&e.firstNode()||t)}patch(e,t){if(this===e)return;let n=this.child,i=e.child;this.key===e.key?n.patch(i,t):(i.mount(this.parentEl,n.firstNode()),t&&n.beforeRemove(),n.remove(),this.child=i,this.key=e.key)}beforeRemove(){this.child.beforeRemove()}remove(){this.child.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}function o(e,t){return new i(e,t)}class s extends Error{}const{setAttribute:r,removeAttribute:a}=Element.prototype,l=DOMTokenList.prototype,c=l.add,u=l.remove,d=Array.isArray,{split:h,trim:p}=String.prototype,f=/\s+/;function m(e,t){switch(t){case!1:case void 0:a.call(this,e);break;case!0:r.call(this,e,"");break;default:r.call(this,e,t)}}function g(e){return function(t){m.call(this,e,t)}}function v(e){if(d(e))"class"===e[0]?_.call(this,e[1]):m.call(this,e[0],e[1]);else for(let t in e)"class"===t?_.call(this,e[t]):m.call(this,t,e[t])}function b(e,t){if(d(e)){const n=e[0],i=e[1];if(n===t[0]){if(i===t[1])return;"class"===n?w.call(this,i,t[1]):m.call(this,n,i)}else a.call(this,t[0]),m.call(this,n,i)}else{for(let n in t)n in e||("class"===n?w.call(this,"",t[n]):a.call(this,n));for(let n in e){const i=e[n];i!==t[n]&&("class"===n?w.call(this,i,t[n]):m.call(this,n,i))}}}function y(e){const t={};switch(typeof e){case"string":const n=p.call(e);if(!n)return{};let i=h.call(n,f);for(let e=0,n=i.length;e<n;e++)t[i[e]]=!0;return t;case"object":for(let n in e){const i=e[n];if(i){if(n=p.call(n),!n)continue;const e=h.call(n,f);for(let n of e)t[n]=i}}return t;case"undefined":return{};case"number":return{[e]:!0};default:return{[e]:!0}}}function _(e){e=""===e?{}:y(e);const t=this.classList;for(let n in e)c.call(t,n)}function w(e,t){t=""===t?{}:y(t),e=""===e?{}:y(e);const n=this.classList;for(let i in t)i in e||u.call(n,i);for(let i in e)i in t||c.call(n,i)}function k(e){if(!e)return!1;if(e.ownerDocument.contains(e))return!0;const t=e.getRootNode();return t instanceof ShadowRoot&&e.ownerDocument.contains(t.host)}class x extends EventTarget{trigger(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}}class S extends String{}function C(e){const t=e.split(".")[0],i=e.includes(".capture");return e.includes(".synthetic")?function(e,t=!1){let i=`__event__synthetic_${e}`;t&&(i=`${i}_capture`);!function(e,t,i=!1){if(E[t])return;document.addEventListener(e,(e=>function(e,t){let i=t.target;for(;null!==i;){const o=i[e];if(o)for(const e of Object.values(o)){if(n.mainEventHandler(e,t,i))return}i=i.parentNode}}(t,e)),{capture:i}),E[t]=!0}(e,i,t);const o=T++;function s(e){const t=this[i]||{};t[o]=e,this[i]=t}function r(){delete this[i]}return{setup:s,update:s,remove:r}}(t,i):function(e,t=!1){let i=`__event__${e}_${D++}`;t&&(i=`${i}_capture`);function o(e){const t=e.currentTarget;if(!t||!k(t))return;const o=t[i];o&&n.mainEventHandler(o,e,t)}function s(n){this[i]=n,this.addEventListener(e,o,{capture:t})}function r(){delete this[i],this.removeEventListener(e,o,{capture:t})}function a(e){this[i]=e}return{setup:s,update:a,remove:r}}(t,i)}let D=1;let T=1;const E={};const M=Node.prototype,O=M.insertBefore,L=(N=M,A="textContent",Object.getOwnPropertyDescriptor(N,A)).set;var N,A;const P=M.removeChild;class I{constructor(e){this.children=e}mount(e,t){const n=this.children,i=n.length,o=new Array(i);for(let s=0;s<i;s++){let i=n[s];if(i)i.mount(e,t);else{const n=document.createTextNode("");o[s]=n,O.call(e,n,t)}}this.anchors=o,this.parentEl=e}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t;const n=this.children,i=this.anchors;for(let o=0,s=n.length;o<s;o++){let s=n[o];if(s)s.moveBeforeDOMNode(e,t);else{const n=i[o];O.call(t,n,e)}}}moveBeforeVNode(e,t){if(e){const n=e.children[0];t=(n?n.firstNode():e.anchors[0])||null}const n=this.children,i=this.parentEl,o=this.anchors;for(let e=0,s=n.length;e<s;e++){let s=n[e];if(s)s.moveBeforeVNode(null,t);else{const n=o[e];O.call(i,n,t)}}}patch(e,t){if(this===e)return;const n=this.children,i=e.children,o=this.anchors,s=this.parentEl;for(let e=0,r=n.length;e<r;e++){const r=n[e],a=i[e];if(r)if(a)r.patch(a,t);else{const i=r.firstNode(),a=document.createTextNode("");o[e]=a,O.call(s,a,i),t&&r.beforeRemove(),r.remove(),n[e]=void 0}else if(a){n[e]=a;const t=o[e];a.mount(s,t),P.call(s,t)}}}beforeRemove(){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];n&&n.beforeRemove()}}remove(){const e=this.parentEl;if(this.isOnlyChild)L.call(e,"");else{const t=this.children,n=this.anchors;for(let i=0,o=t.length;i<o;i++){const o=t[i];o?o.remove():P.call(e,n[i])}}}firstNode(){const e=this.children[0];return e?e.firstNode():this.anchors[0]}toString(){return this.children.map((e=>e?e.toString():"")).join("")}}function R(e){return new I(e)}const $=Node.prototype,F=CharacterData.prototype,j=$.insertBefore,W=((e,t)=>Object.getOwnPropertyDescriptor(e,t))(F,"data").set,B=$.removeChild;class z{constructor(e){this.text=e}mountNode(e,t,n){this.parentEl=t,j.call(t,e,n),this.el=e}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t,j.call(t,this.el,e)}moveBeforeVNode(e,t){j.call(this.parentEl,this.el,e?e.el:t)}beforeRemove(){}remove(){B.call(this.parentEl,this.el)}firstNode(){return this.el}toString(){return this.text}}class H extends z{mount(e,t){this.mountNode(document.createTextNode(Y(this.text)),e,t)}patch(e){const t=e.text;this.text!==t&&(W.call(this.el,Y(t)),this.text=t)}}class U extends z{mount(e,t){this.mountNode(document.createComment(Y(this.text)),e,t)}patch(){}}function V(e){return new H(e)}function G(e){return new U(e)}function Y(e){switch(typeof e){case"string":return e;case"number":return String(e);case"boolean":return e?"true":"false";default:return e||""}}const q=(e,t)=>Object.getOwnPropertyDescriptor(e,t),K=Node.prototype,Z=Element.prototype,X=q(CharacterData.prototype,"data").set,J=q(K,"firstChild").get,Q=q(K,"nextSibling").get,ee=()=>{};function te(e){return function(t){this[e]=0===t?0:t?t.valueOf():""}}const ne={};function ie(e){if(e in ne)return ne[e];const t=(new DOMParser).parseFromString(`<t>${e}</t>`,"text/xml").firstChild.firstChild;n.shouldNormalizeDom&&oe(t);const i=se(t),o=le(i),s=function(e,t){let n=function(e,t){const{refN:n,collectors:i,children:o}=t,s=i.length;t.locations.sort(((e,t)=>e.idx-t.idx));const r=t.locations.map((e=>({refIdx:e.refIdx,setData:e.setData,updateData:e.updateData}))),a=r.length,l=o.length,c=o,u=n>0,d=K.cloneNode,h=K.insertBefore,p=Z.remove;class f{constructor(e){this.data=e}beforeRemove(){}remove(){p.call(this.el)}firstNode(){return this.el}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t,h.call(t,this.el,e)}moveBeforeVNode(e,t){h.call(this.parentEl,this.el,e?e.el:t)}toString(){const e=document.createElement("div");return this.mount(e,null),e.innerHTML}mount(t,n){const i=d.call(e,!0);h.call(t,i,n),this.el=i,this.parentEl=t}patch(e,t){}}u&&(f.prototype.mount=function(t,o){const u=d.call(e,!0),p=new Array(n);this.refs=p,p[0]=u;for(let e=0;e<s;e++){const t=i[e];p[t.idx]=t.getVal.call(p[t.prevIdx])}if(a){const e=this.data;for(let t=0;t<a;t++){const n=r[t];n.setData.call(p[n.refIdx],e[t])}}if(h.call(t,u,o),l){const e=this.children;for(let t=0;t<l;t++){const n=e[t];if(n){const e=c[t],i=e.afterRefIdx?p[e.afterRefIdx]:null;n.isOnlyChild=e.isOnlyChild,n.mount(p[e.parentRefIdx],i)}}}this.el=u,this.parentEl=t},f.prototype.patch=function(e,t){if(this===e)return;const n=this.refs;if(a){const t=this.data,i=e.data;for(let e=0;e<a;e++){const o=t[e],s=i[e];if(o!==s){const t=r[e];t.updateData.call(n[t.refIdx],s,o)}}this.data=i}if(l){let i=this.children;const o=e.children;for(let e=0;e<l;e++){const s=i[e],r=o[e];if(s)r?s.patch(r,t):(t&&s.beforeRemove(),s.remove(),i[e]=void 0);else if(r){const t=c[e],o=t.afterRefIdx?n[t.afterRefIdx]:null;r.mount(n[t.parentRefIdx],o),i[e]=r}}}});return f}(e,t);if(t.cbRefs.length){const e=t.cbRefs,i=t.refList;let o=e.length;n=class extends n{mount(e,t){i.push(new Array(o)),super.mount(e,t);for(let e of i.pop())e()}remove(){super.remove();for(let t of e){(0,this.data[t])(null)}}}}if(t.children.length)return n=class extends n{constructor(e,t){super(e),this.children=t}},n.prototype.beforeRemove=I.prototype.beforeRemove,(e,t=[])=>new n(e,t);return e=>new n(e)}(i.el,o);return ne[e]=s,s}function oe(e){if(e.nodeType!==Node.TEXT_NODE||/\S/.test(e.textContent)){if(e.nodeType!==Node.ELEMENT_NODE||"pre"!==e.tagName)for(let t=e.childNodes.length-1;t>=0;--t)oe(e.childNodes.item(t))}else e.remove()}function se(e,t=null,n=null){switch(e.nodeType){case Node.ELEMENT_NODE:{let i=n&&n.currentNS;const o=e.tagName;let s;const r=[];if(o.startsWith("block-text-")){const e=parseInt(o.slice(11),10);r.push({type:"text",idx:e}),s=document.createTextNode("")}if(o.startsWith("block-child-")){n.isRef||re(n);const e=parseInt(o.slice(12),10);r.push({type:"child",idx:e}),s=document.createTextNode("")}if(i||(i=e.namespaceURI),s||(s=i?document.createElementNS(i,o):document.createElement(o)),s instanceof Element){if(!n){document.createElement("template").content.appendChild(s)}const t=e.attributes;for(let e=0;e<t.length;e++){const n=t[e].name,i=t[e].value;if(n.startsWith("block-handler-")){const e=parseInt(n.slice(14),10);r.push({type:"handler",idx:e,event:i})}else if(n.startsWith("block-attribute-")){const e=parseInt(n.slice(16),10);r.push({type:"attribute",idx:e,name:i,tag:o})}else if(n.startsWith("block-property-")){const e=parseInt(n.slice(15),10);r.push({type:"property",idx:e,name:i,tag:o})}else"block-attributes"===n?r.push({type:"attributes",idx:parseInt(i,10)}):"block-ref"===n?r.push({type:"ref",idx:parseInt(i,10)}):s.setAttribute(t[e].name,i)}}const a={parent:t,firstChild:null,nextSibling:null,el:s,info:r,refN:0,currentNS:i};if(e.firstChild){const t=e.childNodes[0];if(1===e.childNodes.length&&t.nodeType===Node.ELEMENT_NODE&&t.tagName.startsWith("block-child-")){const e=t.tagName,n=parseInt(e.slice(12),10);r.push({idx:n,type:"child",isOnlyChild:!0})}else{a.firstChild=se(e.firstChild,a,a),s.appendChild(a.firstChild.el);let t=e.firstChild,n=a.firstChild;for(;t=t.nextSibling;)n.nextSibling=se(t,n,a),s.appendChild(n.nextSibling.el),n=n.nextSibling}}return a.info.length&&re(a),a}case Node.TEXT_NODE:case Node.COMMENT_NODE:return{parent:t,firstChild:null,nextSibling:null,el:e.nodeType===Node.TEXT_NODE?document.createTextNode(e.textContent):document.createComment(e.textContent),info:[],refN:0,currentNS:null}}throw new s("boom")}function re(e){e.isRef=!0;do{e.refN++}while(e=e.parent)}function ae(e){let t=e.parent;for(;t&&t.nextSibling===e;)e=t,t=t.parent;return t}function le(e,t,n){if(!t){t={collectors:[],locations:[],children:new Array(e.info.filter((e=>"child"===e.type)).length),cbRefs:[],refN:e.refN,refList:[]},n=0}if(e.refN){const i=n,o=e.isRef,s=e.firstChild?e.firstChild.refN:0,r=e.nextSibling?e.nextSibling.refN:0;if(o){for(let t of e.info)t.refIdx=i;e.refIdx=i,function(e,t){for(let n of t.info)switch(n.type){case"text":e.locations.push({idx:n.idx,refIdx:n.refIdx,setData:ce,updateData:ce});break;case"child":n.isOnlyChild?e.children[n.idx]={parentRefIdx:n.refIdx,isOnlyChild:!0}:e.children[n.idx]={parentRefIdx:ae(t).refIdx,afterRefIdx:n.refIdx};break;case"property":{const t=n.refIdx,i=te(n.name);e.locations.push({idx:n.idx,refIdx:t,setData:i,updateData:i});break}case"attribute":{const t=n.refIdx;let i,o;"class"===n.name?(o=_,i=w):(o=g(n.name),i=o),e.locations.push({idx:n.idx,refIdx:t,setData:o,updateData:i});break}case"attributes":e.locations.push({idx:n.idx,refIdx:n.refIdx,setData:v,updateData:b});break;case"handler":{const{setup:t,update:i}=C(n.event);e.locations.push({idx:n.idx,refIdx:n.refIdx,setData:t,updateData:i});break}case"ref":const i=e.cbRefs.push(n.idx)-1;e.locations.push({idx:n.idx,refIdx:n.refIdx,setData:ue(i,e.refList),updateData:ee})}}(t,e),n++}if(r){const o=n+s;t.collectors.push({idx:o,prevIdx:i,getVal:Q}),le(e.nextSibling,t,o)}s&&(t.collectors.push({idx:n,prevIdx:i,getVal:J}),le(e.firstChild,t,n))}return t}function ce(e){X.call(this,Y(e))}function ue(e,t){return function(n){t[t.length-1][e]=()=>n(this)}}const de=Node.prototype,he=de.insertBefore,pe=de.appendChild,fe=de.removeChild,me=((e,t)=>Object.getOwnPropertyDescriptor(e,t))(de,"textContent").set;class ge{constructor(e){this.children=e}mount(e,t){const n=this.children,i=document.createTextNode("");this.anchor=i,he.call(e,i,t);const o=n.length;if(o){const t=n[0].mount;for(let s=0;s<o;s++)t.call(n[s],e,i)}this.parentEl=e}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t;const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].moveBeforeDOMNode(e,t);t.insertBefore(this.anchor,e)}moveBeforeVNode(e,t){if(e){const n=e.children[0];t=(n?n.firstNode():e.anchor)||null}const n=this.children;for(let e=0,i=n.length;e<i;e++)n[e].moveBeforeVNode(null,t);this.parentEl.insertBefore(this.anchor,t)}patch(e,t){if(this===e)return;const n=this.children,i=e.children;if(0===i.length&&0===n.length)return;this.children=i;const o=i[0]||n[0],{mount:s,patch:r,remove:a,beforeRemove:l,moveBeforeVNode:c,firstNode:u}=o,d=this.anchor,h=this.isOnlyChild,p=this.parentEl;if(0===i.length&&h){if(t)for(let e=0,t=n.length;e<t;e++)l.call(n[e]);return me.call(p,""),void pe.call(p,d)}let f,m=0,g=0,v=n[0],b=i[0],y=n.length-1,_=i.length-1,w=n[y],k=i[_];for(;m<=y&&g<=_;){if(null===v){v=n[++m];continue}if(null===w){w=n[--y];continue}let e=v.key,o=b.key;if(e===o){r.call(v,b,t),i[g]=v,v=n[++m],b=i[++g];continue}let a=w.key,l=k.key;if(a===l){r.call(w,k,t),i[_]=w,w=n[--y],k=i[--_];continue}if(e===l){r.call(v,k,t),i[_]=v;const e=i[_+1];c.call(v,e,d),v=n[++m],k=i[--_];continue}if(a===o){r.call(w,b,t),i[g]=w;const e=n[m];c.call(w,e,d),w=n[--y],b=i[++g];continue}f=f||be(n,m,y);let h=f[o];if(void 0===h)s.call(b,p,u.call(v)||null);else{const e=n[h];c.call(e,v,null),r.call(e,b,t),i[g]=e,n[h]=null}b=i[++g]}if(m<=y||g<=_)if(m>y){const e=i[_+1],t=e?u.call(e)||null:d;for(let e=g;e<=_;e++)s.call(i[e],p,t)}else for(let e=m;e<=y;e++){let i=n[e];i&&(t&&l.call(i),a.call(i))}}beforeRemove(){const e=this.children,t=e.length;if(t){const n=e[0].beforeRemove;for(let i=0;i<t;i++)n.call(e[i])}}remove(){const{parentEl:e,anchor:t}=this;if(this.isOnlyChild)me.call(e,"");else{const n=this.children,i=n.length;if(i){const e=n[0].remove;for(let t=0;t<i;t++)e.call(n[t])}fe.call(e,t)}}firstNode(){const e=this.children[0];return e?e.firstNode():void 0}toString(){return this.children.map((e=>e.toString())).join("")}}function ve(e){return new ge(e)}function be(e,t,n){let i={};for(let o=t;o<=n;o++)i[e[o].key]=o;return i}const ye=Node.prototype,_e=ye.insertBefore,we=ye.removeChild;class ke{constructor(e){this.content=[],this.html=e}mount(e,t){this.parentEl=e;const n=document.createElement("template");n.innerHTML=this.html,this.content=[...n.content.childNodes];for(let n of this.content)_e.call(e,n,t);if(!this.content.length){const n=document.createTextNode("");this.content.push(n),_e.call(e,n,t)}}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t;for(let n of this.content)_e.call(t,n,e)}moveBeforeVNode(e,t){const n=e?e.content[0]:t;this.moveBeforeDOMNode(n)}patch(e){if(this===e)return;const t=e.html;if(this.html!==t){const n=this.parentEl,i=this.content[0],o=document.createElement("template");o.innerHTML=t;const s=[...o.content.childNodes];for(let e of s)_e.call(n,e,i);if(!s.length){const e=document.createTextNode("");s.push(e),_e.call(n,e,i)}this.remove(),this.content=s,this.html=e.html}}beforeRemove(){}remove(){const e=this.parentEl;for(let t of this.content)we.call(e,t)}firstNode(){return this.content[0]}toString(){return this.html}}function xe(e){return new ke(e)}function Se(e,t,n=null){e.mount(t,n)}const Ce=new WeakMap,De=new WeakMap;function Te(e,t){if(!e)return!1;const n=e.fiber;n&&Ce.set(n,t);const i=De.get(e);if(i){let e=!1;for(let n=i.length-1;n>=0;n--)try{i[n](t),e=!0;break}catch(e){t=e}if(e)return!0}return Te(e.parent,t)}function Ee(e){let{error:t}=e;t instanceof s||(t=Object.assign(new s('An error occured in the owl lifecycle (see this Error\'s "cause" property)'),{cause:t}));const n="node"in e?e.node:e.fiber.node,i="fiber"in e?e.fiber:n.fiber;if(i){let e=i;do{e.node.fiber=e,e=e.parent}while(e);Ce.set(i.root,t)}if(!Te(n,t)){console.warn("[Owl] Unhandled error. Destroying the root component");try{n.app.destroy()}catch(e){console.error(e)}throw t}}function Me(){throw new s("Attempted to render cancelled fiber")}function Oe(e){let t=0;for(let n of e){let e=n.node;n.render=Me,0===e.status&&e.cancel(),e.fiber=null,n.bdom?e.forceNextRender=!0:t++,t+=Oe(n.children)}return t}class Le{constructor(e,t){if(this.bdom=null,this.children=[],this.appliedToDom=!1,this.deep=!1,this.childrenMap={},this.node=e,this.parent=t,t){this.deep=t.deep;const e=t.root;e.setCounter(e.counter+1),this.root=e,t.children.push(this)}else this.root=this}render(){let e=this.root.node,t=e.app.scheduler,n=e.parent;for(;n;){if(n.fiber){let i=n.fiber.root;if(0!==i.counter||!(e.parentKey in n.fiber.childrenMap))return void t.delayedRenders.push(this);n=i.node}e=n,n=n.parent}this._render()}_render(){const e=this.node,t=this.root;if(t){try{this.bdom=!0,this.bdom=e.renderFn()}catch(t){e.app.handleError({node:e,error:t})}t.setCounter(t.counter-1)}}}class Ne extends Le{constructor(){super(...arguments),this.counter=1,this.willPatch=[],this.patched=[],this.mounted=[],this.locked=!1}complete(){const e=this.node;let t;this.locked=!0;try{for(t of this.willPatch){let e=t.node;if(e.fiber===t){const t=e.component;for(let n of e.willPatch)n.call(t)}}t=void 0,e._patch(),this.locked=!1;let n=this.mounted;for(;t=n.pop();)if(t.appliedToDom)for(let e of t.node.mounted)e();let i=this.patched;for(;t=i.pop();)if(t.appliedToDom)for(let e of t.node.patched)e()}catch(n){this.locked=!1,e.app.handleError({fiber:t||this,error:n})}}setCounter(e){this.counter=e,0===e&&this.node.app.scheduler.flush()}}class Ae extends Ne{constructor(e,t,n={}){super(e,null),this.target=t,this.position=n.position||"last-child"}complete(){let e=this;try{const t=this.node;if(t.children=this.childrenMap,t.app.constructor.validateTarget(this.target),t.bdom)t.updateDom();else if(t.bdom=this.bdom,"last-child"===this.position||0===this.target.childNodes.length)Se(t.bdom,this.target);else{const e=this.target.childNodes[0];Se(t.bdom,this.target,e)}t.fiber=null,t.status=1,this.appliedToDom=!0;let n=this.mounted;for(;e=n.pop();)if(e.appliedToDom)for(let t of e.node.mounted)t()}catch(t){this.node.app.handleError({fiber:e,error:t})}}}const Pe=Symbol("Key changes"),Ie=()=>{throw new Error("Called NO_CALLBACK. Owl is broken, please report this to the maintainers.")},Re=Object.prototype.toString,$e=Object.prototype.hasOwnProperty,Fe=["Object","Array","Set","Map","WeakMap"],je=["Set","Map","WeakMap"];function We(e){return Re.call(Ve(e)).slice(8,-1)}function Be(e){return"object"==typeof e&&Fe.includes(We(e))}function ze(e,t){return Be(e)?Qe(e,t):e}const He=new WeakSet;function Ue(e){return He.add(e),e}function Ve(e){return Xe.has(e)?Xe.get(e):e}const Ge=new WeakMap;function Ye(e,t,n){if(n===Ie)return;Ge.get(e)||Ge.set(e,new Map);const i=Ge.get(e);i.get(t)||i.set(t,new Set),i.get(t).add(n),Ke.has(n)||Ke.set(n,new Set),Ke.get(n).add(e)}function qe(e,t){const n=Ge.get(e);if(!n)return;const i=n.get(t);if(i)for(const e of[...i])Ze(e),e()}const Ke=new WeakMap;function Ze(e){const t=Ke.get(e);if(t){for(const n of t){const t=Ge.get(n);if(t)for(const[n,i]of t.entries())i.delete(e),i.size||t.delete(n)}t.clear()}}const Xe=new WeakMap,Je=new WeakMap;function Qe(e,t=Ie){if(!Be(e))throw new s("Cannot make the given value reactive");if(He.has(e))return e;if(Xe.has(e))return Qe(Xe.get(e),t);Je.has(e)||Je.set(e,new WeakMap);const n=Je.get(e);if(!n.has(t)){const i=We(e),o=je.includes(i)?function(e,t,n){const i=rt[n](e,t);return Object.assign(et(t),{get:(e,n)=>$e.call(i,n)?i[n]:(Ye(e,n,t),ze(e[n],t))})}(e,t,i):et(t),s=new Proxy(e,o);n.set(t,s),Xe.set(s,e)}return n.get(t)}function et(e){return{get(t,n,i){const o=Object.getOwnPropertyDescriptor(t,n);return!o||o.writable||o.configurable?(Ye(t,n,e),ze(Reflect.get(t,n,i),e)):Reflect.get(t,n,i)},set(e,t,n,i){const o=$e.call(e,t),s=Reflect.get(e,t,i),r=Reflect.set(e,t,Ve(n),i);return!o&&$e.call(e,t)&&qe(e,Pe),(s!==Reflect.get(e,t,i)||"length"===t&&Array.isArray(e))&&qe(e,t),r},deleteProperty(e,t){const n=Reflect.deleteProperty(e,t);return qe(e,Pe),qe(e,t),n},ownKeys:t=>(Ye(t,Pe,e),Reflect.ownKeys(t)),has:(t,n)=>(Ye(t,Pe,e),Reflect.has(t,n))}}function tt(e,t,n){return i=>(i=Ve(i),Ye(t,i,n),ze(t[e](i),n))}function nt(e,t,n){return function*(){Ye(t,Pe,n);const i=t.keys();for(const o of t[e]()){const e=i.next().value;Ye(t,e,n),yield ze(o,n)}}}function it(e,t){return function(n,i){Ye(e,Pe,t),e.forEach((function(o,s,r){Ye(e,s,t),n.call(i,ze(o,t),ze(s,t),ze(r,t))}),i)}}function ot(e,t,n){return(i,o)=>{i=Ve(i);const s=n.has(i),r=n[t](i),a=n[e](i,o);return s!==n.has(i)&&qe(n,Pe),r!==n[t](i)&&qe(n,i),a}}function st(e){return()=>{const t=[...e.keys()];e.clear(),qe(e,Pe);for(const n of t)qe(e,n)}}const rt={Set:(e,t)=>({has:tt("has",e,t),add:ot("add","has",e),delete:ot("delete","has",e),keys:nt("keys",e,t),values:nt("values",e,t),entries:nt("entries",e,t),[Symbol.iterator]:nt(Symbol.iterator,e,t),forEach:it(e,t),clear:st(e),get size(){return Ye(e,Pe,t),e.size}}),Map:(e,t)=>({has:tt("has",e,t),get:tt("get",e,t),set:ot("set","get",e),delete:ot("delete","has",e),keys:nt("keys",e,t),values:nt("values",e,t),entries:nt("entries",e,t),[Symbol.iterator]:nt(Symbol.iterator,e,t),forEach:it(e,t),clear:st(e),get size(){return Ye(e,Pe,t),e.size}}),WeakMap:(e,t)=>({has:tt("has",e,t),get:tt("get",e,t),set:ot("set","get",e),delete:ot("delete","has",e)})};let at=null;function lt(){if(!at)throw new s("No active component (a hook function should only be called in 'setup')");return at}function ct(e,t){for(let n in t)void 0===e[n]&&(e[n]=t[n])}const ut=new WeakMap;function dt(e){const t=lt();let n=ut.get(t);return n||(n=function(e){let t=!1;return async(...n)=>{t||(t=!0,await Promise.resolve(),t=!1,e(...n))}}(t.render.bind(t,!1)),ut.set(t,n),t.willDestroy.push(Ze.bind(null,n))),Qe(e,n)}class ht{constructor(e,t,n,i,o){this.fiber=null,this.bdom=null,this.status=0,this.forceNextRender=!1,this.nextProps=null,this.children=Object.create(null),this.refs={},this.willStart=[],this.willUpdateProps=[],this.willUnmount=[],this.mounted=[],this.willPatch=[],this.patched=[],this.willDestroy=[],at=this,this.app=n,this.parent=i,this.props=t,this.parentKey=o;const s=e.defaultProps;t=Object.assign({},t),s&&ct(t,s);const r=i&&i.childEnv||n.env;this.childEnv=r;for(const e in t){const n=t[e];n&&"object"==typeof n&&Xe.has(n)&&(t[e]=dt(n))}this.component=new e(t,r,this);const a=Object.assign(Object.create(this.component),{this:this.component});this.renderFn=n.getTemplate(e.template).bind(this.component,a,this),this.component.setup(),at=null}mountComponent(e,t){const n=new Ae(this,e,t);this.app.scheduler.addFiber(n),this.initiateRender(n)}async initiateRender(e){this.fiber=e,this.mounted.length&&e.root.mounted.push(e);const t=this.component;try{await Promise.all(this.willStart.map((e=>e.call(t))))}catch(e){return void this.app.handleError({node:this,error:e})}0===this.status&&this.fiber===e&&e.render()}async render(e){if(this.status>=2)return;let t=this.fiber;if(t&&(t.root.locked||!0===t.bdom)&&(await Promise.resolve(),t=this.fiber),t){if(!t.bdom&&!Ce.has(t))return void(e&&(t.deep=e));e=e||t.deep}else if(!this.bdom)return;const n=function(e){let t=e.fiber;if(t){let e=t.root;return e.locked=!0,e.setCounter(e.counter+1-Oe(t.children)),e.locked=!1,t.children=[],t.childrenMap={},t.bdom=null,Ce.has(t)&&(Ce.delete(t),Ce.delete(e),t.appliedToDom=!1),t}const n=new Ne(e,null);return e.willPatch.length&&n.willPatch.push(n),e.patched.length&&n.patched.push(n),n}(this);n.deep=e,this.fiber=n,this.app.scheduler.addFiber(n),await Promise.resolve(),this.status>=2||this.fiber!==n||!t&&n.parent||n.render()}cancel(){this._cancel(),delete this.parent.children[this.parentKey],this.app.scheduler.scheduleDestroy(this)}_cancel(){this.status=2;const e=this.children;for(let t in e)e[t]._cancel()}destroy(){let e=1===this.status;this._destroy(),e&&this.bdom.remove()}_destroy(){const e=this.component;if(1===this.status)for(let t of this.willUnmount)t.call(e);for(let e of Object.values(this.children))e._destroy();if(this.willDestroy.length)try{for(let t of this.willDestroy)t.call(e)}catch(e){this.app.handleError({error:e,node:this})}this.status=3}async updateAndRender(e,t){this.nextProps=e,e=Object.assign({},e);const n=function(e,t){let n=e.fiber;return n&&(Oe(n.children),n.root=null),new Le(e,t)}(this,t);this.fiber=n;const i=this.component,o=i.constructor.defaultProps;o&&ct(e,o),at=this;for(const t in e){const n=e[t];n&&"object"==typeof n&&Xe.has(n)&&(e[t]=dt(n))}at=null;const s=Promise.all(this.willUpdateProps.map((t=>t.call(i,e))));if(await s,n!==this.fiber)return;i.props=e,n.render();const r=t.root;this.willPatch.length&&r.willPatch.push(n),this.patched.length&&r.patched.push(n)}updateDom(){if(this.fiber)if(this.bdom===this.fiber.bdom)for(let e in this.children){this.children[e].updateDom()}else this.bdom.patch(this.fiber.bdom,!1),this.fiber.appliedToDom=!0,this.fiber=null}setRef(e,t){t&&(this.refs[e]=t)}firstNode(){const e=this.bdom;return e?e.firstNode():void 0}mount(e,t){const n=this.fiber.bdom;this.bdom=n,n.mount(e,t),this.status=1,this.fiber.appliedToDom=!0,this.children=this.fiber.childrenMap,this.fiber=null}moveBeforeDOMNode(e,t){this.bdom.moveBeforeDOMNode(e,t)}moveBeforeVNode(e,t){this.bdom.moveBeforeVNode(e?e.bdom:null,t)}patch(){this.fiber&&this.fiber.parent&&(this._patch(),this.props=this.nextProps)}_patch(){let e=!1;for(let t in this.children){e=!0;break}const t=this.fiber;this.children=t.childrenMap,this.bdom.patch(t.bdom,e),t.appliedToDom=!0,this.fiber=null}beforeRemove(){this._destroy()}remove(){this.bdom.remove()}get name(){return this.component.constructor.name}get subscriptions(){const e=ut.get(this);return e?(t=e,[...Ke.get(t)||[]].map((e=>{const n=Ge.get(e);let i=[];if(n)for(const[e,o]of n)o.has(t)&&i.push(e);return{target:e,keys:i}}))):[];var t}}const pt=Symbol("timeout");function ft(e,t){const n=new s(`The following error occurred in ${t}: `),i=new s(`${t}'s promise hasn't resolved after 3 seconds`),o=lt();return(...s)=>{const r=e=>{throw n.cause=e,e instanceof Error?n.message+=`"${e.message}"`:n.message=`Something that is not an Error was thrown in ${t} (see this Error's "cause" property)`,n};try{const n=e(...s);if(n instanceof Promise){if("onWillStart"===t||"onWillUpdateProps"===t){const e=o.fiber;Promise.race([n.catch((()=>{})),new Promise((e=>setTimeout((()=>e(pt)),3e3)))]).then((t=>{t===pt&&o.fiber===e&&console.warn(i)}))}return n.catch(r)}return n}catch(e){r(e)}}}function mt(e){const t=lt(),n=t.app.dev?ft:e=>e;t.mounted.push(n(e.bind(t.component),"onMounted"))}function gt(e){const t=lt(),n=t.app.dev?ft:e=>e;t.patched.push(n(e.bind(t.component),"onPatched"))}function vt(e){const t=lt(),n=t.app.dev?ft:e=>e;t.willUnmount.unshift(n(e.bind(t.component),"onWillUnmount"))}class bt{constructor(e,t,n){this.props=e,this.env=t,this.__owl__=n}setup(){}render(e=!1){this.__owl__.render(!0===e)}}bt.template="";const yt=V("").constructor;class _t extends yt{constructor(e,t){super(""),this.target=null,this.selector=e,this.content=t}mount(e,t){super.mount(e,t),this.target=document.querySelector(this.selector),this.target?this.content.mount(this.target,null):this.content.mount(e,t)}beforeRemove(){this.content.beforeRemove()}remove(){this.content&&(super.remove(),this.content.remove(),this.content=null)}patch(e){super.patch(e),this.content?this.content.patch(e.content,!0):(this.content=e.content,this.content.mount(this.target,null))}}class wt extends bt{setup(){const e=this.__owl__;mt((()=>{const t=e.bdom;if(!t.target){const e=document.querySelector(this.props.target);if(!e)throw new s("invalid portal target");t.content.moveBeforeDOMNode(e.firstChild,e)}})),vt((()=>{e.bdom.remove()}))}}wt.template="__portal__",wt.props={target:{type:String},slots:!0};const kt=e=>Array.isArray(e),xt=e=>"object"!=typeof e,St=e=>"object"==typeof e&&e&&"value"in e;function Ct(e){return"object"==typeof e&&"optional"in e&&e.optional||!1}function Dt(e){return"*"===e||!0===e?"value":e.name.toLowerCase()}function Tt(e){return xt(e)?Dt(e):kt(e)?e.map(Tt).join(" or "):St(e)?String(e.value):"element"in e?`list of ${Tt({type:e.element,optional:!1})}s`:"shape"in e?"object":Tt(e.type||"*")}function Et(e,t){var n;Array.isArray(t)&&(n=t,t=Object.fromEntries(n.map((e=>e.endsWith("?")?[e.slice(0,-1),{optional:!0}]:[e,{type:"*",optional:!1}])))),e=Ve(e);let i=[];for(let n in e)if(n in t){let o=Mt(n,e[n],t[n]);o&&i.push(o)}else"*"in t||i.push(`unknown key '${n}'`);for(let n in t){const o=t[n];if("*"!==n&&!Ct(o)&&!(n in e)){const e="object"==typeof o&&!Array.isArray(o);let t="*"===o||(e&&"type"in o?"*"===o.type:e)?"":` (should be a ${Tt(o)})`;i.push(`'${n}' is missing${t}`)}}return i}function Mt(e,t,n){if(void 0===t)return Ct(n)?null:`'${e}' is undefined (should be a ${Tt(n)})`;if(xt(n))return function(e,t,n){if("function"==typeof n)if("object"==typeof t){if(!(t instanceof n))return`'${e}' is not a ${Dt(n)}`}else if(typeof t!==n.name.toLowerCase())return`'${e}' is not a ${Dt(n)}`;return null}(e,t,n);if(St(n))return t===n.value?null:`'${e}' is not equal to '${n.value}'`;if(kt(n)){let i=n.find((n=>!Mt(e,t,n)));return i?null:`'${e}' is not a ${Tt(n)}`}let i=null;if("element"in n)i=function(e,t,n){if(!Array.isArray(t))return`'${e}' is not a list of ${Tt(n)}s`;for(let i=0;i<t.length;i++){const o=Mt(`${e}[${i}]`,t[i],n);if(o)return o}return null}(e,t,n.element);else if("shape"in n)if("object"!=typeof t||Array.isArray(t))i=`'${e}' is not an object`;else{const o=Et(t,n.shape);o.length&&(i=`'${e}' doesn't have the correct shape (${o.join(", ")})`)}else if("values"in n)if("object"!=typeof t||Array.isArray(t))i=`'${e}' is not an object`;else{const o=Object.entries(t).map((([e,t])=>Mt(e,t,n.values))).filter(Boolean);o.length&&(i=`some of the values in '${e}' are invalid (${o.join(", ")})`)}return"type"in n&&!i&&(i=Mt(e,t,n.type)),"validate"in n&&!i&&(i=n.validate(t)?null:`'${e}' is not valid`),i}const Ot=Object.create;function Lt(e){const t=Ot(e);for(let n in e)t[n]=e[n];return t}const Nt=Symbol("isBoundary");class At{constructor(e,t,n,i,o){this.fn=e,this.ctx=Lt(t),this.component=n,this.node=i,this.key=o}evaluate(){return this.fn.call(this.component,this.ctx,this.node,this.key)}toString(){return this.evaluate().toString()}}function Pt(e,t,n){const i="string"!=typeof e?e:n.constructor.components[e];if(!i)return;const o=i.props;if(!o)return void(n.__owl__.app.warnIfNoStaticProps&&console.warn(`Component '${i.name}' does not have a static props description`));const r=i.defaultProps;if(r){let e=e=>Array.isArray(o)?o.includes(e):e in o&&!("*"in o)&&!Ct(o[e]);for(let t in r)if(e(t))throw new s(`A default value cannot be defined for a mandatory prop (name: '${t}', component: ${i.name})`)}const a=Et(t,o);if(a.length)throw new s(`Invalid props for component '${i.name}': `+a.join(", "))}const It={withDefault:function(e,t){return null==e||!1===e?t:e},zero:Symbol("zero"),isBoundary:Nt,callSlot:function(e,t,n,i,s,r,a){n=n+"__slot_"+i;const l=e.props.slots||{},{__render:c,__ctx:u,__scope:d}=l[i]||{},h=Ot(u||{});d&&(h[d]=r);const p=c?c(h,t,n):null;if(a){let r,l;return p?r=s?o(i,p):p:l=a(e,t,n),R([r,l])}return p||V("")},capture:Lt,withKey:function(e,t){return e.key=t,e},prepareList:function(e){let t,n;if(Array.isArray(e))t=e,n=e;else if(e instanceof Map)t=[...e.keys()],n=[...e.values()];else if(Symbol.iterator in Object(e))t=[...e],n=t;else{if(!e||"object"!=typeof e)throw new s(`Invalid loop expression: "${e}" is not iterable`);n=Object.values(e),t=Object.keys(e)}const i=n.length;return[t,n,i,new Array(i)]},setContextValue:function(e,t,n){const i=e;for(;!e.hasOwnProperty(t)&&!e.hasOwnProperty(Nt);){const t=e.__proto__;if(!t){e=i;break}e=t}e[t]=n},shallowEqual:function(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},toNumber:function(e){const t=parseFloat(e);return isNaN(t)?e:t},validateProps:Pt,LazyValue:At,safeOutput:function(e,t){if(null==e)return t?o("default",t):o("undefined",V(""));let n,i;switch(typeof e){case"object":e instanceof S?(n="string_safe",i=xe(e)):e instanceof At?(n="lazy_value",i=e.evaluate()):e instanceof String?(n="string_unsafe",i=V(e)):(n="block_safe",i=e);break;case"string":n="string_unsafe",i=V(e);break;default:n="string_unsafe",i=V(String(e))}return o(n,i)},createCatcher:function(e){const t=Object.keys(e).length;class n{constructor(e,t){this.handlerFns=[],this.afterNode=null,this.child=e,this.handlerData=t}mount(t,n){this.parentEl=t,this.child.mount(t,n),this.afterNode=document.createTextNode(""),t.insertBefore(this.afterNode,n),this.wrapHandlerData();for(let n in e){const i=e[n],o=C(n);this.handlerFns[i]=o,o.setup.call(t,this.handlerData[i])}}wrapHandlerData(){for(let e=0;e<t;e++){let t=this.handlerData[e],n=t.length-2,i=t[n];const o=this;t[n]=function(e){const t=e.target;let n=o.child.firstNode();const s=o.afterNode;for(;n&&n!==s;){if(n.contains(t))return i.call(this,e);n=n.nextSibling}}}}moveBeforeDOMNode(e,t=this.parentEl){this.parentEl=t,this.child.moveBeforeDOMNode(e,t),t.insertBefore(this.afterNode,e)}moveBeforeVNode(e,t){e&&(t=e.firstNode()||t),this.child.moveBeforeVNode(e?e.child:null,t),this.parentEl.insertBefore(this.afterNode,t)}patch(e,n){if(this!==e){this.handlerData=e.handlerData,this.wrapHandlerData();for(let e=0;e<t;e++)this.handlerFns[e].update.call(this.parentEl,this.handlerData[e]);this.child.patch(e.child,n)}}beforeRemove(){this.child.beforeRemove()}remove(){for(let e=0;e<t;e++)this.handlerFns[e].remove.call(this.parentEl);this.child.remove(),this.afterNode.remove()}firstNode(){return this.child.firstNode()}toString(){return this.child.toString()}}return function(e,t){return new n(e,t)}},markRaw:Ue,OwlError:s,makeRefWrapper:function(e){let t=new Set;return(n,i)=>{if(t.has(n))throw new s(`Cannot set the same ref more than once in the same component, ref "${n}" was set multiple times in ${e.name}`);return t.add(n),i}}};function Rt(e){const t=(new DOMParser).parseFromString(e,"text/xml");if(t.getElementsByTagName("parsererror").length){let n="Invalid XML in template.";const i=t.getElementsByTagName("parsererror")[0].textContent;if(i){n+="\nThe parser has produced the following error message:\n"+i;const t=/\d+/g,o=t.exec(i);if(o){const s=Number(o[0]),r=e.split("\n")[s-1],a=t.exec(i);if(r&&a){const e=Number(a[0])-1;r[e]&&(n+=`\nThe error might be located at xml line ${s} column ${e}\n${r}\n${"-".repeat(e-1)}^`)}}}throw new s(n)}return t}const $t={text:V,createBlock:ie,list:ve,multi:R,html:xe,toggler:o,comment:G};class Ft{constructor(e={}){if(this.rawTemplates=Object.create(jt),this.templates={},this.Portal=wt,this.dev=e.dev||!1,this.translateFn=e.translateFn,this.translatableAttributes=e.translatableAttributes,e.templates)if(e.templates instanceof Document||"string"==typeof e.templates)this.addTemplates(e.templates);else for(const t in e.templates)this.addTemplate(t,e.templates[t]);this.getRawTemplate=e.getTemplate}static registerTemplate(e,t){jt[e]=t}addTemplate(e,t){if(e in this.rawTemplates){if(!this.dev)return;const n=this.rawTemplates[e];if(("string"==typeof n?n:n instanceof Element?n.outerHTML:n.toString())===("string"==typeof t?t:t.outerHTML))return;throw new s(`Template ${e} already defined with different content`)}this.rawTemplates[e]=t}addTemplates(e){if(e){e=e instanceof Document?e:Rt(e);for(const t of e.querySelectorAll("[t-name]")){const e=t.getAttribute("t-name");this.addTemplate(e,t)}}}getTemplate(e){var t;if(!(e in this.templates)){const n=(null===(t=this.getRawTemplate)||void 0===t?void 0:t.call(this,e))||this.rawTemplates[e];if(void 0===n){let t="";try{t=` (for component "${lt().component.constructor.name}")`}catch{}throw new s(`Missing template: "${e}"${t}`)}const i="function"==typeof n&&!(n instanceof Element)?n:this._compileTemplate(e,n),o=this.templates;this.templates[e]=function(t,n){return o[e].call(this,t,n)};const r=i(this,$t,It);this.templates[e]=r}return this.templates[e]}_compileTemplate(e,t){throw new s("Unable to compile a template. Please use owl full build instead")}callTemplate(e,t,n,i,s){return o(t,this.getTemplate(t).call(e,n,i,s+t))}}const jt={};function Wt(...e){const t="__template__"+Wt.nextId++,n=String.raw(...e);return jt[t]=n,t}Wt.nextId=1,Ft.registerTemplate("__portal__",(function(e,t,n){let{callSlot:i}=n;return function(e,t,n=""){return new _t(e.props.target,i(e,t,n,"default",!1,null))}}));const Bt="true,false,NaN,null,undefined,debugger,console,window,in,instanceof,new,function,return,eval,void,Math,RegExp,Array,Object,Date".split(","),zt=Object.assign(Object.create(null),{and:"&&",or:"||",gt:">",gte:">=",lt:"<",lte:"<="}),Ht=Object.assign(Object.create(null),{"{":"LEFT_BRACE","}":"RIGHT_BRACE","[":"LEFT_BRACKET","]":"RIGHT_BRACKET",":":"COLON",",":"COMMA","(":"LEFT_PAREN",")":"RIGHT_PAREN"}),Ut="...,.,===,==,+,!==,!=,!,||,&&,>=,>,<=,<,?,-,*,/,%,typeof ,=>,=,;,in ,new ,|,&,^,~".split(",");const Vt=[function(e){let t=e[0],n=t;if("'"!==t&&'"'!==t&&"`"!==t)return!1;let i,o=1;for(;e[o]&&e[o]!==n;){if(i=e[o],t+=i,"\\"===i){if(o++,i=e[o],!i)throw new s("Invalid expression");t+=i}o++}if(e[o]!==n)throw new s("Invalid expression");return t+=n,"`"===n?{type:"TEMPLATE_STRING",value:t,replace:e=>t.replace(/\$\{(.*?)\}/g,((t,n)=>"${"+e(n)+"}"))}:{type:"VALUE",value:t}},function(e){let t=e[0];if(t&&t.match(/[0-9]/)){let n=1;for(;e[n]&&e[n].match(/[0-9]|\./);)t+=e[n],n++;return{type:"VALUE",value:t}}return!1},function(e){for(let t of Ut)if(e.startsWith(t))return{type:"OPERATOR",value:t};return!1},function(e){let t=e[0];if(t&&t.match(/[a-zA-Z_\$]/)){let n=1;for(;e[n]&&e[n].match(/\w/);)t+=e[n],n++;return t in zt?{type:"OPERATOR",value:zt[t],size:t.length}:{type:"SYMBOL",value:t}}return!1},function(e){const t=e[0];return!(!t||!(t in Ht))&&{type:Ht[t],value:t}}];const Gt=e=>e&&("LEFT_BRACE"===e.type||"COMMA"===e.type),Yt=e=>e&&("RIGHT_BRACE"===e.type||"COMMA"===e.type);function qt(e){const t=new Set,n=function(e){const t=[];let n,i=!0,o=e;try{for(;i;)if(o=o.trim(),o){for(let e of Vt)if(i=e(o),i){t.push(i),o=o.slice(i.size||i.value.length);break}}else i=!1}catch(e){n=e}if(o.length||n)throw new s(`Tokenizer error: could not tokenize \`${e}\``);return t}(e);let i=0,o=[];for(;i<n.length;){let e=n[i],s=n[i-1],r=n[i+1],a=o[o.length-1];switch(e.type){case"LEFT_BRACE":case"LEFT_BRACKET":o.push(e.type);break;case"RIGHT_BRACE":case"RIGHT_BRACKET":o.pop()}let l="SYMBOL"===e.type&&!Bt.includes(e.value);if("SYMBOL"!==e.type||Bt.includes(e.value)||s&&("LEFT_BRACE"===a&&Gt(s)&&Yt(r)&&(n.splice(i+1,0,{type:"COLON",value:":"},{...e}),r=n[i+1]),"OPERATOR"===s.type&&"."===s.value?l=!1:"LEFT_BRACE"!==s.type&&"COMMA"!==s.type||r&&"COLON"===r.type&&(l=!1)),"TEMPLATE_STRING"===e.type&&(e.value=e.replace((e=>Zt(e)))),r&&"OPERATOR"===r.type&&"=>"===r.value)if("RIGHT_PAREN"===e.type){let e=i-1;for(;e>0&&"LEFT_PAREN"!==n[e].type;)"SYMBOL"===n[e].type&&n[e].originalValue&&(n[e].value=n[e].originalValue,t.add(n[e].value)),e--}else t.add(e.value);l&&(e.varName=e.value,t.has(e.value)||(e.originalValue=e.value,e.value=`ctx['${e.value}']`)),i++}for(const e of n)"SYMBOL"===e.type&&e.varName&&t.has(e.value)&&(e.originalValue=e.value,e.value=`_${e.value}`,e.isLocal=!0);return n}const Kt=new Map([["in "," in "]]);function Zt(e){return qt(e).map((e=>Kt.get(e.value)||e.value)).join("")}const Xt=/\{\{.*?\}\}|\#\{.*?\}/g;function Jt(e,t){let n=e.match(Xt);if(n&&n[0].length===e.length)return`(${t(e.slice(2,"{"===n[0][0]?-2:-1))})`;let i=e.replace(Xt,(e=>"${"+t(e.slice(2,"{"===e[0]?-2:-1))+"}"));return"`"+i+"`"}function Qt(e){return Jt(e,Zt)}const en=/\s+/g,tn=document.implementation.createDocument(null,null,null),nn=new Set(["stop","capture","prevent","self","synthetic"]);let on={};function sn(e=""){return on[e]=(on[e]||0)+1,e+on[e]}function rn(e,t){switch(e){case"input":return"checked"===t||"indeterminate"===t||"value"===t||"readonly"===t||"readOnly"===t||"disabled"===t;case"option":return"selected"===t||"disabled"===t;case"textarea":return"value"===t||"readonly"===t||"readOnly"===t||"disabled"===t;case"select":return"value"===t||"disabled"===t;case"button":case"optgroup":return"disabled"===t}return!1}class an{constructor(e,t){this.dynamicTagName=null,this.isRoot=!1,this.hasDynamicChildren=!1,this.children=[],this.data=[],this.childNumber=0,this.parentVar="",this.id=an.nextBlockId++,this.varName="b"+this.id,this.blockName="block"+this.id,this.target=e,this.type=t}insertData(e,t="d"){const n=sn(t);return this.target.addLine(`let ${n} = ${e};`),this.data.push(n)-1}insert(e){this.currentDom?this.currentDom.appendChild(e):this.dom=e}generateExpr(e){if("block"===this.type){const e=this.children.length;let t=this.data.length?`[${this.data.join(", ")}]`:e?"[]":"";return e&&(t+=", ["+this.children.map((e=>e.varName)).join(", ")+"]"),this.dynamicTagName?`toggler(${this.dynamicTagName}, ${this.blockName}(${this.dynamicTagName})(${t}))`:`${this.blockName}(${t})`}return"list"===this.type?`list(c_block${this.id})`:e}asXmlString(){const e=tn.createElement("t");return e.appendChild(this.dom),e.innerHTML}}function ln(e,t){return Object.assign({block:null,index:0,forceNewBlock:!0,translate:e.translate,tKeyExpr:null,nameSpace:e.nameSpace,tModelSelectedExpr:e.tModelSelectedExpr},t)}an.nextBlockId=1;class cn{constructor(e,t){this.indentLevel=0,this.loopLevel=0,this.code=[],this.hasRoot=!1,this.hasCache=!1,this.shouldProtectScope=!1,this.hasRefWrapper=!1,this.name=e,this.on=t||null}addLine(e,t){const n=new Array(this.indentLevel+2).join("  ");void 0===t?this.code.push(n+e):this.code.splice(t,0,n+e)}generateCode(){let e=[];e.push(`function ${this.name}(ctx, node, key = "") {`),this.shouldProtectScope&&(e.push("  ctx = Object.create(ctx);"),e.push("  ctx[isBoundary] = 1")),this.hasRefWrapper&&e.push("  let refWrapper = makeRefWrapper(this.__owl__);"),this.hasCache&&(e.push("  let cache = ctx.cache || {};"),e.push("  let nextCache = ctx.cache = {};"));for(let t of this.code)e.push(t);return this.hasRoot||e.push("return text('');"),e.push("}"),e.join("\n  ")}currentKey(e){let t=this.loopLevel?`key${this.loopLevel}`:"key";return e.tKeyExpr&&(t=`${e.tKeyExpr} + ${t}`),t}}const un=["label","title","placeholder","alt"],dn=/^(\s*)([\s\S]+?)(\s*)$/;class hn{constructor(e,t){if(this.blocks=[],this.nextBlockId=1,this.isDebug=!1,this.targets=[],this.target=new cn("template"),this.translatableAttributes=un,this.staticDefs=[],this.slotNames=new Set,this.helpers=new Set,this.translateFn=t.translateFn||(e=>e),t.translatableAttributes){const e=new Set(un);for(let n of t.translatableAttributes)n.startsWith("-")?e.delete(n.slice(1)):e.add(n);this.translatableAttributes=[...e]}this.hasSafeContext=t.hasSafeContext||!1,this.dev=t.dev||!1,this.ast=e,this.templateName=t.name}generateCode(){const e=this.ast;this.isDebug=12===e.type,an.nextBlockId=1,on={},this.compileAST(e,{block:null,index:0,forceNewBlock:!1,isLast:!0,translate:!0,tKeyExpr:null});let t=["  let { text, createBlock, list, multi, html, toggler, comment } = bdom;"];this.helpers.size&&t.push(`let { ${[...this.helpers].join(", ")} } = helpers;`),this.templateName&&t.push(`// Template name: "${this.templateName}"`);for(let{id:e,expr:n}of this.staticDefs)t.push(`const ${e} = ${n};`);if(this.blocks.length){t.push("");for(let e of this.blocks)if(e.dom){let n=e.asXmlString();n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.dynamicTagName?(n=n.replace(/^<\w+/,`<\${tag || '${e.dom.nodeName}'}`),n=n.replace(/\w+>$/,`\${tag || '${e.dom.nodeName}'}>`),t.push(`let ${e.blockName} = tag => createBlock(\`${n}\`);`)):t.push(`let ${e.blockName} = createBlock(\`${n}\`);`)}}if(this.targets.length)for(let e of this.targets)t.push(""),t=t.concat(e.generateCode());t.push(""),t=t.concat("return "+this.target.generateCode());const n=t.join("\n  ");if(this.isDebug){const e=`[Owl Debug]\n${n}`;console.log(e)}return n}compileInNewTarget(e,t,n,i){const o=sn(e),s=this.target,r=new cn(o,i);return this.targets.push(r),this.target=r,this.compileAST(t,ln(n)),this.target=s,o}addLine(e,t){this.target.addLine(e,t)}define(e,t){this.addLine(`const ${e} = ${t};`)}insertAnchor(e,t=e.children.length){const n=`block-child-${t}`,i=tn.createElement(n);e.insert(i)}createBlock(e,t,n){const i=this.target.hasRoot,o=new an(this.target,t);return i||(this.target.hasRoot=!0,o.isRoot=!0),e&&(e.children.push(o),"list"===e.type&&(o.parentVar=`c_block${e.id}`)),o}insertBlock(e,t,n){let i=t.generateExpr(e);if(t.parentVar){let e=this.target.currentKey(n);return this.helpers.add("withKey"),void this.addLine(`${t.parentVar}[${n.index}] = withKey(${i}, ${e});`)}n.tKeyExpr&&(i=`toggler(${n.tKeyExpr}, ${i})`),t.isRoot?(this.target.on&&(i=this.wrapWithEventCatcher(i,this.target.on)),this.addLine(`return ${i};`)):this.define(t.varName,i)}captureExpression(e,t=!1){if(!t&&!e.includes("=>"))return Zt(e);const n=qt(e),i=new Map;return n.map((e=>{if(e.varName&&!e.isLocal){if(!i.has(e.varName)){const t=sn("v");i.set(e.varName,t),this.define(t,e.value)}e.value=i.get(e.varName)}return e.value})).join("")}translate(e){const t=dn.exec(e);return t[1]+this.translateFn(t[2])+t[3]}compileAST(e,t){switch(e.type){case 1:return this.compileComment(e,t);case 0:return this.compileText(e,t);case 2:return this.compileTDomNode(e,t);case 4:return this.compileTEsc(e,t);case 8:return this.compileTOut(e,t);case 5:return this.compileTIf(e,t);case 9:return this.compileTForeach(e,t);case 10:return this.compileTKey(e,t);case 3:return this.compileMulti(e,t);case 7:return this.compileTCall(e,t);case 15:return this.compileTCallBlock(e,t);case 6:return this.compileTSet(e,t);case 11:return this.compileComponent(e,t);case 12:return this.compileDebug(e,t);case 13:return this.compileLog(e,t);case 14:return this.compileTSlot(e,t);case 16:return this.compileTTranslation(e,t);case 17:return this.compileTPortal(e,t)}}compileDebug(e,t){return this.addLine("debugger;"),e.content?this.compileAST(e.content,t):null}compileLog(e,t){return this.addLine(`console.log(${Zt(e.expr)});`),e.content?this.compileAST(e.content,t):null}compileComment(e,t){let{block:n,forceNewBlock:i}=t;if(!n||i)n=this.createBlock(n,"comment",t),this.insertBlock(`comment(\`${e.value}\`)`,n,{...t,forceNewBlock:i&&!n});else{const t=tn.createComment(e.value);n.insert(t)}return n.varName}compileText(e,t){let{block:n,forceNewBlock:i}=t,o=e.value;if(o&&!1!==t.translate&&(o=this.translate(o)),t.inPreTag||(o=o.replace(en," ")),!n||i)n=this.createBlock(n,"text",t),this.insertBlock(`text(\`${o}\`)`,n,{...t,forceNewBlock:i&&!n});else{const t=0===e.type?tn.createTextNode:tn.createComment;n.insert(t.call(tn,o))}return n.varName}generateHandlerCode(e,t){const n=e.split(".").slice(1).map((e=>{if(!nn.has(e))throw new s(`Unknown event modifier: '${e}'`);return`"${e}"`}));let i="";return n.length&&(i=`${n.join(",")}, `),`[${i}${this.captureExpression(t)}, ctx]`}compileTDomNode(e,t){let{block:n,forceNewBlock:i}=t;const o=!n||i||null!==e.dynamicTag||e.ns;let s=this.target.code.length;if(o&&((e.dynamicTag||t.tKeyExpr||e.ns)&&t.block&&this.insertAnchor(t.block),n=this.createBlock(n,"block",t),this.blocks.push(n),e.dynamicTag)){const t=sn("tag");this.define(t,Zt(e.dynamicTag)),n.dynamicTagName=t}const r={};for(let i in e.attrs){let o,s;if(i.startsWith("t-attf")){o=Qt(e.attrs[i]);const t=n.insertData(o,"attr");s=i.slice(7),r["block-attribute-"+t]=s}else if(i.startsWith("t-att"))if(s="t-att"===i?null:i.slice(6),o=Zt(e.attrs[i]),s&&rn(e.tag,s)){"readonly"===s&&(s="readOnly"),o="value"===s?`new String((${o}) === 0 ? 0 : ((${o}) || ""))`:`new Boolean(${o})`;r[`block-property-${n.insertData(o,"prop")}`]=s}else{const e=n.insertData(o,"attr");"t-att"===i?r["block-attributes"]=String(e):r[`block-attribute-${e}`]=s}else this.translatableAttributes.includes(i)?r[i]=this.translateFn(e.attrs[i]):(o=`"${e.attrs[i]}"`,s=i,r[i]=e.attrs[i]);if("value"===s&&t.tModelSelectedExpr){r[`block-attribute-${n.insertData(`${t.tModelSelectedExpr} === ${o}`,"attr")}`]="selected"}}let a;if(e.model){const{hasDynamicChildren:t,baseExpr:i,expr:o,eventType:s,shouldNumberize:l,shouldTrim:c,targetAttr:u,specialInitTargetAttr:d}=e.model,h=Zt(i),p=sn("bExpr");this.define(p,h);const f=Zt(o),m=sn("expr");this.define(m,f);const g=`${p}[${m}]`;let v;if(d){let t=u in r&&`'${r[u]}'`;if(!t&&e.attrs){const n=e.attrs[`t-att-${u}`];n&&(t=Zt(n))}v=n.insertData(`${g} === ${t}`,"prop"),r[`block-property-${v}`]=d}else if(t){a=`${sn("bValue")}`,this.define(a,g)}else v=n.insertData(`${g}`,"prop"),r[`block-property-${v}`]=u;this.helpers.add("toNumber");let b=`ev.target.${u}`;b=c?`${b}.trim()`:b,b=l?`toNumber(${b})`:b;const y=`[(ev) => { ${g} = ${b}; }]`;v=n.insertData(y,"hdlr"),r[`block-handler-${v}`]=s}for(let t in e.on){const i=this.generateHandlerCode(t,e.on[t]);r[`block-handler-${n.insertData(i,"hdlr")}`]=t}if(e.ref){this.dev&&(this.helpers.add("makeRefWrapper"),this.target.hasRefWrapper=!0);const t=Xt.test(e.ref);let i=`\`${e.ref}\``;t&&(i=Jt(e.ref,(e=>this.captureExpression(e,!0))));let o=`(el) => this.__owl__.setRef((${i}), el)`;this.dev&&(o=`refWrapper(${i}, ${o})`);const s=n.insertData(o,"ref");r["block-ref"]=String(s)}const l=e.ns||t.nameSpace,c=l?tn.createElementNS(l,e.tag):tn.createElement(e.tag);for(const[e,t]of Object.entries(r))"class"===e&&""===t||c.setAttribute(e,t);if(n.insert(c),e.content.length){const i=n.currentDom;n.currentDom=c;const o=e.content;for(let i=0;i<o.length;i++){const s=e.content[i],r=ln(t,{block:n,index:n.childNumber,forceNewBlock:!1,isLast:t.isLast&&i===o.length-1,tKeyExpr:t.tKeyExpr,nameSpace:l,tModelSelectedExpr:a,inPreTag:t.inPreTag||"pre"===e.tag});this.compileAST(s,r)}n.currentDom=i}if(o&&(this.insertBlock(`${n.blockName}(ddd)`,n,t),n.children.length&&n.hasDynamicChildren)){const e=this.target.code,t=n.children.slice();let i=t.shift();for(let n=s;n<e.length&&(!e[n].trimStart().startsWith(`const ${i.varName} `)||(e[n]=e[n].replace(`const ${i.varName}`,i.varName),i=t.shift(),i));n++);this.addLine(`let ${n.children.map((e=>e.varName)).join(", ")};`,s)}return n.varName}compileTEsc(e,t){let n,{block:i,forceNewBlock:o}=t;if("0"===e.expr?(this.helpers.add("zero"),n="ctx[zero]"):(n=Zt(e.expr),e.defaultValue&&(this.helpers.add("withDefault"),n=`withDefault(${n}, \`${e.defaultValue}\`)`)),!i||o)i=this.createBlock(i,"text",t),this.insertBlock(`text(${n})`,i,{...t,forceNewBlock:o&&!i});else{const e=i.insertData(n,"txt"),t=tn.createElement(`block-text-${e}`);i.insert(t)}return i.varName}compileTOut(e,t){let n,{block:i}=t;if(i&&this.insertAnchor(i),i=this.createBlock(i,"html",t),"0"===e.expr)this.helpers.add("zero"),n="ctx[zero]";else if(e.body){let i=null;i=an.nextBlockId;const o=ln(t);this.compileAST({type:3,content:e.body},o),this.helpers.add("safeOutput"),n=`safeOutput(${Zt(e.expr)}, b${i})`}else this.helpers.add("safeOutput"),n=`safeOutput(${Zt(e.expr)})`;return this.insertBlock(n,i,t),i.varName}compileTIfBranch(e,t,n){this.target.indentLevel++;let i=t.children.length;this.compileAST(e,ln(n,{block:t,index:n.index})),t.children.length>i&&this.insertAnchor(t,i),this.target.indentLevel--}compileTIf(e,t,n){let{block:i,forceNewBlock:o}=t;const s=this.target.code.length,r=!i||"multi"!==i.type&&o;if(i&&(i.hasDynamicChildren=!0),(!i||"multi"!==i.type&&o)&&(i=this.createBlock(i,"multi",t)),this.addLine(`if (${Zt(e.condition)}) {`),this.compileTIfBranch(e.content,i,t),e.tElif)for(let n of e.tElif)this.addLine(`} else if (${Zt(n.condition)}) {`),this.compileTIfBranch(n.content,i,t);if(e.tElse&&(this.addLine("} else {"),this.compileTIfBranch(e.tElse,i,t)),this.addLine("}"),r){if(i.children.length){const e=this.target.code,t=i.children.slice();let n=t.shift();for(let i=s;i<e.length&&(!e[i].trimStart().startsWith(`const ${n.varName} `)||(e[i]=e[i].replace(`const ${n.varName}`,n.varName),n=t.shift(),n));i++);this.addLine(`let ${i.children.map((e=>e.varName)).join(", ")};`,s)}const e=i.children.map((e=>e.varName)).join(", ");this.insertBlock(`multi([${e}])`,i,t)}return i.varName}compileTForeach(e,t){let{block:n}=t;n&&this.insertAnchor(n),n=this.createBlock(n,"list",t),this.target.loopLevel++;const i=`i${this.target.loopLevel}`;this.addLine("ctx = Object.create(ctx);");const o=`v_block${n.id}`,s=`k_block${n.id}`,r=`l_block${n.id}`,a=`c_block${n.id}`;let l;this.helpers.add("prepareList"),this.define(`[${s}, ${o}, ${r}, ${a}]`,`prepareList(${Zt(e.collection)});`),this.dev&&this.define(`keys${n.id}`,"new Set()"),this.addLine(`for (let ${i} = 0; ${i} < ${r}; ${i}++) {`),this.target.indentLevel++,this.addLine(`ctx[\`${e.elem}\`] = ${s}[${i}];`),e.hasNoFirst||this.addLine(`ctx[\`${e.elem}_first\`] = ${i} === 0;`),e.hasNoLast||this.addLine(`ctx[\`${e.elem}_last\`] = ${i} === ${s}.length - 1;`),e.hasNoIndex||this.addLine(`ctx[\`${e.elem}_index\`] = ${i};`),e.hasNoValue||this.addLine(`ctx[\`${e.elem}_value\`] = ${o}[${i}];`),this.define(`key${this.target.loopLevel}`,e.key?Zt(e.key):i),this.dev&&(this.helpers.add("OwlError"),this.addLine(`if (keys${n.id}.has(String(key${this.target.loopLevel}))) { throw new OwlError(\`Got duplicate key in t-foreach: \${key${this.target.loopLevel}}\`)}`),this.addLine(`keys${n.id}.add(String(key${this.target.loopLevel}));`)),e.memo&&(this.target.hasCache=!0,l=sn(),this.define(`memo${l}`,Zt(e.memo)),this.define(`vnode${l}`,`cache[key${this.target.loopLevel}];`),this.addLine(`if (vnode${l}) {`),this.target.indentLevel++,this.addLine(`if (shallowEqual(vnode${l}.memo, memo${l})) {`),this.target.indentLevel++,this.addLine(`${a}[${i}] = vnode${l};`),this.addLine(`nextCache[key${this.target.loopLevel}] = vnode${l};`),this.addLine("continue;"),this.target.indentLevel--,this.addLine("}"),this.target.indentLevel--,this.addLine("}"));const c=ln(t,{block:n,index:i});return this.compileAST(e.body,c),e.memo&&this.addLine(`nextCache[key${this.target.loopLevel}] = Object.assign(${a}[${i}], {memo: memo${l}});`),this.target.indentLevel--,this.target.loopLevel--,this.addLine("}"),t.isLast||this.addLine("ctx = ctx.__proto__;"),this.insertBlock("l",n,t),n.varName}compileTKey(e,t){const n=sn("tKey_");return this.define(n,Zt(e.expr)),t=ln(t,{tKeyExpr:n,block:t.block,index:t.index}),this.compileAST(e.content,t)}compileMulti(e,t){let{block:n,forceNewBlock:i}=t;const o=!n||i;let s=this.target.code.length;if(o){let i=null;if(e.content.filter((e=>6!==e.type)).length<=1){for(let n of e.content){const e=this.compileAST(n,t);i=i||e}return i}n=this.createBlock(n,"multi",t)}let r=0;for(let i=0,o=e.content.length;i<o;i++){const s=e.content[i],a=6===s.type,l=ln(t,{block:n,index:r,forceNewBlock:!a,isLast:t.isLast&&i===o-1});this.compileAST(s,l),a||r++}if(o){if(n.hasDynamicChildren&&n.children.length){const e=this.target.code,t=n.children.slice();let i=t.shift();for(let n=s;n<e.length&&(!e[n].trimStart().startsWith(`const ${i.varName} `)||(e[n]=e[n].replace(`const ${i.varName}`,i.varName),i=t.shift(),i));n++);this.addLine(`let ${n.children.map((e=>e.varName)).join(", ")};`,s)}const e=n.children.map((e=>e.varName)).join(", ");this.insertBlock(`multi([${e}])`,n,t)}return n.varName}compileTCall(e,t){let{block:n,forceNewBlock:i}=t,o=t.ctxVar||"ctx";e.context&&(o=sn("ctx"),this.addLine(`let ${o} = ${Zt(e.context)};`));const s=Xt.test(e.name),r=s?Qt(e.name):"`"+e.name+"`";if(n&&!i&&this.insertAnchor(n),n=this.createBlock(n,"multi",t),e.body){this.addLine(`${o} = Object.create(${o});`),this.addLine(`${o}[isBoundary] = 1;`),this.helpers.add("isBoundary");const n=ln(t,{ctxVar:o}),i=this.compileMulti({type:3,content:e.body},n);i&&(this.helpers.add("zero"),this.addLine(`${o}[zero] = ${i};`))}const a=`key + \`${this.generateComponentKey()}\``;if(s){const e=sn("template");this.staticDefs.find((e=>"call"===e.id))||this.staticDefs.push({id:"call",expr:"app.callTemplate.bind(app)"}),this.define(e,r),this.insertBlock(`call(this, ${e}, ${o}, node, ${a})`,n,{...t,forceNewBlock:!n})}else{const e=sn("callTemplate_");this.staticDefs.push({id:e,expr:`app.getTemplate(${r})`}),this.insertBlock(`${e}.call(this, ${o}, node, ${a})`,n,{...t,forceNewBlock:!n})}return e.body&&!t.isLast&&this.addLine(`${o} = ${o}.__proto__;`),n.varName}compileTCallBlock(e,t){let{block:n,forceNewBlock:i}=t;return n&&(i||this.insertAnchor(n)),n=this.createBlock(n,"multi",t),this.insertBlock(Zt(e.name),n,{...t,forceNewBlock:!n}),n.varName}compileTSet(e,t){this.target.shouldProtectScope=!0,this.helpers.add("isBoundary").add("withDefault");const n=e.value?Zt(e.value||""):"null";if(e.body){this.helpers.add("LazyValue");const i={type:3,content:e.body};let o=`new LazyValue(${this.compileInNewTarget("value",i,t)}, ctx, this, node, ${this.target.currentKey(t)})`;o=e.value?o?`withDefault(${n}, ${o})`:n:o,this.addLine(`ctx[\`${e.name}\`] = ${o};`)}else{let i;if(e.defaultValue){const o=t.translate?this.translate(e.defaultValue):e.defaultValue;i=e.value?`withDefault(${n}, \`${o}\`)`:`\`${o}\``}else i=n;this.helpers.add("setContextValue"),this.addLine(`setContextValue(${t.ctxVar||"ctx"}, "${e.name}", ${i});`)}return null}generateComponentKey(){const e=[sn("__")];for(let t=0;t<this.target.loopLevel;t++)e.push(`\${key${t+1}}`);return e.join("__")}formatProp(e,t){if(t=this.captureExpression(t),e.includes(".")){let[n,i]=e.split(".");switch(e=n,i){case"bind":t=`(${t}).bind(this)`;break;case"alike":break;default:throw new s("Invalid prop suffix")}}return`${e=/^[a-z_]+$/i.test(e)?e:`'${e}'`}: ${t||void 0}`}formatPropObject(e){return Object.entries(e).map((([e,t])=>this.formatProp(e,t)))}getPropString(e,t){let n=`{${e.join(",")}}`;return t&&(n=`Object.assign({}, ${Zt(t)}${e.length?", "+n:""})`),n}compileComponent(e,t){let{block:n}=t;const i="slots"in(e.props||{}),o=e.props?this.formatPropObject(e.props):[];let s="";if(e.slots){let n="ctx";!this.target.loopLevel&&this.hasSafeContext||(n=sn("ctx"),this.helpers.add("capture"),this.define(n,"capture(ctx)"));let i=[];for(let o in e.slots){const s=e.slots[o],r=[];if(s.content){const e=this.compileInNewTarget("slot",s.content,t,s.on);r.push(`__render: ${e}.bind(this), __ctx: ${n}`)}const a=e.slots[o].scope;a&&r.push(`__scope: "${a}"`),e.slots[o].attrs&&r.push(...this.formatPropObject(e.slots[o].attrs));const l=`{${r.join(", ")}}`;i.push(`'${o}': ${l}`)}s=`{${i.join(", ")}}`}!s||e.dynamicProps||i||(this.helpers.add("markRaw"),o.push(`slots: markRaw(${s})`));let r,a=this.getPropString(o,e.dynamicProps);(s&&(e.dynamicProps||i)||this.dev)&&(r=sn("props"),this.define(r,a),a=r),s&&(e.dynamicProps||i)&&(this.helpers.add("markRaw"),this.addLine(`${r}.slots = markRaw(Object.assign(${s}, ${r}.slots))`));const l=this.generateComponentKey();let c;e.isDynamic?(c=sn("Comp"),this.define(c,Zt(e.name))):c=`\`${e.name}\``,this.dev&&this.addLine(`helpers.validateProps(${c}, ${r}, this);`),n&&(!1===t.forceNewBlock||t.tKeyExpr)&&this.insertAnchor(n);let u=`key + \`${l}\``;t.tKeyExpr&&(u=`${t.tKeyExpr} + ${u}`);let d=sn("comp");const h=[];for(let t in e.props||{}){let[e,n]=t.split(".");n||h.push(`"${e}"`)}this.staticDefs.push({id:d,expr:`app.createComponent(${e.isDynamic?null:c}, ${!e.isDynamic}, ${!!e.slots}, ${!!e.dynamicProps}, [${h}])`}),e.isDynamic&&(u=`(${c}).name + ${u}`);let p=`${d}(${a}, ${u}, node, this, ${e.isDynamic?c:null})`;return e.isDynamic&&(p=`toggler(${c}, ${p})`),e.on&&(p=this.wrapWithEventCatcher(p,e.on)),n=this.createBlock(n,"multi",t),this.insertBlock(p,n,t),n.varName}wrapWithEventCatcher(e,t){this.helpers.add("createCatcher");let n=sn("catcher"),i={},o=[];for(let e in t){let n=sn("hdlr"),s=o.push(n)-1;i[e]=s;const r=this.generateHandlerCode(e,t[e]);this.define(n,r)}return this.staticDefs.push({id:n,expr:`createCatcher(${JSON.stringify(i)})`}),`${n}(${e}, [${o.join(",")}])`}compileTSlot(e,t){this.helpers.add("callSlot");let n,i,{block:o}=t,s=!1,r=!1;e.name.match(Xt)?(s=!0,r=!0,i=Qt(e.name)):(i="'"+e.name+"'",r=r||this.slotNames.has(e.name),this.slotNames.add(e.name));const a=e.attrs?e.attrs["t-props"]:null;e.attrs&&delete e.attrs["t-props"];let l=this.target.loopLevel?`key${this.target.loopLevel}`:"key";r&&(l=`${l} + \`${this.generateComponentKey()}\``);const c=e.attrs?this.formatPropObject(e.attrs):[],u=this.getPropString(c,a);if(e.defaultContent){n=`callSlot(ctx, node, ${l}, ${i}, ${s}, ${u}, ${this.compileInNewTarget("defaultContent",e.defaultContent,t)}.bind(this))`}else if(s){let e=sn("slot");this.define(e,i),n=`toggler(${e}, callSlot(ctx, node, ${l}, ${e}, ${s}, ${u}))`}else n=`callSlot(ctx, node, ${l}, ${i}, ${s}, ${u})`;return e.on&&(n=this.wrapWithEventCatcher(n,e.on)),o&&this.insertAnchor(o),o=this.createBlock(o,"multi",t),this.insertBlock(n,o,{...t,forceNewBlock:!1}),o.varName}compileTTranslation(e,t){return e.content?this.compileAST(e.content,Object.assign({},t,{translate:!1})):null}compileTPortal(e,t){this.staticDefs.find((e=>"Portal"===e.id))||this.staticDefs.push({id:"Portal",expr:"app.Portal"});let{block:n}=t;const i=this.compileInNewTarget("slot",e.content,t),o=this.generateComponentKey();let s="ctx";!this.target.loopLevel&&this.hasSafeContext||(s=sn("ctx"),this.helpers.add("capture"),this.define(s,"capture(ctx)"));let r=sn("comp");this.staticDefs.push({id:r,expr:"app.createComponent(null, false, true, false, false)"});const a=`${r}({target: ${Zt(e.target)},slots: {'default': {__render: ${i}.bind(this), __ctx: ${s}}}}, key + \`${o}\`, node, ctx, Portal)`;return n&&this.insertAnchor(n),n=this.createBlock(n,"multi",t),this.insertBlock(a,n,{...t,forceNewBlock:!1}),n.varName}}const pn=new WeakMap;function fn(e){var t;(function(e){let t=e.querySelectorAll("[t-elif], [t-else]");for(let e=0,n=t.length;e<n;e++){let n=t[e],i=n.previousElementSibling,o=e=>i.getAttribute(e),r=e=>+!!n.getAttribute(e);if(!i||!o("t-if")&&!o("t-elif"))throw new s("t-elif and t-else directives must be preceded by a t-if or t-elif directive");{if(o("t-foreach"))throw new s("t-if cannot stay at the same level as t-foreach when using t-elif or t-else");if(["t-if","t-elif","t-else"].map(r).reduce((function(e,t){return e+t}))>1)throw new s("Only one conditional branching directive is allowed per node");let e;for(;(e=n.previousSibling)!==i;){if(e.nodeValue.trim().length&&8!==e.nodeType)throw new s("text is not allowed between branching directives");e.remove()}}}})(t=e),function(e){for(const t of["t-esc","t-out"]){const n=[...e.querySelectorAll(`[${t}]`)].filter((e=>e.tagName[0]===e.tagName[0].toUpperCase()||e.hasAttribute("t-component")));for(const e of n){if(e.childNodes.length)throw new s(`Cannot have ${t} on a component that already has content`);const n=e.getAttribute(t);e.removeAttribute(t);const i=e.ownerDocument.createElement("t");null!=n&&i.setAttribute(t,n),e.appendChild(i)}}}(t);return mn(e,{inPreTag:!1})||{type:0,value:""}}function mn(e,t){return e instanceof Element?function(e,t){if(e.hasAttribute("t-debug"))return e.removeAttribute("t-debug"),{type:12,content:mn(e,t)};if(e.hasAttribute("t-log")){const n=e.getAttribute("t-log");return e.removeAttribute("t-log"),{type:13,expr:n,content:mn(e,t)}}return null}(e,t)||function(e,t){if(!e.hasAttribute("t-foreach"))return null;const n=e.outerHTML,i=e.getAttribute("t-foreach");e.removeAttribute("t-foreach");const o=e.getAttribute("t-as")||"";e.removeAttribute("t-as");const r=e.getAttribute("t-key");if(!r)throw new s(`"Directive t-foreach should always be used with a t-key!" (expression: t-foreach="${i}" t-as="${o}")`);e.removeAttribute("t-key");const a=e.getAttribute("t-memo")||"";e.removeAttribute("t-memo");const l=mn(e,t);if(!l)return null;const c=!n.includes("t-call"),u=c&&!n.includes(`${o}_first`),d=c&&!n.includes(`${o}_last`),h=c&&!n.includes(`${o}_index`),p=c&&!n.includes(`${o}_value`);return{type:9,collection:i,elem:o,body:l,memo:a,key:r,hasNoFirst:u,hasNoLast:d,hasNoIndex:h,hasNoValue:p}}(e,t)||function(e,t){if(!e.hasAttribute("t-if"))return null;const n=e.getAttribute("t-if");e.removeAttribute("t-if");const i=mn(e,t)||{type:0,value:""};let o=e.nextElementSibling;const s=[];for(;o&&o.hasAttribute("t-elif");){const e=o.getAttribute("t-elif");o.removeAttribute("t-elif");const n=mn(o,t),i=o.nextElementSibling;o.remove(),o=i,n&&s.push({condition:e,content:n})}let r=null;o&&o.hasAttribute("t-else")&&(o.removeAttribute("t-else"),r=mn(o,t),o.remove());return{type:5,condition:n,content:i,tElif:s.length?s:null,tElse:r}}(e,t)||function(e,t){if(!e.hasAttribute("t-portal"))return null;const n=e.getAttribute("t-portal");e.removeAttribute("t-portal");const i=mn(e,t);if(!i)return{type:0,value:""};return{type:17,target:n,content:i}}(e,t)||function(e,t){if(!e.hasAttribute("t-call"))return null;const n=e.getAttribute("t-call"),i=e.getAttribute("t-call-context");if(e.removeAttribute("t-call"),e.removeAttribute("t-call-context"),"t"!==e.tagName){const o=mn(e,t),s={type:7,name:n,body:null,context:i};if(o&&2===o.type)return o.content=[s],o;if(o&&11===o.type)return{...o,slots:{default:{content:s,scope:null,on:null,attrs:null}}}}const o=wn(e,t);return{type:7,name:n,body:o.length?o:null,context:i}}(e,t)||function(e,t){if(!e.hasAttribute("t-call-block"))return null;const n=e.getAttribute("t-call-block");return{type:15,name:n}}(e)||function(e,t){if(!e.hasAttribute("t-esc"))return null;const n=e.getAttribute("t-esc");e.removeAttribute("t-esc");const i={type:4,expr:n,defaultValue:e.textContent||""};let o=e.getAttribute("t-ref");e.removeAttribute("t-ref");const s=mn(e,t);if(!s)return i;if(2===s.type)return{...s,ref:o,content:[i]};return i}(e,t)||function(e,t){if(!e.hasAttribute("t-out")&&!e.hasAttribute("t-raw"))return null;e.hasAttribute("t-raw")&&console.warn('t-raw has been deprecated in favor of t-out. If the value to render is not wrapped by the "markup" function, it will be escaped');const n=e.getAttribute("t-out")||e.getAttribute("t-raw");e.removeAttribute("t-out"),e.removeAttribute("t-raw");const i={type:8,expr:n,body:null},o=e.getAttribute("t-ref");e.removeAttribute("t-ref");const s=mn(e,t);if(!s)return i;if(2===s.type)return i.body=s.content.length?s.content:null,{...s,ref:o,content:[i]};return i}(e,t)||function(e,t){if(!e.hasAttribute("t-key"))return null;const n=e.getAttribute("t-key");e.removeAttribute("t-key");const i=mn(e,t);if(!i)return null;return{type:10,expr:n,content:i}}(e,t)||function(e,t){if("off"!==e.getAttribute("t-translation"))return null;return e.removeAttribute("t-translation"),{type:16,content:mn(e,t)}}(e,t)||function(e,t){if(!e.hasAttribute("t-slot"))return null;const n=e.getAttribute("t-slot");e.removeAttribute("t-slot");let i=null,o=null;for(let t of e.getAttributeNames()){const n=e.getAttribute(t);t.startsWith("t-on-")?(o=o||{},o[t.slice(5)]=n):(i=i||{},i[t]=n)}return{type:14,name:n,attrs:i,on:o,defaultContent:kn(e,t)}}(e,t)||function(e,t){let n=e.tagName;const i=n[0];let o=e.hasAttribute("t-component");if(o&&"t"!==n)throw new s(`Directive 't-component' can only be used on <t> nodes (used on a <${n}>)`);if(i!==i.toUpperCase()&&!o)return null;o&&(n=e.getAttribute("t-component"),e.removeAttribute("t-component"));const r=e.getAttribute("t-props");e.removeAttribute("t-props");const a=e.getAttribute("t-slot-scope");e.removeAttribute("t-slot-scope");let l=null,c=null;for(let t of e.getAttributeNames()){const n=e.getAttribute(t);if(t.startsWith("t-")){if(!t.startsWith("t-on-")){const e=_n.get(t.split("-").slice(0,2).join("-"));throw new s(e||`unsupported directive on Component: ${t}`)}l=l||{},l[t.slice(5)]=n}else c=c||{},c[t]=n}let u=null;if(e.hasChildNodes()){const n=e.cloneNode(!0),i=Array.from(n.querySelectorAll("[t-set-slot]"));for(let e of i){if("t"!==e.tagName)throw new s(`Directive 't-set-slot' can only be used on <t> nodes (used on a <${e.tagName}>)`);const i=e.getAttribute("t-set-slot");let o=e.parentElement,r=!1;for(;o&&o!==n;){if(o.hasAttribute("t-component")||o.tagName[0]===o.tagName[0].toUpperCase()){r=!0;break}o=o.parentElement}if(r||!o)continue;e.removeAttribute("t-set-slot"),e.remove();const a=mn(e,t);let l=null,c=null,d=null;for(let t of e.getAttributeNames()){const n=e.getAttribute(t);"t-slot-scope"!==t?t.startsWith("t-on-")?(l=l||{},l[t.slice(5)]=n):(c=c||{},c[t]=n):d=n}u=u||{},u[i]={content:a,on:l,attrs:c,scope:d}}const o=kn(n,t);u=u||{},o&&!u.default&&(u.default={content:o,on:l,attrs:null,scope:a})}return{type:11,name:n,isDynamic:o,dynamicProps:r,props:c,slots:u,on:l}}(e,t)||function(e,t){const{tagName:n}=e,i=e.getAttribute("t-tag");if(e.removeAttribute("t-tag"),"t"===n&&!i)return null;if(n.startsWith("block-"))throw new s(`Invalid tag name: '${n}'`);t=Object.assign({},t),"pre"===n&&(t.inPreTag=!0);let o=!t.nameSpace&&yn.has(n)?"http://www.w3.org/2000/svg":null;const r=e.getAttribute("t-ref");e.removeAttribute("t-ref");const a=e.getAttributeNames();let l=null,c=null,u=null;for(let i of a){const r=e.getAttribute(i);if("t-on"===i||"t-on-"===i)throw new s("Missing event name with t-on directive");if(i.startsWith("t-on-"))c=c||{},c[i.slice(5)]=r;else if(i.startsWith("t-model")){if(!["input","select","textarea"].includes(n))throw new s("The t-model directive only works with <input>, <textarea> and <select>");let o,a;if(vn.test(r)){const e=r.lastIndexOf(".");o=r.slice(0,e),a=`'${r.slice(e+1)}'`}else{if(!bn.test(r))throw new s(`Invalid t-model expression: "${r}" (it should be assignable)`);{const e=r.lastIndexOf("[");o=r.slice(0,e),a=r.slice(e+1,-1)}}const l=e.getAttribute("type"),c="input"===n,d="select"===n,h=c&&"checkbox"===l,p=c&&"radio"===l,f=i.includes(".trim"),m=f||i.includes(".lazy");u={baseExpr:o,expr:a,targetAttr:h?"checked":"value",specialInitTargetAttr:p?"checked":null,eventType:p?"click":d||m?"change":"input",hasDynamicChildren:!1,shouldTrim:f,shouldNumberize:i.includes(".number")},d&&((t=Object.assign({},t)).tModelInfo=u)}else{if(i.startsWith("block-"))throw new s(`Invalid attribute: '${i}'`);if("xmlns"===i)o=r;else if("t-name"!==i){if(i.startsWith("t-")&&!i.startsWith("t-att"))throw new s(`Unknown QWeb directive: '${i}'`);const e=t.tModelInfo;e&&["t-att-value","t-attf-value"].includes(i)&&(e.hasDynamicChildren=!0),l=l||{},l[i]=r}}}o&&(t.nameSpace=o);const d=wn(e,t);return{type:2,tag:n,dynamicTag:i,attrs:l,on:c,ref:r,content:d,model:u,ns:o}}(e,t)||function(e,t){if(!e.hasAttribute("t-set"))return null;const n=e.getAttribute("t-set"),i=e.getAttribute("t-value")||null,o=e.innerHTML===e.textContent&&e.textContent||null;let s=null;e.textContent!==e.innerHTML&&(s=wn(e,t));return{type:6,name:n,value:i,defaultValue:o,body:s}}(e,t)||function(e,t){if("t"!==e.tagName)return null;return kn(e,t)}(e,t):function(e,t){if(e.nodeType===Node.TEXT_NODE){let n=e.textContent||"";return t.inPreTag||!gn.test(n)||n.trim()?{type:0,value:n}:null}if(e.nodeType===Node.COMMENT_NODE)return{type:1,value:e.textContent||""};return null}(e,t)}const gn=/[\r\n]/;const vn=/\.[\w_]+\s*$/,bn=/\[[^\[]+\]\s*$/,yn=new Set(["svg","g","path"]);const _n=new Map([["t-ref","t-ref is no longer supported on components. Consider exposing only the public part of the component's API through a callback prop."],["t-att","t-att makes no sense on component: props are already treated as expressions"],["t-attf","t-attf is not supported on components: use template strings for string interpolation in props"]]);function wn(e,t){const n=[];for(let i of e.childNodes){const e=mn(i,t);e&&(3===e.type?n.push(...e.content):n.push(e))}return n}function kn(e,t){const n=wn(e,t);switch(n.length){case 0:return null;case 1:return n[0];default:return{type:3,content:n}}}function xn(e,t={}){const n=function(e){if("string"==typeof e)return fn(Rt(`<t>${e}</t>`).firstChild);let t=pn.get(e);return t||(t=fn(e.cloneNode(!0)),pn.set(e,t)),t}(e),i=e instanceof Node?!(e instanceof Element)||null===e.querySelector("[t-set], [t-call]"):!e.includes("t-set")&&!e.includes("t-call"),o=new hn(n,{...t,hasSafeContext:i}).generateCode();try{return new Function("app, bdom, helpers",o)}catch(e){const{name:n}=t,i=new s(`Failed to compile ${n?`template "${n}"`:"anonymous template"}: ${e.message}\n\ngenerated code:\nfunction(app, bdom, helpers) {\n${o}\n}`);throw i.cause=e,i}}class Sn{constructor(){this.tasks=new Set,this.frame=0,this.delayedRenders=[],this.cancelledNodes=new Set,this.requestAnimationFrame=Sn.requestAnimationFrame}addFiber(e){this.tasks.add(e.root)}scheduleDestroy(e){this.cancelledNodes.add(e),0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}flush(){if(this.delayedRenders.length){let e=this.delayedRenders;this.delayedRenders=[];for(let t of e)t.root&&3!==t.node.status&&t.node.fiber===t&&t.render()}0===this.frame&&(this.frame=this.requestAnimationFrame((()=>this.processTasks())))}processTasks(){this.frame=0;for(let e of this.cancelledNodes)e._destroy();this.cancelledNodes.clear();for(let e of this.tasks)this.processFiber(e);for(let e of this.tasks)3===e.node.status&&this.tasks.delete(e)}processFiber(e){if(e.root!==e)return void this.tasks.delete(e);const t=Ce.has(e);t&&0!==e.counter?this.tasks.delete(e):3!==e.node.status?0===e.counter&&(t||e.complete(),this.tasks.delete(e)):this.tasks.delete(e)}}Sn.requestAnimationFrame=window.requestAnimationFrame.bind(window);let Cn=!1;const Dn=new Set;window.__OWL_DEVTOOLS__||(window.__OWL_DEVTOOLS__={apps:Dn,Fiber:Le,RootFiber:Ne,toRaw:Ve,reactive:Qe});class Tn extends Ft{constructor(e,t={}){super(t),this.scheduler=new Sn,this.root=null,this.name=t.name||"",this.Root=e,Dn.add(this),t.test&&(this.dev=!0),this.warnIfNoStaticProps=t.warnIfNoStaticProps||!1,!this.dev||t.test||Cn||(console.info(`Owl is running in 'dev' mode.\n\nThis is not suitable for production use.\nSee https://github.com/odoo/owl/blob/${window.owl?window.owl.__info__.hash:"master"}/doc/reference/app.md#configuration for more information.`),Cn=!0);const n=t.env||{},i=Object.getOwnPropertyDescriptors(n);this.env=Object.freeze(Object.create(Object.getPrototypeOf(n),i)),this.props=t.props||{}}mount(e,t){Tn.validateTarget(e),this.dev&&Pt(this.Root,this.props,{__owl__:{app:this}});const n=this.makeNode(this.Root,this.props),i=this.mountNode(n,e,t);return this.root=n,i}makeNode(e,t){return new ht(e,t,this,null,null)}mountNode(e,t,n){const i=new Promise(((t,n)=>{let i=!1;e.mounted.push((()=>{t(e.component),i=!0}));let o=De.get(e);o||(o=[],De.set(e,o)),o.unshift((e=>{throw i||n(e),e}))}));return e.mountComponent(t,n),i}destroy(){this.root&&(this.root.destroy(),this.scheduler.processTasks()),Dn.delete(this)}createComponent(e,t,n,i,o){const r=!t;let a;const l=0===o.length;a=n?(e,t)=>!0:i?function(e,t){for(let n in e)if(e[n]!==t[n])return!0;return Object.keys(e).length!==Object.keys(t).length}:l?(e,t)=>!1:function(e,t){for(let n of o)if(e[n]!==t[n])return!0;return!1};const c=ht.prototype.updateAndRender,u=ht.prototype.initiateRender;return(n,i,o,l,d)=>{let h=o.children,p=h[i];r&&p&&p.component.constructor!==d&&(p=void 0);const f=o.fiber;if(p)(a(p.props,n)||f.deep||p.forceNextRender)&&(p.forceNextRender=!1,c.call(p,n,f));else{if(t){const t=l.constructor.components;if(!t)throw new s(`Cannot find the definition of component "${e}", missing static components key in parent`);if(!(d=t[e]))throw new s(`Cannot find the definition of component "${e}"`);if(!(d.prototype instanceof bt))throw new s(`"${e}" is not a Component. It must inherit from the Component class`)}p=new ht(d,n,this,o,i),h[i]=p,u.call(p,new Le(p,f))}return f.childrenMap[i]=p,p}}handleError(...e){return Ee(...e)}}Tn.validateTarget=function(e){const t=e&&e.ownerDocument;if(t){const n=t.defaultView.HTMLElement;if(e instanceof n||e instanceof ShadowRoot){if(!t.body.contains(e instanceof n?e:e.host))throw new s("Cannot mount a component on a detached dom node");return}}throw new s("Cannot mount component: the target is not a valid DOM element")},Tn.apps=Dn,Tn.version="2.2.9";function En(e,t){const n=Object.create(e),i=Object.getOwnPropertyDescriptors(t);return Object.freeze(Object.defineProperties(n,i))}function Mn(e){const t=lt();t.childEnv=En(t.childEnv,e)}n.shouldNormalizeDom=!1,n.mainEventHandler=(e,n,i)=>{const{data:o,modifiers:r}=t(e);e=o;let a=!1;if(r.length){let e=!1;const t=n.target===i;for(const i of r)switch(i){case"self":if(e=!0,t)continue;return a;case"prevent":(e&&t||!e)&&n.preventDefault();continue;case"stop":(e&&t||!e)&&n.stopPropagation(),a=!0;continue}}if(Object.hasOwnProperty.call(e,0)){const t=e[0];if("function"!=typeof t)throw new s(`Invalid handler (expected a function, received: '${t}')`);let i=e[1]?e[1].__owl__:null;i&&1!==i.status||t.call(i?i.component:null,n)}return a};const On={config:n,mount:Se,patch:function(e,t,n=!1){e.patch(t,n)},remove:function(e,t=!1){t&&e.beforeRemove(),e.remove()},list:ve,multi:R,text:V,toggler:o,createBlock:ie,html:xe,comment:G},Ln={version:Tn.version};Ft.prototype._compileTemplate=function(e,t){return xn(t,{name:e,dev:this.dev,translateFn:this.translateFn,translatableAttributes:this.translatableAttributes})},e.App=Tn,e.Component=bt,e.EventBus=x,e.OwlError=s,e.__info__=Ln,e.blockDom=On,e.loadFile=async function(e){const t=await fetch(e);if(!t.ok)throw new s("Error while fetching xml templates");return await t.text()},e.markRaw=Ue,e.markup=function(e){return new S(e)},e.mount=async function(e,t,n={}){return new Tn(e,n).mount(t,n)},e.onError=function(e){const t=lt();let n=De.get(t);n||(n=[],De.set(t,n)),n.push(e.bind(t.component))},e.onMounted=mt,e.onPatched=gt,e.onRendered=function(e){const t=lt(),n=t.renderFn,i=t.app.dev?ft:e=>e;e=i(e.bind(t.component),"onRendered"),t.renderFn=()=>{const t=n();return e(),t}},e.onWillDestroy=function(e){const t=lt(),n=t.app.dev?ft:e=>e;t.willDestroy.push(n(e.bind(t.component),"onWillDestroy"))},e.onWillPatch=function(e){const t=lt(),n=t.app.dev?ft:e=>e;t.willPatch.unshift(n(e.bind(t.component),"onWillPatch"))},e.onWillRender=function(e){const t=lt(),n=t.renderFn,i=t.app.dev?ft:e=>e;e=i(e.bind(t.component),"onWillRender"),t.renderFn=()=>(e(),n())},e.onWillStart=function(e){const t=lt(),n=t.app.dev?ft:e=>e;t.willStart.push(n(e.bind(t.component),"onWillStart"))},e.onWillUnmount=vt,e.onWillUpdateProps=function(e){const t=lt(),n=t.app.dev?ft:e=>e;t.willUpdateProps.push(n(e.bind(t.component),"onWillUpdateProps"))},e.reactive=Qe,e.status=function(e){switch(e.__owl__.status){case 0:return"new";case 2:return"cancelled";case 1:return"mounted";case 3:return"destroyed"}},e.toRaw=Ve,e.useChildSubEnv=Mn,e.useComponent=function(){return at.component},e.useEffect=function(e,t=(()=>[NaN])){let n,i;mt((()=>{i=t(),n=e(...i)})),gt((()=>{const o=t();o.some(((e,t)=>e!==i[t]))&&(i=o,n&&n(),n=e(...i))})),vt((()=>n&&n()))},e.useEnv=function(){return lt().component.env},e.useExternalListener=function(e,t,n,i){const o=lt(),s=n.bind(o.component);mt((()=>e.addEventListener(t,s,i))),vt((()=>e.removeEventListener(t,s,i)))},e.useRef=function(e){const t=lt().refs;return{get el(){const n=t[e];return k(n)?n:null}}},e.useState=dt,e.useSubEnv=function(e){const t=lt();t.component.env=En(t.component.env,e),Mn(e)},e.validate=function(e,t){let n=Et(e,t);if(n.length)throw new s("Invalid object: "+n.join(", "))},e.validateType=Mt,e.whenReady=function(e){return new Promise((function(e){"loading"!==document.readyState?e(!0):document.addEventListener("DOMContentLoaded",e,!1)})).then(e||function(){})},e.xml=Wt,Object.defineProperty(e,"__esModule",{value:!0}),Ln.date="2024-01-12T14:43:56.804Z",Ln.hash="7b3e39b",Ln.url="https://github.com/odoo/owl"}(this.owl=this.owl||{}),odoo.define("@odoo/owl",(function(){"use strict";return owl})),function(){const e=owl.App,t={};owl.App=class extends e{constructor(e,t){if(!t.test){const e=["dev","translateFn","translatableAttributes"].filter((e=>!(e in t)));if(e.length)throw new Error(`Attempted to create an App without some required key(s) (${e.join(", ")})`)}super(...arguments)}_compileTemplate(e){return e in t||(t[e]=super._compileTemplate(...arguments)),t[e]}},owl.App.sharedTemplates=t,owl.App.validateTarget=()=>{}}(),function(){const{EventBus:e}=owl;owl.EventBus=class extends e{constructor(...e){super(...e),this.targetsCallbacks=new Map}on(e,t,n){this.targetsCallbacks.has(t)||this.targetsCallbacks.set(t,{}),n=function(e,t){return n=>{t.call(e,n.detail)}}(t,n);const i=this.targetsCallbacks.get(t);return i[e]||(i[e]=new Set),i[e].add(n),this.addEventListener(e,n)}off(e,t){const n=this.targetsCallbacks.get(t);if(!n||!Object.hasOwnProperty.call(n,e))return;const i=n[e];for(const t of i)this.removeEventListener(e,t);delete n[e],0===Object.keys(n).length&&this.targetsCallbacks.delete(t)}}}(),odoo.define("@web/legacy/legacy_component",(async function(e){"use strict";let t={};t.LegacyComponent=class extends owl.Component{get el(){const e=this.__owl__.bdom;if(!e)return null;const t=e.component&&e.component.el||e.firstNode();return t.nodeType===Node.ELEMENT_NODE?t:null}rpc(){return new Promise(((e,t)=>this.env.services.rpc(...arguments).then((t=>{"destroyed"!==owl.status(this)&&e(t)})).catch((e=>{"destroyed"!==owl.status(this)&&t(e)}))))}trigger(e,t){this.__trigger(e,t)}__trigger(e,t){if(this.env[odoo.widgetSymbol]&&this.env[odoo.widgetSymbol](e),this.el){const n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});this.el.dispatchEvent(n)}}};return t})),odoo.define("@web/core/browser/browser",(async function(e){"use strict";let t={},n=window.sessionStorage,i=window.localStorage;try{i.setItem("__localStorage__","true"),i.removeItem("__localStorage__")}catch(e){i=s(),n=s()}const o=t.browser={addEventListener:window.addEventListener.bind(window),removeEventListener:window.removeEventListener.bind(window),setTimeout:window.setTimeout.bind(window),clearTimeout:window.clearTimeout.bind(window),setInterval:window.setInterval.bind(window),clearInterval:window.clearInterval.bind(window),performance:window.performance,requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window),console:window.console,history:window.history,navigator:navigator,Notification:window.Notification,open:window.open.bind(window),SharedWorker:window.SharedWorker,Worker:window.Worker,XMLHttpRequest:window.XMLHttpRequest,localStorage:i,sessionStorage:n,fetch:window.fetch.bind(window),innerHeight:window.innerHeight,innerWidth:window.innerWidth,ontouchstart:window.ontouchstart};function s(){let e={};return{setItem(t,n){const i=String(n);e[t]=i,window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:i}))},getItem:t=>e[t],clear(){e={}},removeItem(t){delete e[t],window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:null}))},get length(){return Object.keys(e).length},key:()=>""}}return Object.defineProperty(o,"location",{set(e){window.location=e},get:()=>window.location,configurable:!0}),Object.defineProperty(o,"innerHeight",{get:()=>window.innerHeight,configurable:!0}),Object.defineProperty(o,"innerWidth",{get:()=>window.innerWidth,configurable:!0}),t.makeRAMLocalStorage=s,t})),odoo.define("@web/core/browser/feature_detection",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser");function i(){return/Android/i.test(n.navigator.userAgent)}function o(){return/(iPad|iPhone|iPod)/i.test(n.navigator.userAgent)||"MacIntel"===n.navigator.platform&&r()>1}function s(){return/(webOS|BlackBerry|Windows Phone)/i.test(n.navigator.userAgent)}function r(){return n.navigator.maxTouchPoints||1}return t.isBrowserChrome=function(){return n.navigator.userAgent.includes("Chrome")},t.isAndroid=i,t.isIOS=o,t.isOtherMobileOS=s,t.isMacOS=function(){return Boolean(n.navigator.userAgent.match(/Mac/i))},t.isMobileOS=function(){return i()||o()||s()},t.isIosApp=function(){return/OdooMobile \(iOS\)/i.test(n.navigator.userAgent)},t.hasTouch=function(){return void 0!==n.ontouchstart},t.maxTouchPoints=r,t})),odoo.define("@web/core/dialog/dialog",(async function(e){"use strict";let t={};const{useHotkey:n}=e("@web/core/hotkeys/hotkey_hook"),{useActiveElement:i}=e("@web/core/ui/ui_service"),{useForwardRefToParent:o}=e("@web/core/utils/hooks"),{Component:s,useChildSubEnv:r,useState:a}=e("@odoo/owl"),l=t.Dialog=class extends s{setup(){this.modalRef=o("modalRef"),i("modalRef"),this.data=a(this.env.dialogData),n("escape",(()=>{this.data.close()})),this.id=`dialog_${this.data.id}`,r({inDialog:!0,dialogId:this.id,closeDialog:this.data.close}),owl.onWillDestroy((()=>{this.env.isSmall&&this.data.scrollToOrigin()}))}get isFullscreen(){return this.props.fullscreen||this.env.isSmall}};return l.template="web.Dialog",l.props={contentClass:{type:String,optional:!0},bodyClass:{type:String,optional:!0},fullscreen:{type:Boolean,optional:!0},footer:{type:Boolean,optional:!0},header:{type:Boolean,optional:!0},size:{type:String,optional:!0,validate:e=>["sm","md","lg","xl"].includes(e)},technical:{type:Boolean,optional:!0},title:{type:String,optional:!0},modalRef:{type:Function,optional:!0},slots:{type:Object,shape:{default:Object,header:{type:Object,optional:!0},footer:{type:Object,optional:!0}}},withBodyPadding:{type:Boolean,optional:!0}},l.defaultProps={contentClass:"",bodyClass:"",fullscreen:!1,footer:!0,header:!0,size:"lg",technical:!0,title:"Odoo",withBodyPadding:!0},t})),odoo.define("@web/core/errors/error_dialogs",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{Dialog:i}=e("@web/core/dialog/dialog"),{_lt:o}=e("@web/core/l10n/translation"),{registry:s}=e("@web/core/registry"),{useService:r}=e("@web/core/utils/hooks"),{capitalize:a}=e("@web/core/utils/strings"),{Component:l,useState:c,markup:u}=e("@odoo/owl"),d=t.odooExceptionTitleMap=new Map(Object.entries({"odoo.addons.base.models.ir_mail_server.MailDeliveryException":o("MailDeliveryException"),"odoo.exceptions.AccessDenied":o("Access Denied"),"odoo.exceptions.MissingError":o("Missing Record"),"odoo.exceptions.UserError":o("User Error"),"odoo.exceptions.ValidationError":o("Validation Error"),"odoo.exceptions.AccessError":o("Access Error"),"odoo.exceptions.Warning":o("Warning")})),h=t.ErrorDialog=class extends l{setup(){this.state=c({showTraceback:!1})}onClickClipboard(){n.navigator.clipboard.writeText(`${this.props.name}\n${this.props.message}\n${this.props.traceback}`)}};h.template="web.ErrorDialog",h.components={Dialog:i},h.title=o("Odoo Error");(t.ClientErrorDialog=class extends h{}).title=o("Odoo Client Error");(t.NetworkErrorDialog=class extends h{}).title=o("Odoo Network Error");t.RPCErrorDialog=class extends h{setup(){super.setup(),this.inferTitle(),this.traceback=this.props.traceback,this.props.data&&this.props.data.debug&&(this.traceback=`${this.props.data.debug}\nThe above server error caused the following client error:\n${this.traceback}`)}inferTitle(){if(this.props.exceptionName&&d.has(this.props.exceptionName))this.title=d.get(this.props.exceptionName).toString();else if(this.props.type)switch(this.props.type){case"server":this.title=this.env._t("Odoo Server Error");break;case"script":this.title=this.env._t("Odoo Client Error");break;case"network":this.title=this.env._t("Odoo Network Error")}}onClickClipboard(){n.navigator.clipboard.writeText(`${this.props.name}\n${this.props.message}\n${this.traceback}`)}};const p=t.WarningDialog=class extends l{setup(){this.title=this.inferTitle();const{data:e,message:t}=this.props;e&&e.arguments&&e.arguments.length>0?this.message=e.arguments[0]:this.message=t}inferTitle(){return this.props.exceptionName&&d.has(this.props.exceptionName)?d.get(this.props.exceptionName).toString():this.props.title||this.env._t("Odoo Warning")}};p.template="web.WarningDialog",p.components={Dialog:i};const f=t.RedirectWarningDialog=class extends l{setup(){this.actionService=r("action");const{data:e,subType:t}=this.props,[n,i,o,s]=e.arguments;this.title=a(t)||this.env._t("Odoo Warning"),this.message=n,this.actionId=i,this.buttonText=o,this.additionalContext=s}async onClick(){const e={};this.additionalContext&&(e.additionalContext=this.additionalContext),this.actionId.help&&(this.actionId.help=u(this.actionId.help)),await this.actionService.doAction(this.actionId,e),this.props.close()}};f.template="web.RedirectWarningDialog",f.components={Dialog:i};const m=t.Error504Dialog=class extends l{};m.template="web.Error504Dialog",m.components={Dialog:i},m.title=o("Request timeout");const g=t.SessionExpiredDialog=class extends l{onClick(){n.location.reload()}};return g.template="web.SessionExpiredDialog",g.components={Dialog:i},g.title=o("Odoo Session Expired"),s.category("error_dialogs").add("odoo.exceptions.AccessDenied",p).add("odoo.exceptions.AccessError",p).add("odoo.exceptions.MissingError",p).add("odoo.exceptions.UserError",p).add("odoo.exceptions.ValidationError",p).add("odoo.exceptions.RedirectWarning",f).add("odoo.http.SessionExpiredException",g).add("werkzeug.exceptions.Forbidden",g).add("504",m),t})),odoo.define("@web/core/effects/effect_container",(async function(e){"use strict";let t={};const{Component:n,xml:i,onWillDestroy:o}=e("@odoo/owl");return(t.EffectContainer=class extends n{setup(){this.effect=null;const e=this.props.bus.addEventListener("UPDATE",(e=>{this.effect=e.detail,this.render()}));o((()=>{this.props.bus.removeEventListener("UPDATE",e)}))}removeEffect(){this.effect=null,this.render()}}).template=i`
  <div class="o_effects_manager">
    <t t-if="effect">
        <t t-component="effect.Component" t-props="effect.props" t-key="effect.id" close="() => this.removeEffect()"/>
    </t>
  </div>`,t})),odoo.define("@web/core/effects/effect_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{EffectContainer:i}=e("@web/core/effects/effect_container"),{RainbowMan:o}=e("@web/core/effects/rainbow_man"),{EventBus:s}=e("@odoo/owl"),r=n.category("effects");r.add("rainbow_man",(function(e,t={}){let n=t.message;if(n instanceof jQuery?(console.log("Providing a jQuery element to an effect is deprecated. Note that all event handlers will be lost."),n=n.html()):n instanceof Element?(console.log("Providing an HTML element to an effect is deprecated. Note that all event handlers will be lost."),n=n.outerHTML):n||(n=e._t("Well Done!")),e.services.user.showEffect){const e={imgUrl:t.img_url||"/web/static/img/smile.svg",fadeout:t.fadeout||"medium",message:n,Component:t.Component,props:t.props};return{Component:o,props:e}}e.services.notification.add(n)}));const a=t.effectService={start(e){const t=new s;n.category("main_components").add("EffectContainer",{Component:i,props:{bus:t}});let o=0;return{add:function(n={}){const i=n.type||"rainbow_man",s=r.get(i),{Component:a,props:l}=s(e,n)||{};a&&t.trigger("UPDATE",{Component:a,props:l,id:o++})}}}};return n.category("services").add("effect",a),t})),odoo.define("@web/core/effects/rainbow_man",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{Component:i,useEffect:o,useExternalListener:s,useState:r}=e("@odoo/owl"),a=t.RainbowMan=class e extends i{setup(){s(document.body,"click",this.closeRainbowMan),this.state=r({isFading:!1}),this.delay=e.rainbowFadeouts[this.props.fadeout],this.delay&&o((()=>{const e=n.setTimeout((()=>{this.state.isFading=!0}),this.delay);return()=>n.clearTimeout(e)}),(()=>[]))}onAnimationEnd(e){this.delay&&"reward-fading-reverse"===e.animationName&&(e.stopPropagation(),this.closeRainbowMan())}closeRainbowMan(){this.props.close()}};return a.template="web.RainbowMan",a.rainbowFadeouts={slow:4500,medium:3500,fast:2e3,no:!1},t})),odoo.define("@web/core/hotkeys/hotkey_service",(async function(e){"use strict";let t={};const{isMacOS:n}=e("@web/core/browser/feature_detection"),{registry:i}=e("@web/core/registry"),{browser:o}=e("@web/core/browser/browser"),{getVisibleElements:s}=e("@web/core/utils/ui"),r="abcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["alt","control","shift"],l=[...r,"arrowleft","arrowright","arrowup","arrowdown","pageup","pagedown","home","end","backspace","enter","tab","delete","space","escape"];function c(e){if(!e.key)return"";const t=[];(n()?e.ctrlKey:e.altKey)&&t.push("alt"),(n()?e.metaKey:e.ctrlKey)&&t.push("control"),e.shiftKey&&t.push("shift");let i=e.key.toLowerCase();return e.code&&0===e.code.indexOf("Digit")&&(i=e.code.slice(-1)),!l.includes(i)&&e.code&&0===e.code.indexOf("Key")&&(i=e.code.slice(-1).toLowerCase()),a.includes(i)||t.push(i),t.join("+")}t.getActiveHotkey=c;const u=t.hotkeyService={dependencies:["ui"],overlayModifier:"alt",start(e,{ui:t}){const n=new Map;let i=0,r=!1;function d(e){e.addEventListener("keydown",h),e.addEventListener("keyup",p),e.addEventListener("blur",p),e.addEventListener("click",p)}function h(e){if(e.code&&0===e.code.indexOf("Numpad")&&/^\d$/.test(e.key))return;const i=c(e);if(!i)return;const{activeElement:o,isBlocked:a}=t;if(a)return;const d=document.querySelectorAll("[accesskey]");for(const e of d)e instanceof HTMLElement&&(e.dataset.hotkey=e.accessKey,e.removeAttribute("accesskey"));if(!r&&i===u.overlayModifier)return function(e){for(const t of s(e,"[data-hotkey]:not(:disabled)")){const e=t.dataset.hotkey,n=document.createElement("div");n.classList.add("o_web_hotkey_overlay","position-absolute","top-0","bottom-0","start-0","end-0","d-flex","justify-content-center","align-items-center","m-0","bg-black-50","h6");const i=document.createElement("kbd");let o;i.className="small",i.appendChild(document.createTextNode(e.toUpperCase())),n.appendChild(i),o="INPUT"===t.tagName.toUpperCase()?t.parentElement:t,"absolute"!==o.style.position&&(o.style.position="relative"),o.appendChild(n)}r=!0}(o),void e.preventDefault();const h=i.split("+").pop();if(!l.includes(h))return;const f=e.target instanceof HTMLElement&&(/input|textarea/i.test(e.target.tagName)||e.target.isContentEditable)&&!e.target.dataset.allowHotkeys&&"escape"!==h,m=function(e){const{activeElement:t,hotkey:i,isRepeated:o,target:r,shouldProtectEditable:a}=e,l=Array.from(n.values()).reverse(),c=function(e,t){const n=u.overlayModifier.split("+");if(!n.every((t=>e.includes(t))))return[];const i=e.split("+").filter((e=>!n.includes(e))).join("+"),o=s(t,`[data-hotkey='${i}' i]`);return o.map((n=>({hotkey:e,activeElement:t,bypassEditableProtection:!0,callback:()=>{n.focus(),n.click()}})))}(i,t),d=l.concat(c).filter((e=>e.hotkey===i&&(e.allowRepeat||!o)&&(e.bypassEditableProtection||!a)&&(e.global||e.activeElement===t)&&(!e.validate||e.validate(r))&&(!e.area||r instanceof Node&&e.area()&&e.area().contains(r))));let h=d.shift();if(h&&h.area)for(const e of d.filter((e=>Boolean(e.area))))e.area()&&h.area().contains(e.area())&&(h=e);if(h)return h.callback({area:h.area&&h.area(),target:r}),!0;return!1}({activeElement:o,hotkey:i,isRepeated:e.repeat,target:e.target,shouldProtectEditable:f});m&&(e.preventDefault(),e.stopImmediatePropagation()),r&&(p(),e.preventDefault())}function p(){for(const e of document.querySelectorAll(".o_web_hotkey_overlay"))e.remove();r=!1}return d(o),{add(e,o,s={}){const r=function(e,o,s={}){if(!e||0===e.length)throw new Error("You must specify an hotkey when registering a registration.");if(!o||"function"!=typeof o)throw new Error("You must specify a callback function when registering a registration.");const r=e.toLowerCase().split("+").filter((e=>!a.includes(e)));if(r.some((e=>!l.includes(e))))throw new Error(`You are trying to subscribe for an hotkey ('${e}')\n            that contains parts not whitelisted: ${r.join(", ")}`);if(r.length>1)throw new Error(`You are trying to subscribe for an hotkey ('${e}')\n            that contains more than one single key part: ${r.join("+")}`);const c=i++,u={hotkey:e.toLowerCase(),callback:o,activeElement:null,allowRepeat:s&&s.allowRepeat,bypassEditableProtection:s&&s.bypassEditableProtection,global:s&&s.global,area:s&&s.area,validate:s&&s.validate};return Promise.resolve().then((()=>{u.activeElement=t.activeElement})),n.set(c,u),c}(e,o,s);return()=>{!function(e){n.delete(e)}(r)}},registerIframe(e){d(e.contentWindow)}}}};return i.category("services").add("hotkey",u),t})),odoo.define("@web/core/hotkeys/hotkey_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{useEffect:i}=e("@odoo/owl");return t.useHotkey=function(e,t,o={}){const s=n("hotkey");i((()=>s.add(e,t,o)),(()=>[]))},t})),odoo.define("@web/core/l10n/dates",(async function(e){"use strict";let t={};const{localization:n}=e("@web/core/l10n/localization"),{_t:i}=e("@web/core/l10n/translation"),{memoize:o}=e("@web/core/utils/functions"),{sprintf:s}=e("@web/core/utils/strings"),{DateTime:r,Settings:a}=luxon,l="yyyy-MM-dd",c=`${l} HH:mm:ss`,u=/[a-zA-Z]/g,d=/[^a-zA-Z]/g,h=/[^0-9]/g,p={a:"ccc",A:"cccc",b:"MMM",B:"MMMM",d:"dd",H:"HH",I:"hh",j:"o",m:"MM",M:"mm",p:"a",S:"ss",W:"WW",w:"c",y:"yy",Y:"yyyy",c:"ccc MMM d HH:mm:ss yyyy",x:"MM/dd/yy",X:"HH:mm:ss"},f={c:"d",d:"D",o:"DDDD",a:"A",y:"Y"},m={d:"days",m:"months",w:"weeks",y:"years"},g=new RegExp(`^([+-])(\\d+)([${Object.keys(m).join("")}]?)$`);function v(e){return e&&e.isValid&&e.year>=1e3&&e.year<1e4}t.areDateEquals=function(e,t){return e instanceof r&&t instanceof r?e.equals(t):e===t};const b=o((function(e){return e.replace(u,((e,t,n)=>e===n[t-1]?"":e))}));t.strftimeToLuxonFormat=o((function(e){const t=[];let n=!1;for(let i=0;i<e.length;++i){let o=e[i];"%"!==o||n?(o.match(u)&&(o=n&&void 0!==p[o]?p[o]:"'"+o+"'"),t.push(o),n=!1):n=!0}return t.join("")})),t.luxonToMomentFormat=o((function(e){return e.replace(u,(e=>f[e]||e))}));function y(e,t={}){if(!e)return!1;const o=t.format||n.dateTimeFormat,l={setZone:!0,zone:"default",locale:t.locale,numberingSystem:t.numberingSystem||a.defaultNumberingSystem||"latn"};/[0-9]/.test(e)&&(l.numberingSystem="latn");let c=r.fromFormat(e,o,l);if(v(c)||(c=function(e){const t=g.exec(e);if(t){let e=r.local();const n=parseInt(t[2],10),i=m[t[3]||"d"];return e="+"===t[1]?e.plus({[i]:n}):e.minus({[i]:n}),e}return!1}(e)),!v(c)){const t=b(o);c=r.fromFormat(e,t,l)}if(!v(c)){const t=e.split(h).filter(Boolean),n=o.split(d).filter(Boolean),i=t.join("");let s=0;const a=n.map(((e,n)=>{const i=(t[n]||"").length,o=e.slice(0,i+s);return s+=i-o.length,o})).join("");c=r.fromFormat(i,a,l)}if(!v(c)){e.replace(h,"").length>4&&(c=r.fromISO(e,l),v(c)||(c=r.fromSQL(e,l)))}if(!v(c))throw new Error(s(i("'%s' is not a correct date or datetime"),e));return c.setZone("default")}t.luxonToMoment=function(e){if(e.isValid){const t=e.toObject();return moment({...t,month:t.month-1})}return moment.invalid()},t.momentToLuxon=function(e){const t=e.toObject();return r.fromObject({year:t.years,month:t.months+1,day:t.date,hour:t.hours,minute:t.minutes,second:t.seconds,millisecond:t.milliseconds})},t.is24HourFormat=function(e){return-1!==(e||n.timeFormat).indexOf("H")},t.formatDate=function(e,t={}){if(!1===e)return"";const i=t.format||n.dateFormat,o=t.numberingSystem||a.defaultNumberingSystem||"latn";return e.toFormat(i,{numberingSystem:o})},t.formatDateTime=function(e,t={}){if(!1===e)return"";const i=t.format||n.dateTimeFormat,o=t.numberingSystem||a.defaultNumberingSystem||"latn";return e.setZone("default").toFormat(i,{numberingSystem:o})},t.parseDate=function(e,t={}){if(!e)return!1;return y(e,{format:n.dateFormat,...t}).startOf("day")},t.parseDateTime=y,t.deserializeDate=function(e){return r.fromSQL(e,{zone:"default",numberingSystem:"latn"})},t.deserializeDateTime=function(e){return r.fromSQL(e,{zone:"utc",numberingSystem:"latn"}).setZone("default")};const _=new WeakMap;t.serializeDate=function(e){_.has(e)||_.set(e,e.toFormat(l,{numberingSystem:"latn"}));return _.get(e)};const w=new WeakMap;return t.serializeDateTime=function(e){w.has(e)||w.set(e,e.setZone("utc").toFormat(c,{numberingSystem:"latn"}));return w.get(e)},t})),odoo.define("@web/core/l10n/localization",(async function(e){"use strict";let t={};const n=new Error("Localization parameters not ready yet. Maybe add 'localization' to your dependencies?");t.localization={dateFormat:n,dateTimeFormat:n,timeFormat:n,decimalPoint:n,direction:n,grouping:n,multiLang:n,thousandsSep:n,weekStart:n};return t})),odoo.define("@web/core/l10n/localization_service",(async function(e){"use strict";let t={};const{session:n}=e("@web/session"),{browser:i}=e("@web/core/browser/browser"),{registry:o}=e("@web/core/registry"),{strftimeToLuxonFormat:s}=e("@web/core/l10n/dates"),{localization:r}=e("@web/core/l10n/localization"),{translatedTerms:a,_t:l}=e("@web/core/l10n/translation"),{Settings:c}=luxon,u=[[/^ar-(sa|sy|001)$/i,"arab"],[/^bn/i,"beng"],[/^bo/i,"tibt"],[/^pa-in/i,"guru"],[/^ta/i,"tamldec"],[/.*/i,"latn"]],d=t.localizationService={dependencies:["user"],start:async(e,{user:t})=>{const o=(n.cache_hashes||{}).translations||(new Date).getTime().toString(),d=t.lang||null;let h=`${n.translationURL||"/web/webclient/translations"}/${o}`;d&&(h+=`?lang=${d}`);const p=await i.fetch(h);if(!p.ok)throw new Error("Error while fetching translations");const{lang_parameters:f,modules:m,multi_lang:g}=await p.json(),v={};for(const e of Object.keys(m))for(const t of m[e].messages)v[t.id]=t.string;if(Object.setPrototypeOf(a,v),e._t=l,d){const e={sr_RS:"sr-cyrl","sr@latin":"sr-Latn-RS"}[d]||d.replace(/_/g,"-");c.defaultLocale=e;for(const[t,n]of u)if(t.test(e)){c.defaultNumberingSystem=n;break}}const b=s(f.date_format),y=s(f.time_format),_=`${b} ${y}`,w=JSON.parse(f.grouping);Object.assign(r,{dateFormat:b,timeFormat:y,dateTimeFormat:_,decimalPoint:f.decimal_point,direction:f.direction,grouping:w,multiLang:g,thousandsSep:f.thousands_sep,weekStart:f.week_start})}};return o.category("services").add("localization",d),t})),odoo.define("@web/core/l10n/translation",(async function(e){"use strict";let t={};const n=t.translatedTerms={};function i(e){return n[e]||e}t._t=i;class o extends String{valueOf(){return i(super.valueOf())}toString(){return this.valueOf()}}function s(e){return new o(e)}return t._lt=s,s("less than a minute ago"),s("about a minute ago"),s("%d minutes ago"),s("about an hour ago"),s("%d hours ago"),s("a day ago"),s("%d days ago"),s("about a month ago"),s("%d months ago"),s("about a year ago"),s("%d years ago"),t.loadLanguages=async function e(t){e.installedLanguages||(e.installedLanguages=await t.call("res.lang","get_installed"));return e.installedLanguages},t})),odoo.define("@web/core/main_components_container",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{ErrorHandler:i}=e("@web/core/utils/components"),{useBus:o}=e("@web/core/utils/hooks"),{Component:s,xml:r}=e("@odoo/owl"),a=t.MainComponentsContainer=class extends s{setup(){const e=n.category("main_components");this.Components=e.getEntries(),o(e,"UPDATE",(()=>{this.Components=e.getEntries(),this.render()}))}handleComponentError(e,t){this.Components.splice(this.Components.indexOf(t),1),this.render(),Promise.resolve().then((()=>{throw e}))}};return a.template=r`
<div class="o-main-components-container">
    <t t-foreach="Components" t-as="C" t-key="C[0]">
        <ErrorHandler onError="error => this.handleComponentError(error, C)">
            <t t-component="C[1].Component" t-props="C[1].props"/>
        </ErrorHandler>
    </t>
</div>
`,a.components={ErrorHandler:i},t})),odoo.define("@web/core/network/rpc_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),o=t.RPCError=class extends Error{constructor(){super(...arguments),this.name="RPC_ERROR",this.type="server",this.code=null,this.data=null,this.exceptionName=null,this.subType=null}},s=t.ConnectionLostError=class extends Error{},r=t.ConnectionAbortedError=class extends Error{};t.HTTPError=class extends Error{};function a(e){const{code:t,data:n,message:i,type:s}=e,r=new o;return r.exceptionName=n.name,r.subType=s,r.data=n,r.message=i,r.code=t,r}function l(e,t,i,o,l={}){const c=e.bus,u=n.XMLHttpRequest,d={id:t,jsonrpc:"2.0",method:"call",params:o},h=l.xhr||new u;let p;const f=new Promise(((e,t)=>{p=t,l.silent||c.trigger("RPC:REQUEST",d.id),h.addEventListener("load",(()=>{if(502===h.status)return l.silent||c.trigger("RPC:RESPONSE",d.id),void t(new s);let n;try{n=JSON.parse(h.response)}catch(e){return l.silent||c.trigger("RPC:RESPONSE",d.id),t(new s)}const{error:i,result:o}=n;if(l.silent||c.trigger("RPC:RESPONSE",d.id),!i)return e(o);const r=a(i);t(r)})),h.addEventListener("error",(()=>{l.silent||c.trigger("RPC:RESPONSE",d.id),t(new s)})),h.open("POST",i),h.setRequestHeader("Content-Type","application/json"),h.send(JSON.stringify(d))}));return f.abort=function(e=!0){h.abort&&h.abort(),l.silent||c.trigger("RPC:RESPONSE",d.id),e&&p(new r("XmlHttpRequestError abort"))},f}t.makeErrorFromResponse=a,t.jsonrpc=l;const c=t.rpcService={async:!0,start(e){let t=0;return function(n,i={},o){return l(e,t++,n,i,o)}}};return i.category("services").add("rpc",c),t})),odoo.define("@web/core/assets",(async function(e){"use strict";let t={};const{memoize:n}=e("@web/core/utils/functions"),{browser:i}=e("@web/core/browser/browser"),{registry:o}=e("@web/core/registry"),{session:s}=e("@web/session"),r=t.assets={retries:{count:3,delay:5e3,extraDelay:2500}};class a extends Error{}t._loadJS=r.loadJS=n((function(e){if(document.querySelector(`script[src="${e}"]`))return Promise.resolve();const t=document.createElement("script");return t.type="text/javascript",t.src=e,document.head.appendChild(t),new Promise(((n,i)=>{t.addEventListener("load",(()=>n(!0))),t.addEventListener("error",(()=>{i(new a(`The loading of ${e} failed`))}))}))})),t._loadCSS=r.loadCSS=n((function e(t,n=0){if(document.querySelector(`link[href="${t}"]`))return Promise.resolve();const i=document.createElement("link");i.type="text/css",i.rel="stylesheet",i.href=t;const o=new Promise(((o,s)=>{i.addEventListener("load",(()=>o(!0))),i.addEventListener("error",(async()=>{n<r.retries.count?(await new Promise((e=>setTimeout(e,r.retries.delay+r.retries.extraDelay*n))),i.remove(),e(t,n+1).then(o).catch(s)):s(new a(`The loading of ${t} failed`))}))}));return document.head.appendChild(i),o}));const l=t.templates=(new DOMParser).parseFromString("<odoo/>","text/xml");let c;t._loadXML=r.loadXML=function(e,t=c){const n=(new DOMParser).parseFromString(e,"text/xml");if(n.querySelector("parsererror"))throw new Error(n.querySelector("parsererror").textContent.trim());for(const e of n.querySelectorAll("templates > [t-name][owl]")){e.removeAttribute("owl");const t=e.getAttribute("t-name"),n=l.querySelector(`[t-name="${t}"]`);n?(console.debug("Override template: "+t),n.replaceWith(e)):l.documentElement.appendChild(e)}t||c?(console.debug("Add templates in Owl app."),t.addTemplates(l,t||c)):console.debug("Add templates on window Owl container.")};t.setLoadXmlDefaultApp=function(e){c=e};t._getBundle=r.getBundle=n((async function(e){const t=new URL(`/web/bundle/${e}`,location.origin);for(const[e,n]of Object.entries(s.bundle_params||{}))t.searchParams.set(e,n);const n=await i.fetch(t.href),o=await n.json(),r={cssLibs:[],cssContents:[],jsLibs:[],jsContents:[]};for(const e in o){const t=o[e];"link"===t.type?r.cssLibs.push(t.src):"style"===t.type?r.cssContents.push(t.content):t.src?r.jsLibs.push(t.src):r.jsContents.push(t.content)}return r})),t._loadBundle=r.loadBundle=async function(e){const t=Promise.all((e.cssLibs||[]).map(r.loadCSS)).then((()=>{if(e.cssContents&&e.cssContents.length){const t=document.createElement("style");t.textContent=e.cssContents.join("\n"),document.head.appendChild(t)}}));for(const t of e.jsLibs||[])if("string"==typeof t){await r.loadJS(t);const e=t.match(/\/web\/assets\/.*\/([^/]+?)(\.min)?\.js/);e&&await odoo.ready(e[1]+".bundle.xml")}else await Promise.all(t.map(u));if(e.jsContents&&e.jsContents.length){const t=document.createElement("script");t.type="text/javascript",t.textContent=e.jsContents.join("\n"),document.head.appendChild(t)}await t;for(const t of e.assetLibs||[])if("string"==typeof t){const e=await r.getBundle(t);await r.loadBundle(e)}else await Promise.all(t.map((async e=>{const t=await r.getBundle(e);return r.loadBundle(t)})))};const u=t.loadJS=function(e){return r.loadJS(e)},d=(t.loadCSS=function(e){return r.loadCSS(e)},t.loadXML=function(e,t=c){return r.loadXML(e,t)},t.getBundle=function(e){return r.getBundle(e)}),h=t.loadBundle=function(e){return r.loadBundle(e)},{Component:p,xml:f,onWillStart:m}=e("@odoo/owl"),g=t.LazyComponent=class extends p{setup(){m((async()=>{const e=await d(this.props.bundle);await h(e),this.Component=o.category("lazy_components").get(this.props.Component)}))}};return g.template=f`<t t-component="Component" t-props="props.props"/>`,g.props={Component:String,bundle:String,props:{type:Object,optional:!0}},t})),odoo.define("@web/core/notifications/notification",(async function(e){"use strict";let t={};const{Component:n}=e("@odoo/owl"),i=t.Notification=class extends n{};return i.template="web.NotificationWowl",i.props={message:{validate:e=>"string"==typeof e||"object"==typeof e&&"function"==typeof e.toString},title:{type:[String,Boolean,{toString:Function}],optional:!0},type:{type:String,optional:!0,validate:e=>["warning","danger","success","info"].includes(e)},className:{type:String,optional:!0},buttons:{type:Array,element:{type:Object,shape:{name:{type:String},icon:{type:String,optional:!0},primary:{type:Boolean,optional:!0},onClick:Function}},optional:!0},close:{type:Function}},i.defaultProps={buttons:[],className:"",type:"warning"},t})),odoo.define("@web/core/notifications/notification_container",(async function(e){"use strict";let t={};const{Notification:n}=e("@web/core/notifications/notification"),{Transition:i}=e("@web/core/transition"),{Component:o,xml:s,useState:r}=e("@odoo/owl"),a=t.NotificationContainer=class extends o{setup(){this.notifications=r(this.props.notifications)}};return a.template=s`
    <div class="o_notification_manager">
        <t t-foreach="notifications" t-as="notification" t-key="notification">
            <Transition leaveDuration="0" name="'o_notification_fade'" t-slot-scope="transition">
                <Notification t-props="notification_value.props" className="(notification_value.props.className || '') + ' ' + transition.className"/>
            </Transition>
        </t>
    </div>`,a.components={Notification:n,Transition:i},t})),odoo.define("@web/core/notifications/notification_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),{NotificationContainer:o}=e("@web/core/notifications/notification_container"),{reactive:s}=e("@odoo/owl"),r=t.notificationService={start(){let e=0;const t=s({});return i.category("main_components").add("NotificationContainer",{Component:o,props:{notifications:t}}),{add:function(i,o={}){const s=++e,r=()=>function(e){if(t[e]){const n=t[e];n.onClose&&n.onClose(),delete t[e]}}(s),a=Object.assign({},o,{message:i,close:r}),l=a.sticky;delete a.sticky,delete a.onClose;const c={id:s,props:a,onClose:o.onClose};return t[s]=c,l||n.setTimeout(r,4e3),r}}}};return i.category("services").add("notification",r),t})),odoo.define("@web/core/registry",(async function(e){"use strict";let t={};const{EventBus:n}=e("@odoo/owl"),i=t.KeyNotFoundError=class extends Error{},o=t.DuplicatedKeyError=class extends Error{},s=t.Registry=class e extends n{constructor(){super(),this.content={},this.subRegistries={},this.elements=null,this.entries=null,this.addEventListener("UPDATE",(()=>{this.elements=null,this.entries=null}))}add(e,t,{force:n,sequence:i}={}){if(!n&&e in this.content)throw new o(`Cannot add '${e}' in this registry: it already exists`);let s;if(n){const t=this.content[e];s=t&&t[0]}i=void 0===i?s||50:i,this.content[e]=[i,t];const r={operation:"add",key:e,value:t};return this.trigger("UPDATE",r),this}get(e,t){if(arguments.length<2&&!(e in this.content))throw new i(`Cannot find ${e} in this registry!`);const n=this.content[e];return n?n[1]:t}contains(e){return e in this.content}getAll(){if(!this.elements){const e=Object.values(this.content).sort(((e,t)=>e[0]-t[0]));this.elements=e.map((e=>e[1]))}return this.elements.slice()}getEntries(){if(!this.entries){const e=Object.entries(this.content).sort(((e,t)=>e[1][0]-t[1][0]));this.entries=e.map((([e,t])=>[e,t[1]]))}return this.entries.slice()}remove(e){const t=this.content[e];delete this.content[e];const n={operation:"delete",key:e,value:t};this.trigger("UPDATE",n)}category(t){return t in this.subRegistries||(this.subRegistries[t]=new e),this.subRegistries[t]}};t.registry=new s;return t})),odoo.define("@web/core/transition",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{Component:i,useState:o,useEffect:s,xml:r,onWillUpdateProps:a,useComponent:l}=e("@odoo/owl"),c=t.config={disabled:!1};function u({name:e,initialVisibility:t=!0,leaveDuration:i=500,onLeave:r=(()=>{})}){const a=l(),u=o({shouldMount:t,stage:t?"enter":"leave"});if(c.disabled)return{get shouldMount(){return u.shouldMount},set shouldMount(e){u.shouldMount=e},get className(){return`${e} ${e}-enter-active`},get stage(){return"enter-active"}};let d,h,p=null;s((()=>{p&&(p(),p=null)}));const f={get shouldMount(){return u.shouldMount},set shouldMount(e){e!==d&&(n.clearTimeout(h),d=e,e?(u.stage="enter",u.shouldMount=!0,a.render(),p=()=>{u.stage="enter-active"}):(u.stage="leave",h=n.setTimeout((()=>{u.shouldMount=!1,r()}),i)))},get className(){return`${e} ${e}-${u.stage}`},get stage(){return u.stage}};return f.shouldMount=t,f}t.useTransition=u;const d=t.Transition=class extends i{setup(){const{visible:e,leaveDuration:t,name:n,onLeave:i}=this.props;this.transition=u({initialVisibility:e,leaveDuration:t,name:n,onLeave:i}),a((({visible:e=!0})=>{this.transition.shouldMount=e}))}};return d.template=r`<t t-slot="default" t-if="transition.shouldMount" className="transition.className"/>`,d.props={name:String,visible:{type:Boolean,optional:!0},leaveDuration:{type:Number,optional:!0},onLeave:{type:Function,optional:!0},slots:Object},t})),odoo.define("@web/core/ui/block_ui",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{Component:i,useState:o,xml:s}=e("@odoo/owl");return(t.BlockUI=class extends i{setup(){this.messagesByDuration=[{time:20,l1:this.env._t("Loading...")},{time:40,l1:this.env._t("Still loading...")},{time:60,l1:this.env._t("Still loading..."),l2:this.env._t("Please be patient.")},{time:180,l1:this.env._t("Don't leave yet,"),l2:this.env._t("it's still loading...")},{time:120,l1:this.env._t("You may not believe it,"),l2:this.env._t("but the application is actually loading...")},{time:3180,l1:this.env._t("Take a minute to get a coffee,"),l2:this.env._t("because it's loading...")},{time:null,l1:this.env._t("Maybe you should consider reloading the application by pressing F5...")}],this.state=o({blockUI:!1,line1:"",line2:""}),this.props.bus.addEventListener("BLOCK",this.block.bind(this)),this.props.bus.addEventListener("UNBLOCK",this.unblock.bind(this))}replaceMessage(e){const t=this.messagesByDuration[e];this.state.line1=t.l1,this.state.line2=t.l2||"",null!==t.time&&(this.msgTimer=n.setTimeout((()=>{this.replaceMessage(e+1)}),1e3*t.time))}block(){this.state.blockUI=!0,this.replaceMessage(0)}unblock(){this.state.blockUI=!1,clearTimeout(this.msgTimer),this.state.line1="",this.state.line2=""}}).template=s`
    <div t-att-class="state.blockUI ? 'o_blockUI fixed-top d-flex justify-content-center align-items-center flex-column vh-100 bg-black-50' : ''">
      <t t-if="state.blockUI">
        <div class="o_spinner mb-4">
            <img src="/web/static/img/spin.svg" alt="Loading..."/>
        </div>
        <div class="o_message text-center px-4">
            <t t-esc="state.line1"/> <br/>
            <t t-esc="state.line2"/>
        </div>
      </t>
    </div>`,t})),odoo.define("@web/core/ui/ui_service",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{registry:i}=e("@web/core/registry"),{debounce:o}=e("@web/core/utils/timing"),{BlockUI:s}=e("@web/core/ui/block_ui"),{browser:r}=e("@web/core/browser/browser"),{getTabableElements:a}=e("@web/core/utils/ui"),{getActiveHotkey:l}=e("@web/core/hotkeys/hotkey_service"),{EventBus:c,useEffect:u,useRef:d}=e("@odoo/owl"),h=t.SIZES={XS:0,VSM:1,SM:2,MD:3,LG:4,XL:5,XXL:6};t.useActiveElement=function(e){if(!e)throw new Error("refName not given to useActiveElement");const t=n("ui"),i=d(e);function o(e){const t=l(e);if(!["tab","shift+tab"].includes(t))return;const n=e.currentTarget,i=a(n),o=i[0]||n,s=i[i.length-1]||n;switch(t){case"tab":document.activeElement===s&&(o.focus(),e.preventDefault(),e.stopPropagation());break;case"shift+tab":document.activeElement===o&&(s.focus(),e.preventDefault(),e.stopPropagation())}}u((e=>{if(e){const n=document.activeElement;t.activateElement(e);const i=a(e);0===i.length&&e.tabIndex<0&&(e.tabIndex=-1);const s=i[0]||e;return e.addEventListener("keydown",o),e.contains(document.activeElement)||s.focus(),()=>{t.deactivateElement(e),e.removeEventListener("keydown",o),e.contains(document.activeElement)&&n.focus()}}}),(()=>[i.el]))};const p=t.MEDIAS_BREAKPOINTS=[{maxWidth:474},{minWidth:475,maxWidth:575},{minWidth:576,maxWidth:767},{minWidth:768,maxWidth:991},{minWidth:992,maxWidth:1199},{minWidth:1200,maxWidth:1533},{minWidth:1534}];function f(){return p.map((({minWidth:e,maxWidth:t})=>t?e?window.matchMedia(`(min-width: ${e}px) and (max-width: ${t}px)`):window.matchMedia(`(max-width: ${t}px)`):window.matchMedia(`(min-width: ${e}px)`)))}t.getMediaQueryLists=f;const m=f(),g=t.uiService={getSize:()=>m.findIndex((e=>e.matches)),start(e){const t=new c;i.category("main_components").add("BlockUI",{Component:s,props:{bus:t}});let n=0;let a=[document];const l={bus:t,size:this.getSize(),get activeElement(){return a[a.length-1]},get isBlocked(){return n>0},get isSmall(){return l.size<=h.SM},block:function(){n++,1===n&&t.trigger("BLOCK")},unblock:function(){n--,n<0&&(console.warn("Unblock ui was called more times than block, you should only unblock the UI if you have previously blocked it."),n=0),0===n&&t.trigger("UNBLOCK")},activateElement:function(e){a.push(e),t.trigger("active-element-changed",e)},deactivateElement:function(e){a=a.filter((t=>t!==e)),t.trigger("active-element-changed",l.activeElement)},getActiveElementOf:function(e){for(const t of[...a].reverse())if(t.contains(e))return t}};return r.addEventListener("resize",o((()=>{const e=l.size;l.size=this.getSize(),l.size!==e&&t.trigger("resize")}),100)),Object.defineProperty(e,"isSmall",{get:()=>l.isSmall}),l}};return i.category("services").add("ui",g),t})),odoo.define("@web/core/user_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{session:i}=e("@web/session"),o=t.userService={dependencies:["rpc"],async:["hasGroup"],start(e,{rpc:t}){const n={},o={...i.user_context,uid:i.uid};return{get context(){return Object.assign({},o)},removeFromContext(e){delete o[e]},updateContext(e){Object.assign(o,e)},hasGroup:e=>o.uid?(n[e]||(n[e]=t("/web/dataset/call_kw/res.users/has_group",{model:"res.users",method:"has_group",args:[e],kwargs:{context:o}})),n[e]):Promise.resolve(!1),name:i.name,userName:i.username,isAdmin:i.is_admin,isSystem:i.is_system,partnerId:i.partner_id,home_action_id:i.home_action_id,showEffect:i.show_effect,get userId(){return o.uid},get lang(){return o.lang},get tz(){return o.tz},get db(){const e={name:i.db};return"dbuuid"in i&&(e.uuid=i.dbuuid),e}}}};return n.category("services").add("user",o),t})),odoo.define("@web/core/utils/components",(async function(e){"use strict";let t={};const{Component:n,onError:i,xml:o,useSubEnv:s}=e("@odoo/owl");(t.ErrorHandler=class extends n{setup(){i((e=>{this.props.onError(e)}))}}).template=o`<t t-slot="default" />`,ErrorEvent.props=["onError"];return(t.WithEnv=class extends n{setup(){s(this.props.env)}}).template=o`<t t-slot="default"/>`,t})),odoo.define("@web/core/utils/functions",(async function(e){"use strict";let t={};return t.memoize=function(e){const t=new Map,n=e.name?e.name+" (memoized)":"memoized";return{[n]:(...n)=>(t.has(n[0])||t.set(n[0],e(...n)),t.get(...n))}[n]},t})),odoo.define("@web/core/utils/hooks",(async function(e){"use strict";let t={};const{SERVICES_METADATA:n}=e("@web/env"),{status:i,useComponent:o,useEffect:s,useRef:r,onWillUnmount:a}=e("@odoo/owl");function l(e,t){return function(...n){if("destroyed"===i(e))return Promise.reject(new Error("Component is destroyed"));const o=Promise.resolve(t.call(this,...n)),s=o.then((t=>"destroyed"===i(e)?new Promise((()=>{})):t));return Object.assign(s,{abort:o.abort,cancel:o.cancel})}}function c(e){const t=o(),{services:i}=t.env;if(!(e in i))throw new Error(`Service ${e} is not available`);const s=i[e];if(e in n){if(s instanceof Function)return l(t,s);{const i=n[e],o=Object.create(s);for(const e of i)o[e]=l(t,s[e]);return o}}return s}return t.useAutofocus=function({refName:e,selectAll:t}={}){const n=o(),i=r(e||"autofocus");if(n.env.isSmall)return i;if(n.env.device&&n.env.device.isMobileDevice)return i;return s((e=>{e&&(e.focus(),["INPUT","TEXTAREA"].includes(e.tagName)&&"number"!==e.type&&(e.selectionEnd=e.value.length,e.selectionStart=t?0:e.value.length))}),(()=>[i.el])),i},t.useBus=function(e,t,n){const i=o();s((()=>{const o=n.bind(i);return e.addEventListener(t,o),()=>e.removeEventListener(t,o)}),(()=>[]))},t.useListener=function(e,t,n,i={}){"string"!=typeof arguments[1]&&(t=null,n=arguments[1],i=arguments[2]||{});if("function"!=typeof n)throw new Error("The handler must be a function");const r=o();let a;a=t?function(e){let i,o=e.target;for(;o&&!i;)o.matches(t)?i=o:o=o===r.el?null:o.parentElement;o&&n.call(r,e)}:n.bind(r);s((()=>(r.el.addEventListener(e,a,i),()=>{r.el.removeEventListener(e,a,i)})),(()=>[]))},t.useService=c,t.useChildRef=function(){let e,t=!1;return function n(i){e=i,t||(Object.defineProperty(n,"el",{get:()=>e.el}),t=!0)}},t.useForwardRefToParent=function(e){const t=o(),n=r(e);t.props[e]&&t.props[e](n);return n},t.useOwnedDialogs=function(){const e=c("dialog"),t=[];a((()=>{t.forEach((e=>e()))}));return(...n)=>{const i=e.add(...n);return t.push(i),i}},t})),odoo.define("@web/core/utils/numbers",(async function(e){"use strict";let t={};const{localization:n}=e("@web/core/l10n/localization"),{_t:i}=e("@web/core/l10n/translation"),{intersperse:o}=e("@web/core/utils/strings");function s(e,t=",",n=[]){const i="-"===e[0];return e=i?e.slice(1):e,(i?"-":"")+o(e,n,t)}return t.computeVariation=function(e,t){if(isNaN(e)||isNaN(t))return NaN;if(0===t)return 0===e?0:e>0?1:-1;return(e-t)/Math.abs(t)},t.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},t.insertThousandsSep=s,t.humanNumber=function(e,t={decimals:0,minDigits:1}){const o=t.decimals||0,r=t.minDigits||1,a=Math.pow(10,o),l=+e.toExponential().split("e+")[1];if(e=Math.round(e*a)/a,l>=21)return`${e=Math.round(e*Math.pow(10,o-l))/a}e+${l}`;const c=i("kMGTPE").toString(),u=Math.sign(e);e=Math.abs(e);let d="";for(let t=c.length;t>0;t--){const n=Math.pow(10,3*t);if(n<=e/Math.pow(10,r-1)){e=Math.round(e*a/n)/a,d=c[t-1];break}}const{decimalPoint:h,grouping:p,thousandsSep:f}=n,m=e>=1e3?0:o;e*=u;const[g,v]=e.toFixed(m).split("."),b=s(g,f,p);if(!v)return b+d;return b+h+v+d},t})),odoo.define("@web/core/utils/strings",(async function(e){"use strict";let t={};t.nbsp="";t.escape=function(e){if(void 0===e)return"";if("number"==typeof e)return String(e);const t=document.createElement("p");return t.textContent=e,t.innerHTML},t.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},t.intersperse=function(e,t,n=""){n=n||"";const i=[];let o=e.length;for(let n=0;n<t.length;++n){let s=t[n];if(-1===s||o<=0)break;if(0===s&&0===n)break;0===s&&(s=t[--n]),i.push(e.substring(o-s,o)),o-=s}const s=e.substring(0,o);s&&i.push(s);return i.reverse().join(n)},t.sprintf=function(e,...t){if(1===t.length&&"[object Object]"===Object.prototype.toString.call(t[0])){const n=t[0];e=e.replace(/%\(?([^)]+)\)s/g,((e,t)=>n[t]))}else t.length>0&&(e=e.replace(/%s/g,(()=>t.shift())));return e},t.capitalize=function(e){return e?e[0].toUpperCase()+e.slice(1):""};const n={A:"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY",B:"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B",C:"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C",D:"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz",E:"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E",F:"F","":"F","":"F","":"F","":"F","":"F",G:"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G",H:"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H",I:"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I",J:"J","":"J","":"J","":"J","":"J",K:"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K",L:"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj",M:"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M",N:"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj",O:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU",P:"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P",Q:"Q","":"Q","":"Q","":"Q","":"Q","":"Q",R:"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R",S:"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S",T:"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ",U:"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",V:"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY",W:"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W",X:"X","":"X","":"X","":"X","":"X",Y:"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y",Z:"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z",a:"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay",b:"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b",c:"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c",d:"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz",e:"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e",f:"f","":"f","":"f","":"f","":"f","":"f",g:"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g",h:"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv",i:"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i",j:"j","":"j","":"j","":"j","":"j","":"j",k:"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k",l:"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj",m:"m","":"m","":"m","":"m","":"m","":"m","":"m","":"m",n:"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj",o:"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo",p:"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p",q:"q","":"q","":"q","":"q","":"q","":"q",r:"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r",s:"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s",t:"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz",u:"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u",v:"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy",w:"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w",x:"x","":"x","":"x","":"x","":"x",y:"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y",z:"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};return t.unaccent=function(e,t){return e=e.replace(/[^\u0000-\u007E]/g,(function(e){return n[e]||e})),t?e:e.toLowerCase()},t})),odoo.define("@web/core/utils/timing",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{onWillUnmount:i,useComponent:o}=e("@odoo/owl");function s(e,t,i=!1){let o;const s=e.name?e.name+" (debounce)":"debounce",r="animationFrame"===t,a=r?"requestAnimationFrame":"setTimeout",l=r?"cancelAnimationFrame":"clearTimeout";return Object.assign({[s](...s){return new Promise((r=>{const c=i&&!o;n[l](o),o=n[a]((()=>{o=null,i||Promise.resolve(e.apply(this,s)).then(r)}),t),c&&Promise.resolve(e.apply(this,s)).then(r)}))}}[s],{cancel(){n[l](o)}})}return t.throttleForAnimation=function(e){let t=null;const i=e.name?`${e.name} (throttleForAnimation)`:"throttleForAnimation";return Object.assign({[i](...i){n.cancelAnimationFrame(t),t=n.requestAnimationFrame((()=>{t=null,e.call(this,...i)}))}}[i],{cancel(){n.cancelAnimationFrame(t)}})},t.throttle=function(e,t){let i=!1;const o=e.name?e.name+" (throttle)":"throttle";return{[o](...o){const s=this;i||(i=!0,n.setTimeout((function(){i=!1,e.call(s,...o)}),t))}}[o]},t.debounce=s,t.useDebounced=function(e,t){const n=o(),r=s(e.bind(n),t);return i((()=>r.cancel())),r},t.setRecurringAnimationFrame=function(e){const t=s=>{e(s-i),i=s,o=n.requestAnimationFrame(t)};let i=n.performance.now(),o=n.requestAnimationFrame(t);return()=>{n.cancelAnimationFrame(o)}},t})),odoo.define("@web/core/utils/ui",(async function(e){"use strict";let t={};function n(e){if(e===document||e===window)return!0;if(!e)return!1;let t=!1;if("offsetWidth"in e&&"offsetHeight"in e)t=e.offsetWidth>0&&e.offsetHeight>0;else if("getBoundingClientRect"in e){const n=e.getBoundingClientRect();t=n.width>0&&n.height>0}if(!t&&"contents"===getComputedStyle(e).display)for(const t of e.children)if(n(t))return!0;return t}function i(e,t){let n=0;return t.x<e.x?n+=(e.x-t.x)**2:e.x+e.width<t.x&&(n+=(t.x-(e.x+e.width))**2),t.y<e.y?n+=(e.y-t.y)**2:e.y+e.height<t.y&&(n+=(t.y-(e.y+e.height))**2),n}t.closest=function(e,t){let n=null,o=1/0;for(const s of e){const e=i(s.getBoundingClientRect(),t);(!n||e<o)&&(n=s,o=e)}return n},t.isVisible=n,t._legacyIsVisible=function(e){if(e===document||e===window)return!0;if(!e)return!1;let t=!1;if("offsetWidth"in e&&"offsetHeight"in e)t=e.offsetWidth>0||e.offsetHeight>0;else if("getBoundingClientRect"in e){const n=e.getBoundingClientRect();t=n.width>0||n.height>0}if(!t&&"contents"===getComputedStyle(e).display)for(const t of e.children)if(n(t))return!0;return t},t.getQuadrance=i,t.getVisibleElements=function(e,t){const i=[],o=e.querySelectorAll(t);for(const e of o)n(e)&&i.push(e);return i},t.touching=function(e,t){const n={x:0,y:0,width:0,height:0,...t};return[...e].filter((e=>{const t=e.getBoundingClientRect();return t.x+t.width>=n.x&&t.x<=n.x+n.width&&t.y+t.height>=n.y&&t.y<=n.y+n.height}))};let o="[tabindex], a, area, button, frame, iframe, input, object, select, textarea, details > summary:nth-child(1),".split(",").join(':not([tabindex="-1"]):not(:disabled),');function s(e=document.body){const t=[...e.querySelectorAll(o)].filter(n),i={};for(const e of[...t])i[e.tabIndex]||(i[e.tabIndex]=[]),i[e.tabIndex].push(e);const s=i[0]||[];return delete i[0],[...Object.values(i).flat(),...s]}return o=o.slice(0,o.length-1),t.getTabableElements=s,t.getNextTabableElement=function(e=document.body){const t=s(e),n=t.indexOf(document.activeElement);return-1===n?t[0]:t[n+1]||null},t.getPreviousTabableElement=function(e=document.body){const t=s(e),n=t.indexOf(document.activeElement);return-1===n?t[t.length-1]:t[n-1]||null},t})),odoo.define("@web/env",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{EventBus:i}=e("@odoo/owl");t.makeEnv=function(){return{bus:new i,services:{},debug:odoo.debug,_t:()=>{throw new Error("Translations are not ready yet. Maybe use _lt instead?")},get isSmall(){throw new Error("UI service not initialized!")}}};const o=n.category("services"),s=t.SERVICES_METADATA={};let r=null;async function a(e,t){if(r)return r.then((()=>a(e,t)));const n=e.services;for(const[e,i]of o.getEntries())if(!(e in n)){const n=Object.assign(Object.create(i),{name:e});t.add(n)}if(r=async function o(){let r=null;const a=[];for(;r=i();){const i=r.name;t.delete(r);const o=(r.dependencies||[]).map((e=>[e,n[e]])),l=Object.fromEntries(o);let c;try{c=r.start(e,l)}catch(e){c=e,console.error(e)}"async"in r&&(s[i]=r.async),c instanceof Promise?a.push(new Promise((e=>{c.then((e=>{n[i]=e||null})).catch((e=>{n[i]=e,console.error("Can't load service '"+i+"' because:",e)})).finally(e)}))):n[r.name]=c||null}if(await Promise.all(a),a.length)return o()}(),await r,r=null,t.size){const e=[...t].map((e=>e.name)),i=new Set;[...t].forEach((t=>t.dependencies.forEach((t=>{t in n||e.includes(t)||i.add(t)}))));const o=[...i].join(", ");throw new Error(`Some services could not be started: ${e}. Missing dependencies: ${o}`)}function i(){for(const e of t){if(!e.dependencies)return e;if(e.dependencies.every((e=>e in n)))return e}return null}}return t.startServices=async function(e){const t=new Set;o.addEventListener("UPDATE",(async n=>{await Promise.resolve();const{operation:i,key:o,value:s}=n.detail;if("delete"!==i)if(t.size){const e=Object.assign(Object.create(s),{name:o});t.add(e)}else await a(e,t)})),await Promise.resolve(),await a(e,t)},t})),odoo.define("@web/legacy/utils",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),i=e("web.AbstractStorageService"),{ConnectionAbortedError:o,RPCError:s,makeErrorFromResponse:r,ConnectionLostError:a}=e("@web/core/network/rpc_service"),{ErrorDialog:l}=e("@web/core/errors/error_dialogs"),{useService:c}=e("@web/core/utils/hooks"),{useComponent:u}=e("@odoo/owl"),d=t.wowlServicesSymbol=Symbol("wowlServices");t.makeLegacyRpcService=function(e){return{start(t){e.bus.on("rpc_request",null,(e=>{t.bus.trigger("RPC:REQUEST",e)})),e.bus.on("rpc_response",null,(e=>{t.bus.trigger("RPC:RESPONSE",e)})),e.bus.on("rpc_response_failed",null,(e=>{t.bus.trigger("RPC:RESPONSE",e)}))}}},t.makeLegacyDialogMappingService=function(e){return{dependencies:["ui","hotkey"],start(t){const{ui:n,hotkey:i}=t.services;function o(e){return e.modalRef?e.modalRef.el:e.$modal[0]}const s=new Map;function r(e){n.activateElement(o(e));const t=i.add("escape",function(e){return e.modalRef?()=>e._close():()=>e.$modal.modal("hide")}(e));s.set(e,t)}function a(e){if(n.deactivateElement(o(e)),s.has(e)){s.get(e)(),s.delete(e)}}e.bus.on("legacy_dialog_opened",null,r),e.bus.on("legacy_dialog_destroyed",null,a),e.bus.on("owl_dialog_mounted",null,r),e.bus.on("owl_dialog_willunmount",null,a)}}},t.makeLegacyCommandService=function(e){return{dependencies:["command"],start(t){const{command:n}=t.services,i=new Map;function o(e){if(i.has(e)){i.get(e)(),i.delete(e)}}e.bus.on("set_legacy_command",null,(function(e,s){const{name:r,action:a,options:l}=s(t);o(e),i.set(e,n.add(r,a,l))})),e.bus.on("remove_legacy_command",null,o),e.bus.on("openMainPalette",null,(function(e={}){n.openMainPalette(e)}))}}},t.makeLegacyDropdownService=function(e){return{dependencies:["ui","hotkey"],start(t,{ui:n,hotkey:i}){e.services.ui=n,e.services.hotkey=i}}},t.makeLegacySessionService=function(e,t){return{dependencies:["user"],start(n){function i(){return Object.assign({},n.services.user.context)}Object.defineProperty(e.session,"userContext",{get:()=>i()}),Object.defineProperty(t,"user_context",{get:()=>i()})}}},t.mapLegacyEnvToWowlEnv=function(e,t){function r(e){return new(i.extend({storage:e}))}e[d]=t.services,e.session.rpc=(...n)=>{let i;const r=new Promise(((r,l)=>{const[c,u,d={}]=n;if(u&&u.kwargs&&(u.kwargs.context=Object.assign({},e.session.user_context,u.kwargs.context),d.noContextKeys)){const e=d.noContextKeys;if("string"==typeof e)delete u.kwargs.context[e];else for(const t of e)delete u.kwargs.context[t]}const h=t.services.rpc(c,u,{silent:d.shadow,xhr:d.xhr});i=()=>{h.abort()},h.then(r).catch((e=>{l(e instanceof s||e instanceof a?{message:e,event:$.Event(),legacy:!0}:e instanceof o?{message:e.message,event:$.Event("abort")}:e)}))}));return r.abort=i,r},e.services.local_storage=r(n.localStorage),e.services.session_storage=r(n.sessionStorage),e.services.dialog=t.services.dialog,t.bus.addEventListener("WEB_CLIENT_READY",(()=>{e.bus.trigger("web_client_ready")})),t.bus.addEventListener("SCROLLER:ANCHOR_LINK_CLICKED",(t=>{e.bus.trigger("SCROLLER:ANCHOR_LINK_CLICKED",t.detail)})),e.bus.on("clear_cache",null,(()=>{t.bus.trigger("CLEAR-CACHES")}))};const h=/^bs-.*$/;return t.cleanDomFromBootstrap=function(){const e=document.body.querySelectorAll("body .tooltip");for(const t of e)Array.from(t.classList).find((e=>h.test(e)))&&t.parentNode.removeChild(t)},t.makeLegacyNotificationService=function(e){return{dependencies:["notification"],start(t,{notification:i}){let o=0;const s={};e.services.notification={notify:function({title:e,message:t,subtitle:n,buttons:r=[],sticky:a,type:l,className:c,onClose:u}){n&&(e=[e,n].filter(Boolean).join(" ")),!t&&e&&(t=e,e=void 0),r=r.map((e=>({name:e.text,icon:e.icon,primary:e.primary,onClick:e.click})));const d=i.add(t,{sticky:a,title:e,type:l,className:c,onClose:u,buttons:r}),h=++o;return s[h]=d,h},close:function(e,t,i){const o=s[e];delete s[e],i?n.setTimeout((()=>{o(e)}),i):o(e)}}}}},t.makeLegacyCrashManagerService=function(e){return{dependencies:["dialog"],start(t){e.services.crash_manager={show_message(e){t.services.dialog.add(l,{traceback:e})},rpc_error(e){Promise.reject(r(e))}}}}},t.wrapSuccessOrFail=function(e,{on_success:t,on_fail:n}={}){return e.then(t||(()=>{})).catch((e=>{let t=!1;n&&(t="alreadyThrown"===n(e));if((e instanceof Error&&"cause"in e?e.cause:e)instanceof Error&&!t)throw e}))},t.makeLegacyRainbowManService=function(e){return{dependencies:["effect"],start(t,{effect:n}){e.bus.on("show-effect",null,(e=>{n.add(e)}))}}},t.useLegacyRefs=function(){const e=owl.useEnv();let t;t=e.legacyRefs?e.legacyRefs:{component:null,widget:null};return owl.useChildSubEnv({legacyRefs:t}),t},t.useWowlService=function(e){const t=u(),n=t.env;t.env={services:n[d]};const i=c(e);return t.env=n,i},t})),odoo.define("web.OwlCompatibility",(function(e){"use strict";const{LegacyComponent:t}=e("@web/legacy/legacy_component"),{templates:n}=e("@web/core/assets"),{App:i,Component:o,onMounted:s,onWillStart:r,onWillUnmount:a,onPatched:l,onWillUpdateProps:c,onWillDestroy:u,useSubEnv:d,xml:h,status:p}=owl,f=odoo.widgetSymbol,m=new WeakMap,g=h`<t/>`,v=h`<t t-component="props.Component" t-props="childProps" />`;class b extends t{constructor(e){if(!e.Component)throw Error("ComponentAdapter: 'Component' prop is missing.");let t;t=e.Component.prototype instanceof o?v:g,b.template=t,super(...arguments),this.template=t,this.widget=null}setup(){c((e=>{if(this.widget)return this.updateWidget(e)}));let e=!1;const t=()=>{if(this.removeEl(),!this.widget||!this.widget.el)return;const t=this.__owl__.firstNode();t.parentNode.insertBefore(this.widget.el,t),this.widgetEl=this.widget.el,e=!0};s((()=>{t(),this.widget&&this.widget.on_attach_callback&&this.widget.on_attach_callback()})),l((()=>{e?this.renderWidget():t()})),u((()=>this.__destroy(this.__owl__.parent.component))),r(this.onWillStart),a(this.onWillUnmount)}onWillStart(){if(!(this.props.Component.prototype instanceof o))return this.widget=new this.props.Component(this,...this.widgetArgs),this.widget._widgetRenderAndInsert((()=>{}))}onWillUnmount(){this.widget&&this.widget.on_detach_callback&&this.widget.on_detach_callback(),this.removeEl()}removeEl(){this.widgetEl&&(this.widgetEl.remove(),this.widgetEl=null)}__destroy(){this.removeEl(),this.widget&&this.widget.destroy()}get childProps(){return this._childProps||(this._childProps=Object.assign({},this.props),delete this._childProps.Component),this._childProps}get widgetArgs(){if(this.props.widgetArgs)return this.props.widgetArgs;const e=Object.keys(this.props);if(e.splice(e.indexOf("Component"),1),e.length>1)throw new Error("ComponentAdapter has more than 1 argument, 'widgetArgs' must be overriden.");return e.map((e=>this.props[e]))}updateWidget(){this.env.isDebug("assets")&&console.warn("ComponentAdapter: Widget could not be updated, maybe override 'updateWidget' function?")}renderWidget(){this.env.isDebug("assets")&&console.warn("ComponentAdapter: Widget could not be re-rendered, maybe override 'renderWidget' function?")}_trigger_up(e){const t=e.name,n=e.data;if("call_service"===t){let t=n.args||[];"ajax"===n.service&&"rpc"===n.method&&(t=t.concat(e.target));const i=this.env.services[n.service];if(!i)throw new Error(`The service "${n.service}" is not present in the legacy owl environment.\n                         You should probably create a mapper in @web/legacy/utils`);{const e=i[n.method].apply(i,t);n.callback(e)}}else if("get_session"===t)n.callback&&n.callback(this.env.session);else if("load_views"===t){const e={model:n.modelName,context:n.context,views_descr:n.views};this.env.dataManager.load_views(e,n.options||{}).then(n.on_success)}else{if("load_filters"===t)return this.env.dataManager.load_filters(n).then(n.on_success);n.__targetWidget=e.target,this.trigger(t.replace(/_/g,"-"),n)}}get el(){return this.widget?this.widget.el:super.el}}const y={get el(){return document.body}};const _={on_attach_callback(){for(const e of m.get(this)||[])e.on_attach_callback()},on_detach_callback(){for(const e of m.get(this)||[])e.on_detach_callback()},destroy(){for(const e of m.get(this)||[])e.destroy();m.delete(this)}};function w(e,t=!1,n){t||n(e);for(const i of Object.values(e.children))w(i,t,n);t&&n(e)}const k=new WeakMap;class x extends t{setup(){for(const[e,t]of Object.entries(this.props.hooks))owl[e](t);a((()=>{this._handledEvents=new Set})),this.parentWidget=this.props.parentWidget,this._handledEvents=new Set,d({[f]:this._addListener.bind(this)})}_addListener(e){this.parentWidget&&!this._handledEvents.has(e)&&"mounted"===p(this)&&(this._handledEvents.add(e),this.el.addEventListener(e,(e=>{if(!e.cancelBubble){e.stopPropagation();const t=Object.assign({},e.detail,{__originalComponent:e.originalComponent});this.parentWidget.trigger_up(e.type.replace(/-/g,"_"),t)}})))}}x.template=h`<t t-component="props.Component" t-props="props.props"/>`;return{ComponentAdapter:b,ComponentWrapper:class{constructor(e,t,o){if(e instanceof t)throw new Error("ComponentWrapper must be used with a legacy Widget as parent");this.setParent(e);const s=o.env;delete o.env,this.props=o,this.Component=t;const r=s||owl.Component.env,a={env:r,templates:n,dev:"isDebug"in r?r.isDebug():r.debug,translatableAttributes:["data-tooltip"],translateFn:r._t},l=new i(null,a);this.app=l,this.node=this._makeOwlNode(),this.env=this.node.component.env,l.root=this.node,this.__owl__=Object.create(this.node),this.componentRef={comp:null},this.status="new",this.setup()}_makeOwlNode(){const e=()=>{this.renderResolve&&this.renderResolve()},t={props:this.props,hooks:{onMounted:e,onPatched:e,onRendered:()=>{this.componentRef.comp=Object.values(this.node.children)[0].component}},Component:this.Component,parentWidget:this.parentWidget};return this.app.makeNode(x,t)}setup(){}get el(){return this.node.component.el}async mount(e,t){if("mounted"===this.status||"willMount"===this.status)return this.render();if("destroyed"===this.status)return;e&&(this.target=e),t&&(this.mountOptions=t);const n="unmounted"===this.status;var i;n&&((i=this.node).updateAndRender,w(i,!1,(e=>{i!==e&&(k.has(e)?k.get(e)():k.set(e,function(e,t){let n=!0;return e.isPatched||(e.isPatched=!0,e.mounted.push((()=>{n=!1})),e.willUpdateProps.push((()=>{const t=e.fiber.root.mounted;n&&!t.includes(e.fiber)&&t.push(e.fiber)}))),()=>n=!0}(e)))}))),this.status="willMount";const o=this.app.mountNode(this.node,this.target,this.mountOptions);n&&(this.node.fiber.deep=!0),function(e){const t=e.fiber,n=t.complete;t.complete=function(){this.target.ownerDocument.contains(this.target)||(this.mounted=[this]),n.call(this)}}(this.node),await o,this.target.ownerDocument.contains(this.target)&&(this.status="mounted"),this.node.willStart=[];const s=this.node.mounted;return this.node.mounted=s.slice(0,s.length-1),this}unmount(){this.on_detach_callback(),this.el.remove(),this.node.bdom=null}render(){if("mounted"===this.status)return this.renderProm?(this.node.render(!0),this.renderProm):(this.renderProm=new Promise(((e,t)=>{this.renderResolve=e,this.renderReject=t})).then((()=>{this.renderProm=null,this.renderResolve=null,this.renderReject=null})),this.node.render(!0),this.renderProm)}trigger(){return this.node.component.trigger(...arguments)}destroy(){["willMount","unmounted"].includes(this.status)&&w(this.node,!1,(e=>{e.willUnmount=[]})),this.app.destroy(),this.status="destroyed"}get $el(){return $(this.el)}on_attach_callback(){this.el&&this.el.ownerDocument.contains(this.el)&&"mounted"!==this.status&&(w(this.node,!0,(e=>{for(const t of e.mounted)t()})),this.node.status=1,this.status="mounted")}on_detach_callback(){"unmounted"!==this.status&&(w(this.node,!1,(e=>{if(1===e.status){const t=e.component;for(const n of e.willUnmount)n.call(t)}})),this.node.status=0,this.status="unmounted")}async update(e){if("destroyed"===this.status)return;const t=this.node.component.props.props,n=Object.assign({},t,e);return this.node.component.props.props=n,this.props=n,"unmounted"===this.status?this.mount(this.target):this.render()}setParent(e){if(e instanceof o)throw new Error("ComponentWrapper must be used with a legacy Widget as parent");if(e&&function(e,t){let n=m.get(e);n||(n=[],m.set(e,n)),n.push(t)}(e,this),this.parentWidget){const e=m.get(this.parentWidget);e.splice(e.indexOf(this),1)}this.parentWidget=e,this.node&&(this.node.component.parentWidget=e)}},WidgetAdapterMixin:_,standaloneAdapter:function(e={},t=y){const o=owl.Component.env,s=new i(null,{templates:n,env:o,dev:o.isDebug(),translatableAttributes:["data-tooltip"],translateFn:o._t});"Component"in e||(e.Component=owl.Component);const r=s.makeNode(b,e).component;return Object.defineProperty(r,"el",{get:()=>t.el}),r}}})),odoo.define("web.download",(function(){return function e(t,n,i){var o,s,r=window,a="application/octet-stream",l=i||a,c=t,u=!n&&!i&&c,d=document.createElement("a"),h=function(e){return String(e)},p=r.Blob||r.MozBlob||r.WebKitBlob||h,f=n||"download";if(p=p.call?p.bind(r):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,f,a)},setTimeout((function(){m.send()}),0),m}if(/^data:[\w+\-]+\/[\w+\-]+[,;]/.test(c)){if(!(c.length>2096103.424&&p!==h))return navigator.msSaveBlob?navigator.msSaveBlob(g(c),f):v(c);l=(c=g(c)).type||a}function g(e){for(var t=e.split(/[:;,]/),n=t[1],i=("base64"===t[2]?atob:decodeURIComponent)(t.pop()),o=i.length,s=0,r=new Uint8Array(o);s<o;++s)r[s]=i.charCodeAt(s);return new p([r],{type:n})}function v(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){r.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-+]+)/,a),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-+]+)/,a)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=c instanceof p?c:new p([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(r.URL)v(r.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===h)try{return v("data:"+l+";base64,"+r.btoa(o))}catch(e){return v("data:"+l+","+encodeURIComponent(o))}(s=new FileReader).onload=function(){v(this.result)},s.readAsDataURL(o)}return!0}})),odoo.define("web.contentdisposition",(function(){"use strict";var e=/%([0-9A-Fa-f]{2})/g,t=/[^\x20-\x7e\xa0-\xff]/g,n=/\\([\u0000-\u007f])/g,i=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,o=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,s=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function r(n){var i=o.exec(n);if(!i)throw new TypeError("invalid extended field value");var s=i[1].toLowerCase(),r=i[2];switch(s){case"iso-8859-1":return r.replace(e,a).replace(t,"?");case"utf-8":return decodeURIComponent(r);default:throw new TypeError("unsupported charset in extended field")}}function a(e,t){return String.fromCharCode(parseInt(t,16))}function l(e,t){this.type=e,this.parameters=t}return{parse:function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=s.exec(e);if(!t)throw new TypeError("invalid type format");var o,a,c=t[0].length,u=t[1].toLowerCase(),d=[],h={};for(c=i.lastIndex=";"===t[0].substr(-1)?c-1:c;t=i.exec(e);){if(t.index!==c)throw new TypeError("invalid parameter format");if(c+=t[0].length,o=t[1].toLowerCase(),a=t[2],-1!==d.indexOf(o))throw new TypeError("invalid duplicate parameter");d.push(o),o.indexOf("*")+1!==o.length?"string"!=typeof h[o]&&('"'===a[0]&&(a=a.substr(1,a.length-2).replace(n,"$1")),h[o]=a):(o=o.slice(0,-1),a=r(a),h[o]=a)}if(-1!==c&&c!==e.length)throw new TypeError("invalid parameter format");return new l(u,h)}}})),odoo.define("@web/legacy/js/libs/pdfjs",(async function(e){"use strict";let t={};const n=e("web.config");return t.hidePDFJSButtons=function(e){const t=document.createElement("style");t.rel="stylesheet",t.innerHTML="button#secondaryOpenFile.secondaryToolbarButton, button#openFile.toolbarButton,\na#secondaryViewBookmark.secondaryToolbarButton, a#viewBookmark.toolbarButton {\ndisplay: none !important;\n}",n.device.isMobileDevice&&(t.innerHTML=`${t.innerHTML}\nbutton#secondaryDownload.secondaryToolbarButton, button#download.toolbarButton,\nbutton#secondaryPrint.secondaryToolbarButton, button#print.toolbarButton{\ndisplay: none !important;\n}`);const i="IFRAME"===e.tagName?e:e.querySelector("iframe");i?i.dataset.hideButtons||(i.dataset.hideButtons="true",i.addEventListener("load",(e=>{i.contentDocument&&i.contentDocument.head&&i.contentDocument.head.appendChild(t)}))):console.warn("No IFRAME found")},t})),odoo.define("web.config",(function(e){"use strict";const t=e("web.Bus"),{hasTouch:n,isAndroid:i,isIOS:o,isMobileOS:s}=e("@web/core/browser/feature_detection"),{getMediaQueryLists:r}=e("@web/core/ui/ui_service");var a={device:{bus:new t,touch:n(),size_class:null,isAndroid:i(),isIOS:o(),isMobile:null,isMobileDevice:s(),SIZES:{XS:0,VSM:1,SM:2,MD:3,LG:4,XL:5,XXL:6}},isDebug:function(e){return e?odoo.debug&&-1!==odoo.debug.indexOf(e):odoo.debug}};const l=r();function c(){var e=function(){for(var e=0;e<l.length;e++)if(l[e].matches)return e}();e!==a.device.size_class&&(a.device.size_class=e,a.device.isMobile=a.device.size_class<=a.device.SIZES.SM,a.device.bus.trigger("size_changed",a.device.size_class))}return _.invoke(l,"addListener",c),c(),a})),odoo.define("web.AbstractService",(function(e){"use strict";var t=e("web.Class");const{serviceRegistry:n}=e("web.core");var i=e("web.mixins"),o=e("web.ServicesMixin"),s=t.extend(i.EventDispatcherMixin,o,{dependencies:[],init:function(e){i.EventDispatcherMixin.init.call(this,arguments),this.env=e},start:function(){},_trigger_up:function(e){if(i.EventDispatcherMixin._trigger_up.apply(this,arguments),e.is_stopped())return;const t=e.data;if("call_service"===e.name){let n=t.args||[];"ajax"===t.service&&"rpc"===t.method&&(n=n.concat(e.target));const i=this.env.services[t.service],o=i[t.method].apply(i,n);t.callback(o)}else"do_action"===e.name&&this.env.bus.trigger("do-action",t)},deployServices(e){const t=Object.assign({},n.map);function i(){let n=!1;for(;!n;){const i=Object.keys(t).find((n=>t[n].prototype.dependencies.every((t=>e.services[t]))));if(i){const n=new(0,t[i])(e);e.services[i]=n,delete t[i],n.start()}else n=!0}}n.onAdd(((n,o)=>{if(n in e.services||n in t)throw new Error(`Service ${n} is already loaded.`);t[n]=o,i()})),i()}});return s})),odoo.define("web.Class",(function(){"use strict";function e(){}var t=!1,n=/xyz/.test((function(){xyz()}))?/\b_super\b/:/.*/;return e.extend=function(){var i=this.prototype,o=_.toArray(arguments);o.unshift({});var s=_.extend.apply(_,o);t=!0;var r=new this;function a(){if(this.constructor!==e)throw new Error("You can only instanciate objects with the 'new' operator");if(this._super=null,!t&&this.init){var n=this.init.apply(this,arguments);if(n)return n}return this}return t=!1,_.each(s,(function(e,t){r[t]="function"==typeof s[t]&&n.test(s[t])?function(e,t){return function(){var n=this._super;this._super=i[e];var o=t.apply(this,arguments);return this._super=n,o}}(t,s[t]):s[t]})),a.include=function(e){_.each(e,(function(t,o){var s,a;"function"==typeof e[o]&&n.test(e[o])?"function"==typeof r[o]&&r.hasOwnProperty(o)?r[o]=(s=e[o],a=r[o],function(){var e=this._super;this._super=a;var t=s.apply(this,arguments);return this._super=e,t}):"function"==typeof i[o]&&(r[o]=function(e,t){return function(){var n=this._super;this._super=i[e];var o=t.apply(this,arguments);return this._super=n,o}}(o,e[o])):r[o]=e[o]}))},a.prototype=r,a.constructor=a,a.extend=this.extend,a},e})),odoo.define("web.collections",(function(e){"use strict";return{Tree:e("web.Class").extend({init:function(e){this._data=e,this._children=[]},getData:function(){return this._data},addChild:function(e){this._children.push(e)}})}})),odoo.define("web.translation",(function(e){"use strict";var t=e("web.Class");const{_lt:n}=e("@web/core/l10n/translation");var i=t.extend({init:function(){this.db={},this.multi_lang=!1,this.parameters={direction:"ltr",date_format:"%m/%d/%Y",time_format:"%H:%M:%S",grouping:[],decimal_point:".",thousands_sep:",",code:"en_US"}},set_bundle:function(e){var t=this;this.multi_lang=e.multi_lang;var n=_.keys(e.modules);n.sort(),_.include(n,"web")&&(n=["web"].concat(_.without(n,"web"))),_.each(n,(function(n){t.add_module_translation(e.modules[n])})),e.lang_parameters&&(this.parameters=e.lang_parameters,this.parameters.grouping=JSON.parse(this.parameters.grouping))},add_module_translation:function(e){var t=this;_.each(e.messages,(function(e){t.db[e.id]=e.string}))},build_translation_function:function(){var e=this,t=function(t){var n=e.get(t);return void 0===n?t:n};return t.database=this,t},get:function(e){return this.db[e]},load_translations:function(e,t,n,i){var o=this,s=e.cache_hashes&&e.cache_hashes.translations;i=i||"/web/webclient/translations",i+="/"+(s||Date.now());const r={};return t&&(r.mods=t.join(",")),n?r.lang=n:e.is_frontend&&e.lang_url_code&&(r.unique=e.lang_url_code),$.get(i,r).then((function(e){o.set_bundle(e)}))}}),o=(new i).build_translation_function();return o("less than a minute ago"),o("about a minute ago"),o("%d minutes ago"),o("about an hour ago"),o("%d hours ago"),o("a day ago"),o("%d days ago"),o("about a month ago"),o("%d months ago"),o("about a year ago"),o("%d years ago"),{_t:o,_lt:n,TranslationDataBase:i}})),odoo.define("web.ajax",(function(e){"use strict";var t=e("web.config"),n=e("web.core");const{Markup:i}=e("web.utils");var o=e("web.time"),s=e("web.download"),r=e("web.contentdisposition");const{session:a}=e("@web/session");var l=n._t,c={};function u(e,t,i,s){return function(e,t,i,o){var s=i.shadow||!1;delete i.shadow;var r={jsonrpc:"2.0",method:e,params:t,id:Math.floor(1e3*Math.random()*1e3*1e3)};s||n.bus.trigger("rpc_request",r.id);var a,l=o(r),c=l.then((function(e){return n.bus.trigger("rpc:result",r,e),void 0!==e.error?(console.debug("Server application error\n","Error code:",e.error.code,"\n","Error message:",e.error.message,"\n","Error data message:\n",e.error.data.message,"\n","Error data debug:\n",e.error.data.debug),Promise.reject({type:"server",error:e.error})):e.result}),(function(){var e={type:"communication",error:arguments[0],textStatus:arguments[1],errorThrown:arguments[2]};return Promise.reject(e)})),u=new Promise((function(e,t){a=t,c.then((function(t){s||n.bus.trigger("rpc_response",r.id),e(t)}),(function(e){var i=e.type,o=e.error,a=e.textStatus,l=e.errorThrown;if("server"===i)s||n.bus.trigger("rpc_response",r.id),100===o.code&&n.bus.trigger("invalidate_session"),t({message:o,event:$.Event()});else{s||n.bus.trigger("rpc_response_failed",r.id);var c={code:-32098,message:"XmlHttpRequestError "+l,data:{type:"xhr"+a,debug:o.responseText,objects:[o,l],arguments:[e||a]}};t({message:c,event:$.Event()})}}))}));return u.abort=function(){a({message:"XmlHttpRequestError abort",event:$.Event("abort")}),s||n.bus.trigger("rpc_response"),l.abort&&l.abort()},u.guardedCatch((function(e){setTimeout((function(){e.event.isDefaultPrevented()||n.bus.trigger("rpc_error",e.message,e.event)}),0)})),u}(t,i,s=s||{},(function(t){return $.ajax(e,_.extend({},s,{url:e,dataType:"json",type:"POST",data:JSON.stringify(t,o.date_to_utc),contentType:"application/json"}))}))}function d(e,t,n){return u(e,"call",t,n)}var h,p=(h={},function(e,n,o="/web/dataset/call_kw/"){if(h[e])return h[e];n=_.extend({},a.user_context,n);const s={args:[e,{debug:t.isDebug()}],kwargs:{context:n}};return"/web/dataset/call_kw/"===o&&Object.assign(s,{model:"ir.ui.view",method:"render_public_asset"}),h[e]=d(o,s).then((function(e){var t=$(e);return{cssLibs:t.filter('link[href]:not([type="image/x-icon"])').map((function(){return $(this).attr("href")})).get(),cssContents:t.filter("style").map((function(){return i($(this).html())})).get(),jsLibs:t.filter("script[src]").map((function(){return $(this).attr("src")})).get(),jsContents:t.filter("script:not([src])").map((function(){return i($(this).html())})).get()}})).guardedCatch((e=>{throw e.event.preventDefault(),`Unable to render the required templates for the assets to load: ${e.message.message}`})),h[e]});return _.extend(c,{jsonRpc:u,rpc:d,loadAsset:p,get_file:function(e){var t,i=new XMLHttpRequest;return e.form?(i.open(e.form.method,e.form.action),t=new FormData(e.form)):(i.open("POST",e.url),t=new FormData,_.each(e.data||{},(function(e,n){t.append(n,e)}))),n.csrf_token&&t.append("csrf_token",n.csrf_token),i.responseType="blob",i.onload=function(){var t=i.response.type;if(200===i.status&&"text/html"!==t){var n=(i.getResponseHeader("Content-Disposition")||"").replace(/;$/,""),o=n?r.parse(n).parameters.filename:null;return s(i.response,o,t),e.success&&e.success(),!0}if(!e.error)return!0;var a=new FileReader;a.onload=function(){var t,n=a.result,o=(new DOMParser).parseFromString(n,"text/html"),s=0===o.body.children.length?o.body.childNodes:o.body.children;try{var r=s[1]||s[0];t=JSON.parse(r.textContent)}catch(e){t={message:s.length>1?s[1].textContent:"",data:{name:String(i.status),title:s.length>0?s[0].textContent:""}}}e.error(t)},a.readAsText(i.response)},i.onerror=function(){e.error&&e.error({message:l("Something happened while trying to contact the server, check that the server is online and that you still have a working network connection."),data:{title:l("Could not connect to the server")}})},e.complete&&(i.onloadend=function(){e.complete()}),i.send(t),!0},post:function(e,t){var i=new FormData;return $.each(t,(function(e,t){i.append(e,t)})),n.csrf_token&&i.append("csrf_token",n.csrf_token),new Promise((function(t,n){$.ajax(e,{data:i,processData:!1,contentType:!1,type:"POST"}).then(t).fail(n)}))}}),c})),odoo.define("@im_livechat/js/ajax_external",(async function(e){"use strict";const{assets:t}=e("@web/core/assets");return t.loadJS=function(e){console.log("Tried to load the following script on an external website: "+e)},{}})),odoo.define("web.time",(function(e){"use strict";var t=e("web.translation"),n=e("web.utils"),i=n.lpad,o=n.rpad,s=t._t;function r(e){if(!e)return e;var t=/^(\d\d\d\d)-(\d\d)-(\d\d) (\d\d):(\d\d):(\d\d(?:\.(\d+))?)$/.exec(e);if(!t)throw new Error("'"+e+"' is not a valid datetime");var i=new Date(2e3,0,1);return i.setUTCMonth(1970),i.setUTCMonth(0),i.setUTCDate(1),i.setUTCFullYear(parseFloat(t[1])),i.setUTCMonth(parseFloat(t[2])-1),i.setUTCDate(parseFloat(t[3])),i.setUTCHours(parseFloat(t[4])),i.setUTCMinutes(parseFloat(t[5])),i.setUTCSeconds(parseFloat(t[6])),i.setUTCSeconds(parseFloat(t[6])),i.setUTCMilliseconds(parseFloat(n.rpad((t[7]||"").slice(0,3),3))),i}function a(e){if(!e)return e;var t=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(e);if(!t)throw new Error("'"+e+"' is not a valid date");var n=new Date(2e3,0,1);return n.setFullYear(parseFloat(t[1])),n.setMonth(parseFloat(t[2])-1),n.setDate(parseFloat(t[3])),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n}function l(e){if(!e)return e;var t=/^(\d\d):(\d\d):(\d\d(?:\.(\d+))?)$/.exec(e);if(!t)throw new Error("'"+e+"' is not a valid time");var n=new Date;return n.setFullYear(1970),n.setMonth(0),n.setDate(1),n.setHours(parseFloat(t[1])),n.setMinutes(parseFloat(t[2])),n.setSeconds(parseFloat(t[3])),n.setMilliseconds(parseFloat(o((t[4]||"").slice(0,3),3))),n}function c(e){return!!e&&i(e.getUTCFullYear(),4)+"-"+i(e.getUTCMonth()+1,2)+"-"+i(e.getUTCDate(),2)+" "+i(e.getUTCHours(),2)+":"+i(e.getUTCMinutes(),2)+":"+i(e.getUTCSeconds(),2)}function u(e){return!!e&&i(e.getFullYear(),4)+"-"+i(e.getMonth()+1,2)+"-"+i(e.getDate(),2)}function d(e){return!!e&&i(e.getHours(),2)+":"+i(e.getMinutes(),2)+":"+i(e.getSeconds(),2)}function h(e){if(void 0===p[e]){for(var t=/[a-zA-Z]/,n=[],i=!1,o=0;o<e.length;++o){var s=e[o];"%"!==s||i?(t.test(s)&&(s=i&&void 0!==f[s]?f[s]:"["+s+"]"),n.push(s),i=!1):i=!0}p[e]=n.join("")}return p[e]}var p={},f={a:"ddd",A:"dddd",b:"MMM",B:"MMMM",d:"DD",H:"HH",I:"hh",j:"DDDD",m:"MM",M:"mm",p:"A",S:"ss",U:"ww",W:"WW",w:"d",y:"YY",Y:"YYYY",c:"ddd MMM D HH:mm:ss YYYY",x:"MM/DD/YY",X:"HH:mm:ss"},m=_.invert(f);function g(){return h(s.database.parameters.date_format)}function v(){return h(s.database.parameters.time_format)}const b={};const y={};return{date_to_utc:function(e,t){var n=this[e];return n instanceof Date?c(n):t},str_to_datetime:r,str_to_date:a,str_to_time:l,datetime_to_str:c,date_to_str:u,time_to_str:d,auto_str_to_date:function(e){try{return r(e)}catch(e){}try{return a(e)}catch(e){}try{return l(e)}catch(e){}throw new Error(_.str.sprintf(s("'%s' is not a correct date, datetime nor time"),e))},auto_date_to_str:function(e,t){switch(t){case"datetime":return c(e);case"date":return u(e);case"time":return d(e);default:throw new Error(_.str.sprintf(s("'%s' is not convertible to date, datetime nor time"),t))}},strftime_to_moment_format:h,moment_to_strftime_format:function(e){return e.replace(/(MMMM|DDDD|dddd|YYYY|MMM|ddd|mm|ss|ww|WW|MM|YY|hh|HH|DD|A|d)/g,(function(e){return"%"+m[e]}))},getLangDateFormat:g,getLangTimeFormat:v,getLangDateFormatWoZero:function(){const e=g();return e in b||(b[e]=e.replace("MM","M").replace("DD","D")),b[e]},getLangTimeFormatWoZero:function(){const e=v();return e in y||(y[e]=e.replace("HH","H").replace("mm","m").replace("ss","s")),y[e]},getLangDatetimeFormat:function(){return h(s.database.parameters.date_format+" "+s.database.parameters.time_format)}}})),odoo.define("web.mixins",(function(e){"use strict";var t=e("web.Class"),n=e("web.utils"),i={__parentedMixin:!0,init:function(){this.__parentedDestroyed=!1,this.__parentedChildren=[],this.__parentedParent=null},setParent:function(e){this.getParent()&&this.getParent().__parentedMixin&&(this.getParent().__parentedChildren=_.without(this.getParent().getChildren(),this)),this.__parentedParent=e,e&&e.__parentedMixin&&e.__parentedChildren.push(this)},getParent:function(){return this.__parentedParent},getChildren:function(){return _.clone(this.__parentedChildren)},isDestroyed:function(){return this.__parentedDestroyed},alive:function(e,t){var n=this;return new Promise((function(i,o){e.then((function(e){n.isDestroyed()?t&&o():i(e)})).guardedCatch((function(e){n.isDestroyed()?t&&o():o(e)}))}))},destroy:function(){this.getChildren().forEach((function(e){e.destroy()})),this.setParent(void 0),this.__parentedDestroyed=!0},findAncestor:function(e){for(var t=this;t&&!e(t)&&t.getParent;)t=t.getParent();return t}};function o(e,t,n){this.target=e,this.name=t,this.data=Object.create(null),_.extend(this.data,n),this.stopped=!1}o.prototype.stopPropagation=function(){this.stopped=!0},o.prototype.is_stopped=function(){return this.stopped};var s=t.extend({on:function(e,t,n){var i;e=e.split(/\s+/);for(var o=this._callbacks||(this._callbacks={});i=e.shift();){var s=o[i]||(o[i]={}),r=s.tail||(s.tail=s.next={});r.callback=t,r.context=n,s.tail=r.next={}}return this},off:function(e,t,n){var i,o,s;if(e){if(o=this._callbacks)for(e=e.split(/\s+/);i=e.shift();)if(s=o[i],delete o[i],t&&s)for(;(s=s.next)&&s.next;)(s.callback!==t||n&&s.context!==n)&&this.on(i,s.callback,s.context)}else delete this._callbacks;return this},callbackList:function(){var e=[];return _.each(this._callbacks||{},(function(t,n){for(var i=t;(i=i.next)&&i.next;)e.push([n,i.callback,i.context])})),e},trigger:function(e){var t,n,i,o,s,r,a;if(!(i=this._callbacks))return this;for(r=i.all,(e=e.split(/\s+/)).push(null);t=e.shift();)r&&e.push({next:r.next,tail:r.tail,event:t}),(n=i[t])&&e.push({next:n.next,tail:n.tail});for(a=Array.prototype.slice.call(arguments,1);n=e.pop();)for(o=n.tail,s=n.event?[n.event].concat(a):a;(n=n.next)!==o;)n.callback.apply(n.context||this,s);return this}}),r=_.extend({},i,{__eventDispatcherMixin:!0,custom_events:{},init:function(){i.init.call(this),this.__edispatcherEvents=new s,this.__edispatcherRegisteredEvents=[],this._delegateCustomEvents()},proxy:function(e){var t=this;return function(){var n="string"==typeof e?t[e]:e;if(void 0===n)throw new Error("Couldn't find method '"+e+"' in widget "+t);return n.apply(t,arguments)}},_delegateCustomEvents:function(){if(!_.isEmpty(this.custom_events))for(var e in this.custom_events)if(this.custom_events.hasOwnProperty(e)){var t=this.proxy(this.custom_events[e]);this.on(e,this,t)}},on:function(e,t,n){var i=this;if("function"!=typeof n)throw new Error("Event handler must be a function.");return e=e.split(/\s+/),_.each(e,(function(e){i.__edispatcherEvents.on(e,n,t),t&&t.__eventDispatcherMixin&&t.__edispatcherRegisteredEvents.push({name:e,func:n,source:i})})),this},off:function(e,t,n){var i=this;return e=e.split(/\s+/),_.each(e,(function(e){i.__edispatcherEvents.off(e,n,t),t&&t.__eventDispatcherMixin&&(t.__edispatcherRegisteredEvents=_.filter(t.__edispatcherRegisteredEvents,(function(t){return!(t.name===e&&t.func===n&&t.source===i)})))})),this},once:function(e,t,n){var i=this;if("function"!=typeof n)throw new Error("Event handler must be a function.");i.on(e,t,(function o(){n.apply(this,arguments),i.off(e,t,o)}))},trigger:function(){return this.__edispatcherEvents.trigger.apply(this.__edispatcherEvents,arguments),this},trigger_up:function(e,t){var n=new o(this,e,t);return this._trigger_up(n),n},_trigger_up:function(e){var t;this.__edispatcherEvents.trigger(e.name,e),!e.is_stopped()&&(t=this.getParent())&&t._trigger_up(e)},destroy:function(){var e=this;_.each(this.__edispatcherRegisteredEvents,(function(t){t.source.__edispatcherEvents.off(t.name,t.func,e)})),this.__edispatcherRegisteredEvents=[],_.each(this.__edispatcherEvents.callbackList(),(function(e){this.off(e[0],e[2],e[1])}),this),this.__edispatcherEvents.off(),i.destroy.call(this)}}),a=_.extend({},r,{init:function(){r.init.call(this),this.__getterSetterInternalMap={}},set:function(e,t,i){var o,s;"string"==typeof e?((o={})[e]=t,s=i||{}):(o=e,s=t||{});var r=this,a=!1;_.each(o,(function(e,t){var i=r.__getterSetterInternalMap[t];if(i!==e){if("value"===t&&r.field&&"float"===r.field.type&&i&&e){var o=r.field.digits;if(_.isArray(o)&&n.float_is_zero(i-e,o[1]))return}a=!0,r.__getterSetterInternalMap[t]=e,s.silent||r.trigger("change:"+t,r,{oldValue:i,newValue:e})}})),a&&r.trigger("change",r)},get:function(e){return this.__getterSetterInternalMap[e]}});return{ParentedMixin:i,EventDispatcherMixin:r,PropertiesMixin:a}})),odoo.define("web.ServiceProviderMixin",(function(e){"use strict";var t=e("web.core");return{services:{},UndeployedServices:{},init:function(e){var n=this;this.on("call_service",this,this._call_service.bind(this)),_.each(t.serviceRegistry.map,(function(e,t){if(t in n.UndeployedServices)throw new Error('Service "'+t+'" is already loaded.');n.UndeployedServices[t]=e})),this._deployServices(),t.serviceRegistry.onAdd((function(e,t){if(e in n.services||e in n.UndeployedServices)throw new Error('Service "'+e+'" is already loaded.');n.UndeployedServices[e]=t,n._deployServices()}))},_deployServices:function(){for(var e=this,t=!1;!t;){var n=_.findKey(this.UndeployedServices,(function(t){return!_.some(t.prototype.dependencies,(function(t){return!e.services[t]}))}));if(n){var i=new this.UndeployedServices[n](this);this.services[n]=i,delete this.UndeployedServices[n],i.start()}else t=!0}},_call_service:function(e){var t=e.data.args||[];"ajax"===e.data.service&&"rpc"===e.data.method&&(t=t.concat(e.target));var n=this.services[e.data.service],i=n[e.data.method].apply(n,t);e.data.callback(i)}}})),odoo.define("web.ServicesMixin",(function(e){"use strict";var t=e("web.rpc"),n={call:function(e,t){var n,i=Array.prototype.slice.call(arguments,2);return this.trigger_up("call_service",{service:e,method:t,args:i,callback:function(e){n=e}}),n},_rpc:function(e,n){var i=t.buildQuery(e),o=this.call("ajax","rpc",i.route,i.params,n,this);o||((o=new Promise((function(){}))).abort=function(){});var s=o.abort?o.abort:o.reject;return s&&(o.abort=s.bind(o)),o},loadFieldView:function(e,t,n,i,o){return this.loadViews(e,t,[[n,i]],o).then((function(e){return e[i]}))},loadViews:function(e,t,n,i){var o=this;return new Promise((function(s){o.trigger_up("load_views",{modelName:e,context:t,views:n,options:i,on_success:s})}))},loadFilters:function(e,t,n){var i=this;return new Promise((function(o,s){i.trigger_up("load_filters",{modelName:e,actionId:t,context:n,on_success:o})}))},createFilter:function(e){var t=this;return new Promise((function(n,i){t.trigger_up("create_filter",{filter:e,on_success:n})}))},deleteFilter:function(e){var t=this;return new Promise((function(n,i){t.trigger_up("delete_filter",{filterId:e,on_success:n})}))},getSession:function(){var e;return this.trigger_up("get_session",{callback:function(t){e=t}}),e},do_action:function(e,t){var n=this;return new Promise((function(i,o){n.trigger_up("do_action",{action:e,options:t,on_success:i,on_fail:e=>(o(e),"alreadyThrown")})}))},displayNotification:function(e){return this.call("notification","notify",e)}};return n})),odoo.define("web.rpc",(function(e){"use strict";var t=e("web.ajax");const n={query:function(e,i){var o=n.buildQuery(e);return t.rpc(o.route,o.params,i)},buildQuery:function(e){var t,i,o=e.params||{};if(e.route?t=e.route:e.model&&e.method&&(t="/web/dataset/call_kw/"+e.model+"/"+e.method),e.method&&(o.args=e.args||[],o.model=e.model,o.method=e.method,o.kwargs=_.extend(o.kwargs||{},e.kwargs),o.kwargs.context=e.context||o.context||o.kwargs.context),("read_group"===e.method||"web_read_group"===e.method)&&(o.args&&void 0!==o.args[0]||(o.kwargs.domain=e.domain||o.domain||o.kwargs.domain||[]),o.args&&void 0!==o.args[1]||(o.kwargs.fields=e.fields||o.fields||o.kwargs.fields||[]),o.args&&void 0!==o.args[2]||(o.kwargs.groupby=e.groupBy||o.groupBy||o.kwargs.groupby||[]),o.kwargs.offset=e.offset||o.offset||o.kwargs.offset,o.kwargs.limit=e.limit||o.limit||o.kwargs.limit,i=e.orderBy||o.orderBy||o.kwargs.orderby,o.kwargs.orderby=i?n._serializeSort(i):i,o.kwargs.lazy="lazy"in e?e.lazy:o.lazy,"web_read_group"===e.method)){o.kwargs.expand=e.expand||o.expand||o.kwargs.expand,o.kwargs.expand_limit=e.expand_limit||o.expand_limit||o.kwargs.expand_limit;var s=e.expand_orderby||o.expand_orderby||o.kwargs.expand_orderby;o.kwargs.expand_orderby=s?n._serializeSort(s):s}return"search_read"===e.method&&(o.kwargs.domain=e.domain||o.domain||o.kwargs.domain,o.kwargs.fields=e.fields||o.fields||o.kwargs.fields,o.kwargs.offset=e.offset||o.offset||o.kwargs.offset,o.kwargs.limit=e.limit||o.limit||o.kwargs.limit,i=e.orderBy||o.orderBy||o.kwargs.order,o.kwargs.order=i?n._serializeSort(i):i),"/web/dataset/search_read"===e.route&&(o.model=e.model||o.model,o.domain=e.domain||o.domain,o.fields=e.fields||o.fields,o.limit=e.limit||o.limit,o.offset=e.offset||o.offset,i=e.orderBy||o.orderBy,o.sort=i?n._serializeSort(i):i,o.context=e.context||o.context||{}),{route:t,params:JSON.parse(JSON.stringify(o))}},_serializeSort:function(e){return _.map(e,(function(e){return e.name+(!1!==e.asc?" ASC":" DESC")})).join(", ")}};return n})),odoo.define("web.Widget",(function(e){"use strict";var t=e("web.core"),n=e("web.mixins"),i=e("web.ServicesMixin");const{loadBundle:o}=e("@web/core/assets");return t.Class.extend(n.PropertiesMixin,i,{tagName:"div",id:null,className:null,attributes:{},events:{},template:null,cssLibs:null,jsLibs:null,assetLibs:null,init:function(e){for(var t in n.PropertiesMixin.init.call(this),this.setParent(e),this)"function"==typeof this[t]&&/^on_|^do_/.test(t)&&(this[t]=this[t].bind(this))},willStart:function(){var e=[];return(this.jsLibs||this.cssLibs||this.assetLibs)&&e.push(o(this)),Promise.all(e)},start:function(){return Promise.resolve()},destroy:function(){n.PropertiesMixin.destroy.call(this),this.$el&&this.$el.remove()},appendTo:function(e){var t=this;return this._widgetRenderAndInsert((function(e){t.$el.appendTo(e)}),e)},attachTo:function(e){var t=this;return this.setElement(e.$el||e),this.willStart().then((function(){if(!t.__parentedDestroyed)return t.start()}))},do_hide:function(){this.$el&&this.$el.addClass("o_hidden")},do_show:function(){this.$el&&this.$el.removeClass("o_hidden")},do_toggle:function(e){_.isBoolean(e)?e?this.do_show():this.do_hide():this.$el&&(this.$el.hasClass("o_hidden")?this.do_show():this.do_hide())},insertAfter:function(e){var t=this;return this._widgetRenderAndInsert((function(e){t.$el.insertAfter(e)}),e)},insertBefore:function(e){var t=this;return this._widgetRenderAndInsert((function(e){t.$el.insertBefore(e)}),e)},prependTo:function(e){var t=this;return this._widgetRenderAndInsert((function(e){t.$el.prependTo(e)}),e)},renderElement:function(){var e;e=this.template?$(t.qweb.render(this.template,{widget:this}).trim()):this._makeDescriptive(),this._replaceElement(e)},replace:function(e){return this._widgetRenderAndInsert(_.bind((function(e){this.$el.replaceAll(e)}),this),e)},setElement:function(e){return this.$el&&this._undelegateEvents(),this.$el=e instanceof $?e:$(e),this.el=this.$el[0],this._delegateEvents(),this},$:function(e){return void 0===e?this.$el:this.$el.find(e)},_delegateEvents:function(){var e=this.events;if(!_.isEmpty(e))for(var t in e)if(e.hasOwnProperty(t)){var n=this.proxy(e[t]),i=/^(\S+)(\s+(.*))?$/.exec(t),o=i[1],s=i[3];o+=".widget_events",s?this.$el.on(o,s,n):this.$el.on(o,n)}},_makeDescriptive:function(){var e=_.extend({},this.attributes||{});this.id&&(e.id=this.id),this.className&&(e.class=this.className);var t=$(document.createElement(this.tagName));return _.isEmpty(e)||t.attr(e),t},_replaceElement:function(e){var t=this.$el;return this.setElement(e),t&&!t.is(this.$el)&&(t.length>1?(t.wrapAll("<div/>"),t.parent().replaceWith(this.$el)):t.replaceWith(this.$el)),this},_undelegateEvents:function(){this.$el.off(".widget_events")},_widgetRenderAndInsert:function(e,t){var n=this;return this.willStart().then((function(){if(!n.__parentedDestroyed)return n.renderElement(),e(t),n.start()}))}})})),odoo.define("web.Registry",(function(e){"use strict";const{sortBy:t}=e("web.utils");return class{constructor(e,t=(()=>!0)){this.map=Object.create(e||null),this._scoreMapping=Object.create(null),this._sortedKeys=null,this.listeners=[],this.predicate=t}add(e,t,n){if(!this.predicate(t))throw new Error(`Value of key "${e}" does not pass the addition predicate.`);this._scoreMapping[e]=void 0===n?e:n,this._sortedKeys=null,this.map[e]=t;for(const n of this.listeners)n(e,t);return this}contains(e){return e in this.map}entries(){const e={},t=this.keys();for(const n of t)e[n]=this.map[n];return e}get(e){return this.map[e]}getAny(e){for(const t of e)if(t in this.map)return this.map[t];return null}keys(){if(!this._sortedKeys){const e=[];for(const t in this.map)e.push(t);this._sortedKeys=t(e,(e=>this._scoreMapping[e]||0))}return this._sortedKeys}onAdd(e){this.listeners.push(e)}values(){return this.keys().map((e=>this.map[e]))}}})),odoo.define("@web/session",(async function(e){"use strict";let t={};t.session=odoo.__session_info__||{};return delete odoo.__session_info__,t})),odoo.define("web.Session",(function(e){"use strict";var t=e("web.ajax"),n=e("web.core"),i=e("web.mixins");const{setCookie:o}=e("web.utils.cookies"),{session:s}=e("@web/session"),{loadJS:r}=e("@web/core/assets");var a=n._t,l=n.qweb,c=n.Class.extend(i.EventDispatcherMixin,{init:function(e,t,o){i.EventDispatcherMixin.init.call(this),this.setParent(e),o=o||{},this.server=null,this.avoid_recursion=!1,this.use_cors=o.use_cors||!1,this.setup(t),this.name="instance0",this.currencies={},this._groups_def={},n.bus.on("invalidate_session",this,this._onInvalidateSession)},setup:function(e,t){var n=location.protocol+"//"+location.host;if(e=e?e.replace(/\/+$/,""):n,!_.isUndefined(this.origin)&&this.origin!==e)throw new Error("Session already bound to "+this.origin);this.origin=e,this.prefix=this.origin,this.server=this.origin,"use_cors"in(t=t||{})&&(this.use_cors=t.use_cors)},session_bind:function(e){return this.setup(e),l.default_dict._s=this.origin,this.uid=null,this.username=null,this.user_context={},this.db=null,this.active_id=null,this.session_init()},session_init:function(){var e=this,t=this.session_reload();return this.is_frontend||this.is_report?t.then((function(){return e.load_translations()})):t.then((function(){var t=e.load_qweb();return e.session_is_valid()?t.then((function(){return e.load_modules()})):Promise.all([t,e.rpc("/web/webclient/bootstrap_translations").then((function(e){a.database.set_bundle(e)}))])}))},session_is_valid:function(){var e=$.deparam.querystring().db;return(!e||this.db===e)&&!!this.uid},session_authenticate:function(){var e=this;return Promise.resolve(this._session_authenticate.apply(this,arguments)).then((function(){return e.load_modules()}))},_session_authenticate:function(e,t,n){var i=this,o={db:e,login:t,password:n};return this.rpc("/web/session/authenticate",o).then((function(e){if(!e.uid)return Promise.reject();_.extend(i,e)}))},session_logout:function(){return $.bbq.removeState(),this.rpc("/web/session/destroy",{})},user_has_group:function(e){if(!this.uid&&!this.user_id)return Promise.resolve(!1);var t=this._groups_def[e];return t||(t=this._groups_def[e]=this.rpc("/web/dataset/call_kw/res.users/has_group",{model:"res.users",method:"has_group",args:[e],kwargs:{}})),t},get_cookie:function(e){if(!this.name)return null;for(var t=this.name+"|"+e+"=",n=document.cookie.split(";"),i=0;i<n.length;++i){var o=n[i].replace(/^\s*/,"");if(0===o.indexOf(t))try{return JSON.parse(decodeURIComponent(o.substring(t.length)))}catch(t){this.set_cookie(e,"",-1)}}return null},set_cookie(e,t,n,i="required"){this.name&&(n=n||31536e3,o(this.name+"|"+e,t,n,i))},load_modules:function(){var e=this,t=Promise.resolve(e.load_translations()),n=["/web/webclient/locale/"+e.user_context.lang||"en_US"];return t.then((function(){return e.load_js(n)})).then((function(){e._configureLocale()}))},load_translations:function(e=null){var t=this.user_context.lang,n=document.documentElement.getAttribute("lang");return!this.user_context.lang&&n&&(t=n.replace("-","_")),a.database.load_translations(this,e,t,this.translationURL)},load_js:function(e){var t=this;return new Promise((function(n,i){if(0!==e.length){var o=e.shift(),s=t.url(o,null);r(s).then(n)}else n()}))},load_qweb:async function(){await odoo.ready(/\.bundle\.xml$/)},get_currency:function(e){return this.currencies[e]},get_file:function(e){return e.session=this,t.get_file(e)},session_reload:function(){var e=_.extend({},s);return _.extend(this,e),Promise.resolve()},rpc:function(e,n,i){return(i=_.clone(i||{})).headers=_.extend({},i.headers),n&&n.kwargs&&(n.kwargs.context=_.extend(n.kwargs.context||{},this.user_context)),_.isString(e)||(_.extend(i,e),e=e.url),this.use_cors&&(e=this.url(e,null)),t.jsonRpc(e,"call",n,i)},url:function(e,t){t=_.extend(t||{});var n=$.param(t);return n.length>0&&(n="?"+n),(_.any(["http://","https://","//"],(function(t){return e.length>=t.length&&e.slice(0,t.length)===t}))?"":this.prefix)+e+n},getTZOffset:function(e){return-new Date(new Date(e).toISOString().replace("Z","")).getTimezoneOffset()},invalidateCacheKey:function(e){this.cache_hashes&&this.cache_hashes[e]&&(this.cache_hashes[e]=Date.now())},reloadCurrencies:function(){var e=this;return this.rpc("/web/session/get_session_info").then((function(t){e.currencies=t.currencies}))},setCompanies:function(e,t){var n=$.bbq.getState();n.cids=t.sort((function(t,n){return t===e?-1:n===e?1:t-n})).join(","),o("cids",n.cids||String(e),31536e3,"required"),$.bbq.pushState({cids:n.cids},0),location.reload()},_configureLocale:function(){const e=(a.database.parameters.week_start||0)%7;moment.updateLocale(moment.locale(),{week:{dow:e,doy:7+e-4}})},_onInvalidateSession:function(){this.uid=!1}});return c})),odoo.define("web.concurrency",(function(e){"use strict";var t=e("web.Class");return{delay:function(e){return new Promise((function(t){setTimeout(t,e)}))},DropMisordered:t.extend({init:function(e){this.lsn=0,this.rsn=-1,this.failMisordered=e||!1},add:function(e){var t=this,n=this.lsn++;return new Promise((function(i,o){e.then((function(e){n>t.rsn?(t.rsn=n,i(e)):t.failMisordered&&o()})).guardedCatch((function(e){o(e)}))}))}}),DropPrevious:t.extend({add:function(e){var t;this.currentDef&&this.currentDef.reject();var n=new Promise((function(n,i){t=i,e.then(n).catch((function(e){i(e)}))}));return this.currentDef=n,this.currentDef.reject=t,n}}),Mutex:t.extend({init:function(){this.lock=Promise.resolve(),this.queueSize=0,this.unlockedProm=void 0,this._unlock=void 0},exec:function(e){var t,n=this,i=this.lock;return this.queueSize++,this.unlockedProm=this.unlockedProm||new Promise((function(e){n._unlock=e})),this.lock=new Promise((function(o){i.then((function(){t=e();var i=function(e){return o(),n.queueSize--,0===n.queueSize&&(n.unlockedProm=void 0,n._unlock()),e};Promise.resolve(t).then(i).catch(i)}))})),this.lock.then((function(){return t}))},getUnlockedDef:function(){return this.unlockedProm||Promise.resolve()}}),MutexedDropPrevious:t.extend({init:function(){this.locked=!1,this.currentProm=null,this.pendingAction=null,this.pendingProm=null},exec:function(e){var t,n,i=this;if(this.locked){this.pendingAction=e;var o=this.pendingProm;return this.pendingProm=new Promise((function(e,s){t=e,n=s,o&&o.reject(),i.currentProm.reject()})),this.pendingProm.resolve=t,this.pendingProm.reject=n,this.pendingProm}return this.locked=!0,this.currentProm=new Promise((function(o,s){function r(){if(i.locked=!1,i.pendingAction){var e=i.pendingAction,t=i.pendingProm;i.pendingAction=null,i.pendingProm=null,i.exec(e).then(t.resolve).guardedCatch(t.reject)}}t=o,n=s,Promise.resolve(e()).then((function(e){o(e),r()})).guardedCatch((function(e){s(e),r()}))})),this.currentProm.resolve=t,this.currentProm.reject=n,this.currentProm}}),rejectAfter:function(e,t){return new Promise((function(n,i){e.then(n).guardedCatch(i),t.then(i).guardedCatch(i)}))}}})),odoo.define("web.utils.cookies",(function(e){"use strict";const t={getCookie(e){for(var t=document.cookie?document.cookie.split("; "):[],n=0,i=t.length;n<i;n++){var o=t[n].split("="),s=o.shift(),r=o.join("=");if(e&&e===s){if(r.startsWith('"')){if(r.includes("\\"))throw new Error(`Cookie value contains unknown characters ${r}`);r=r.slice(1,-1)}return r}}return""},isAllowedCookie:e=>!0,setCookie(e,n,i=31536e3,o="required"){i=t.isAllowedCookie(o)?i||31536e3:-1,document.cookie=[`${e}=${n}`,"path=/",`max-age=${i}`,`expires=${new Date((new Date).getTime()+1e3*i).toGMTString()}`].join(";")},deleteCookie(e){document.cookie=[`${e}=`,"path=/","max-age=-1",`expires=${new Date((new Date).getTime()-1e3).toGMTString()}`].join(";")}};return t})),odoo.define("web.utils",(function(e){"use strict";var t=e("web.translation");const{Component:n}=e("@odoo/owl");var i=t._t,o=-1,s={A:"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY",B:"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B",C:"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C",D:"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz",E:"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E",F:"F","":"F","":"F","":"F","":"F","":"F",G:"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G",H:"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H",I:"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I",J:"J","":"J","":"J","":"J","":"J",K:"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K",L:"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj",M:"M","":"M","":"M","":"M","":"M","":"M","":"M","":"M",N:"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj",O:"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU",P:"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P",Q:"Q","":"Q","":"Q","":"Q","":"Q","":"Q",R:"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R",S:"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S",T:"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ",U:"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",V:"V","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY",W:"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W",X:"X","":"X","":"X","":"X","":"X",Y:"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y",Z:"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z",a:"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay",b:"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b",c:"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c",d:"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz",e:"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e",f:"f","":"f","":"f","":"f","":"f","":"f",g:"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g",h:"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv",i:"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i",j:"j","":"j","":"j","":"j","":"j","":"j",k:"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k",l:"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj",m:"m","":"m","":"m","":"m","":"m","":"m","":"m","":"m",n:"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj",o:"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo",p:"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p",q:"q","":"q","":"q","":"q","":"q","":"q",r:"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r",s:"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s",t:"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz",u:"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u",v:"v","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy",w:"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w",x:"x","":"x","":"x","":"x","":"x",y:"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y",z:"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};const r=new WeakMap;function a(e){if(!e)return e=>e;switch(typeof e){case"string":return t=>t[e];case"function":return e;default:throw new Error(`Expected criterion of type 'string' or 'function' and got '${typeof e}'`)}}class l extends Error{constructor(){super(...arguments),this.name="AlreadyDefinedPatchError"}}class c extends Error{constructor(){super(...arguments),this.name="UnknownPatchError"}}const u=_.escape;_.escapeMethod=Symbol("html"),_.escape=function(e){return e[_.escapeMethod]?e[_.escapeMethod]():u(e)};const d=owl.markup("").constructor;function h(e,...t){if(!(e instanceof Array))return e?new d(e):"";const n=[];let i=0;for(;i<t.length;++i)n.push(e[i],_.escape(t[i]));n.push(e[i]);const o=n.join("");return o?new d(o):""}d.prototype[_.escapeMethod]=function(){return this},window._Markup=d;const p={AlreadyDefinedPatchError:l,UnknownPatchError:c,Markup:h,assert:function(e){if(!e)throw new Error("AssertionError")},binaryToBinsize:function(e){return this.is_bin_size(e)?e:this.human_size(e.length/1.37)},confine:function(e,t,n){return Math.max(t,Math.min(n,e))},findWhere:function(e,t){if(Array.isArray(e)&&t)return e.filter((e=>void 0!==e)).find((e=>Object.keys(t).every((n=>e[n]===t[n]))))},float_is_zero:function(e,t){var n=Math.pow(10,-t);return Math.abs(p.round_precision(e,n))<n},generateID:function(){return++o},getDataURLFromFile:function(e){return e?new Promise((function(t,n){var i=new FileReader;i.addEventListener("load",(function(){"data:"===i.result?t(`data:${e.type};base64,`):t(i.result)})),i.addEventListener("abort",n),i.addEventListener("error",n),i.readAsDataURL(e)})):Promise.reject()},groupBy:function(e,t){const n=a(t),i={};for(const t of e){const e=String(n(t));e in i||(i[e]=[]),i[e].push(t)}return i},human_number:function(e,t,n,o){e=Math.round(e),t|=0,n=n||1,o=o||p.insert_thousand_seps;var s=Math.pow(10,t),r=i("kMGTPE"),a="",l=e.toExponential().split("e")[1];if(l>=21)return(e=Math.round(e*Math.pow(10,t-l))/s)+"e"+l;var c=Math.sign(e);e=Math.abs(e);for(var u=r.length;u>0;u--){var d=Math.pow(10,3*u);if(d<=e/Math.pow(10,n-1)){e=Math.round(e*s/d)/s,a=r[u-1];break}}return o(""+(e*=c))+a},human_size:function(e){for(var t=i("Bytes|Kb|Mb|Gb|Tb|Pb|Eb|Zb|Yb").split("|"),n=0;e>=1024;)e/=1024,++n;return e.toFixed(2)+" "+t[n].trim()},insert_thousand_seps:function(e){var t="-"===e[0];return e=t?e.slice(1):e,(t?"-":"")+p.intersperse(e,i.database.parameters.grouping,i.database.parameters.thousands_sep)},intersperse:function(e,t,n){n=n||"";for(var i=[],o=e.length,s=0;s<t.length;++s){var r=t[s];if(-1===r||o<=0)break;if(0===r&&0===s)break;0===r&&(r=t[--s]),i.push(e.substring(o-r,o)),o-=r}var a=e.substring(0,o);return a&&i.push(a),i.reverse().join(n)},into:function(e,t){_(t).isArray()||(t=t.split("."));for(var n=0;n<t.length;n++)e=e[t[n]];return e},is_bin_size:function(e){return/^\d+(\.\d*)? [^0-9]+$/.test(e)},isComponent:function(e){return e.prototype instanceof n},isNumpadDecimalSeparatorKey:e=>[".",","].includes(e.key)&&"NumpadDecimal"===e.code,isValidAnchor:function(e){return/^#[\w-]+$/.test(e)},json_node_to_xml:function(e,t,n){n=n||0;var o=t?new Array(n+1).join("\t"):"",s=o+"<"+e.tag,r=t?"\n":"";if("string"==typeof e)return o+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");if("string"!=typeof e.tag||e.children&&!(e.children instanceof Array)||e.attrs&&!(e.attrs instanceof Object))throw new Error(_.str.sprintf(i("Node [%s] is not a JSONified XML node"),JSON.stringify(e)));for(var a in e.attrs){var l=e.attrs[a];"string"!=typeof l&&(l=JSON.stringify(l)),l=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),t&&(l=l.replace(/&quot;/g,"'")),s+=" "+a+'="'+l+'"'}if(e.children&&e.children.length){s+=">"+r;for(var c=[],u=0,d=e.children.length;u<d;u++)c.push(p.json_node_to_xml(e.children[u],t,n+1));return s+=c.join(r),s+=r+o+"</"+e.tag+">"}return s+"/>"},lpad:function(e,t){return e=""+e,new Array(t-e.length+1).join("0")+e},partitionBy(e,t){let n,i=!1;return e.reduce(((e,o)=>{let s=t(o);return i&&(s===n?i.push(o):i=!1),i||(i=[o],e.push(i)),n=s,e}),[])},patch:function(e,t,n){r.has(e)||r.set(e,{original:{},patches:[]});const i=r.get(e);if(i.patches.some((e=>e.name===t)))throw new l(`Patch ${t} is already defined`);i.patches.push({name:t,patch:n});for(const s in n){let r=null,a=e;do{r=Object.getOwnPropertyDescriptor(a,s),a=Object.getPrototypeOf(a)}while(!r&&a);const l=Object.getOwnPropertyDescriptor(n,s);if(i.original.hasOwnProperty(s)||(i.original[s]=Object.getOwnPropertyDescriptor(e,s)),r){const e=`${s} (patch ${t})`;r.value&&"function"==typeof l.value&&o("value",r,l,e),(r.get||r.set)&&(l.get=l.get||r.get,l.set=l.set||r.set,r.get&&"function"==typeof l.get&&o("get",r,l,e),r.set&&"function"==typeof l.set&&o("set",r,l,e))}Object.defineProperty(e,s,l)}function o(e,t,n,i){const o=t[e],s=n[e];n[e]={[i](...e){const t=this._super;this._super=o.bind(this);const n=s.call(this,...e);return this._super=t,n}}[i]}},round_decimals:function(e,t){return p.round_precision(e,parseFloat("1e"+-t))},round_precision:function(e,t){if(!e)return 0;(!t||t<0)&&(t=1);var n=e/t,i=Math.log(Math.abs(n))/Math.log(2),o=Math.pow(2,i-52);return((n+=n>=0?o:-o)<0?-1:1)*Math.round(Math.abs(n))*t},rpad:function(e,t){return(e=""+e)+new Array(t-e.length+1).join("0")},sortBy:function(e,t,n="asc"){const i=a(t);return e.slice().sort(((e,t)=>{const o=i(e),s=i(t);let r;return r=isNaN(o)&&isNaN(s)?o>s?1:o<s?-1:0:o-s,"asc"===n?r:-r}))},sprintf(e,...t){let n,i;if(n=i=e=>e,e instanceof d&&(e=String(e),n=h,i=_.escape),1===t.length&&"object"==typeof t[0]){const n=t[0];e=e.replace(/%\((\w+)\)s/g,((e,t)=>i(n[t])))}else{let n=0;e=e.replace(/%s/g,(()=>i(t[n++])))}return n(e)},stableSort:function(e,t){var n=e.slice();return e.sort((function(e,i){var o=t(e,i);return 0!==o?o:n.indexOf(e)-n.indexOf(i)}))},swap:function(e,t,n){var i=e.indexOf(t),o=e.indexOf(n);e[o]=t,e[i]=n},is_email:function(e,t){return(t?/^(mailto:)?(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i).test(e)},toBoolElse:function(e,t,n,i){var o=_.str.toBool(e,n,i);return _.isUndefined(o)?t:o},traverse_records:function(e,t){if("record"===e.type)t(e);else if(e.data)for(var n=0;n<e.data.length;n++)p.traverse_records(e.data[n],t)},unaccent:function(e,t){return e=e.replace(/[^\u0000-\u007E]/g,(function(e){return s[e]||e})),t?e:e.toLowerCase()},unpatch:function(e,t){const n=r.get(e);if(!n||!n.patches.some((e=>e.name===t)))throw new c(`Could not find patch ${t}`);r.delete(e);for(const t in n.original)void 0===n.original[t]?delete e[t]:Object.defineProperty(e,t,n.original[t]);let i;for(const o of n.patches)o.name!==t?p.patch(e,o.name,o.patch):i=o.patch;return i},xml_to_json:function(e,t){switch(e.nodeType){case 9:return p.xml_to_json(e.documentElement,t);case 3:case 4:return t&&""===e.data.trim()?void 0:e.data;case 1:var n=$(e).getAttributes();return{tag:e.tagName.toLowerCase(),attrs:n,children:_.compact(_.map(e.childNodes,(function(e){return p.xml_to_json(e,t)})))}}},xml_to_str:function(e){var t="";if(window.XMLSerializer)t=(new XMLSerializer).serializeToString(e);else{if(!window.ActiveXObject)throw new Error(i("Could not serialize XML"));t=e.xml}var n="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");return t=t.replace(/<([a-z]+)([^<>]*)\s*\/\s*>/g,(function(e,t,i){return n.indexOf(t)<0?"<"+t+i+"></"+t+">":e}))},traverse:function(e,t){t(e)&&_.each(e.children,(function(e){p.traverse(e,t)}))},traversePath:function(e,t,n){t(e,n=n||[]),_.each(e.children,(function(i){p.traversePath(i,t,n.concat(e))}))},deepFreeze:function(e){return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"==typeof n&&null!==n&&p.deepFreeze(n)})),Object.freeze(e)},closestNumber:function(e,t){for(var n=t[0],i=Math.abs(e-n),o=0;o<t.length;o++){var s=Math.abs(e-t[o]);s<i&&(i=s,n=t[o])}return n}};return p})),odoo.define("web.dom_ready",(function(e){"use strict";return new Promise((function(e,t){$(e)}))})),odoo.define("web.dom",(function(e){"use strict";var t=e("web.concurrency"),n=e("web.core"),i=n._t;function o(e,t){t.forEach((function(e){e.widget&&e.widget.on_attach_callback&&e.widget.on_attach_callback(e.callback_args)})),n.bus.trigger("DOM_updated",e)}var s={DEBOUNCE:400,append:function(e,t,n){e.append(t),n&&n.in_DOM&&o(t,n.callbacks)},areColliding(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>i.top&&n.top<i.bottom&&n.right>i.left&&n.left<i.right},autoresize:function(e,t){if(!e.data("auto_resize")){var o,s;s="min_height"in(t=t||{})?t.min_height:50,o=$("<textarea disabled>",{class:e[0].className});var r="rtl"===i.database.parameters.direction?"right":"left";o.css({position:"absolute",opacity:0,height:10,borderTopWidth:0,borderBottomWidth:0,padding:0,overflow:"hidden",top:-1e4}).css(r,-1e4),o.data("auto_resize",!0),e.css({"overflow-y":"hidden"}),a(),l(),e.data("auto_resize",!0),e.on("input focus change",a),t.parent&&n.bus.on("DOM_updated",t.parent,(function(){a(),l()}))}function a(){o.insertAfter(e);var t=0,n=window.getComputedStyle(e[0],null);if("border-box"===n.boxSizing){var i=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom);t=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+i}o.width(e.width()),o.val(e.val());var r=o[0].scrollHeight;e.css({height:Math.max(r+t,s)})}function l(){var t=window.getComputedStyle(e[0],null);"vertical"===t.resize?e[0].style.resize="none":"both"===t.resize&&(e[0].style.resize="horizontal")}},closestScrollable:e=>$(e).closestScrollable()[0]||null,compensateScrollbar(e,...t){$(e).compensateScrollbar(...t)},cssFind:function(e,t,n){var i;return i=t.indexOf(" ")>=0?e.find("*").filter(t):e.find(t),n&&e.is(t)&&(i=i.add(e)),i},detach:function(e,t){e.forEach((function(e){e.widget.on_detach_callback&&e.widget.on_detach_callback(e.callback_args)}));var n=t&&t.$to_detach;return n||(n=$(e.map((function(e){return e.widget.el})))),n.detach()},getSelectionRange:function(e){return{start:e.selectionStart,end:e.selectionEnd}},getPosition:function(e){for(var t={left:0,top:0};e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},getScrollingElement(){return $().getScrollingElement(...arguments)[0]},hasScrollableContent:e=>$(e).hasScrollableContent(),isScrollable:e=>$(e).isScrollable(),makeAsyncHandler:function(e,t,n){var i=!1;function o(){i=!1}return function(s){if((!0===t||t&&t())&&s.preventDefault(),(!0===n||n&&n())&&s.stopPropagation(),!i){i=!0;var r=e.apply(this,arguments);return Promise.resolve(r).then(o).guardedCatch(o),r}}},makeButtonHandler:function(e){return e=s.makeAsyncHandler(e),function(n){var i=e.apply(this,arguments),o=$(n.target).closest(".btn");return o.length?(o.addClass("pe-none"),Promise.resolve(s.DEBOUNCE&&t.delay(s.DEBOUNCE)).then((function(){o.removeClass("pe-none");const e=s.addButtonLoadingEffect(o[0]);return Promise.resolve(i).then(e).guardedCatch(e)})),i):i}},addButtonLoadingEffect:function(e){const t=$(e);t.addClass("o_website_btn_loading disabled"),t.prop("disabled",!0);const n=$("<span/>",{class:"fa fa-refresh fa-spin me-2"});return t.prepend(n),()=>{t.removeClass("o_website_btn_loading disabled"),t.prop("disabled",!1),n.remove()}},prepend:function(e,t,n){e.prepend(t),n&&n.in_DOM&&o(t,n.callbacks)},renderButton:function(e){var t=_.extend({type:"button"},e.attrs||{}),n=t.class;n&&(n=n.replace(/\boe_highlight\b/g,"btn-primary").replace(/\boe_link\b/g,"btn-link")),t.class="btn",e.size&&(t.class+=" btn-"+e.size),t.class+=" "+(n||"btn-secondary");var i=$("<button/>",t);return e.icon&&("fa-"===e.icon.substr(0,3)?i.append($("<i/>",{class:"fa fa-fw o_button_icon "+e.icon})):i.append($("<img/>",{src:e.icon}))),e.text&&i.append($("<span/>",{text:e.text})),i},renderCheckbox:function(e){var t=_.uniqueId("checkbox-"),n=$("<div/>",{class:"form-check"}),i=$("<input/>",{type:"checkbox",id:t,class:"form-check-input"}),o=$("<label/>",{for:t,class:"form-check-label",text:e&&e.text||""});return e&&e.text||o.html("&#8203;"),e&&e.prop&&i.prop(e.prop),e&&e.role&&i.attr("role",e.role),n.append(i,o)},setSelectionRange:function(e,t){e.setSelectionRange?e.setSelectionRange(t.start,t.end):e.createTextRange&&e.createTextRange().collapse(!0).moveEnd("character",t.start).moveStart("character",t.end).select()},scrollFixedOffset(e=window.document){let t=0;for(const n of e.querySelectorAll(".o_top_fixed_element"))t+=$(n).outerHeight();return t},scrollTo(e,t={}){if(!e)throw new Error("The scrollTo function was called without any given element");const n=$(e);"string"==typeof e&&n[0]&&(e=n[0]);const i="#top"===e||"#bottom"===e,o=i?$().getScrollingElement():t.$scrollable||n.parent().closestScrollable(),r=o[0].ownerDocument,a=i||r===n[0].ownerDocument,l=!a&&o.find("iframe").filter(((e,t)=>$(t).contents().has(n))),c=$().getScrollingElement(r),u=o.is(c);function d(){if("#top"===e||"top"===e.id)return 0;if("#bottom"===e||"bottom"===e.id)return o[0].scrollHeight-o[0].clientHeight;let i=n.offset().top;e.classList.contains("d-none")&&(e.classList.remove("d-none"),i=n.offset().top,e.classList.add("d-none"));const c=o.is(e.ownerDocument.scrollingElement);let d=i-(o.offset().top-(c?0:o[0].scrollTop));!a&&l.length&&(d+=l.offset().top);let h=t.forcedOffset;return void 0===h&&(h=(u?s.scrollFixedOffset(r):0)+(t.extraOffset||0)),Math.max(0,d-h)}const h=d();return new Promise((n=>{const r=Object.assign({},t);r.progress=function(r,a,l){t.progress&&t.progress.apply(this,...arguments);const c=d();Math.abs(c-h)<=1&&(i||!e.classList.contains("o_transitioning"))||(o.stop(),s.scrollTo(e,Object.assign({},t,{duration:l,easing:"linear"})).then((()=>n())))},r.complete=function(){t.complete&&t.complete.apply(this,...arguments),n()},o.animate({scrollTop:h},r)}))}};return s})),odoo.define("web.QWeb",(function(e){"use strict";var t=e("web.translation"),n=t._t;function i(){switch(this.node.nodeType){case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:var e=this.node.parentNode.attributes["t-translation"];if(e&&"off"===e.value)return;var t=/^(\s*)([\s\S]+?)(\s*)$/.exec(this.node.data);t&&(this.node.data=t[1]+n(t[2])+t[3]);break;case Node.ELEMENT_NODE:for(var i,o=["label","title","alt","placeholder","aria-label"];i=o.pop();)this.attributes[i]&&(this.attributes[i]=n(this.attributes[i]))}}return function(e,n,o){void 0===o&&(o=!0);var s=new QWeb2.Engine;return s.default_dict=_.extend({},n||{},{_:_,JSON:JSON,_t:t._t,__debug__:e,moment:function(e){return new moment(e)},csrf_token:odoo.csrf_token}),s.debug=e,s.preprocess_node=o?i:function(){},s}})),odoo.define("web.Bus",(function(e){"use strict";var t=e("web.Class"),n=e("web.mixins");return t.extend(n.EventDispatcherMixin,{init:function(e){n.EventDispatcherMixin.init.call(this),this.setParent(e)}})})),odoo.define("web.core",(function(e){"use strict";var t=e("web.Bus"),n=e("web.config"),i=e("web.Class"),o=e("web.QWeb"),s=e("web.Registry"),r=e("web.translation"),a=new t;return _.each("click,dblclick,keydown,keypress,keyup".split(","),(function(e){$("html").on(e,(function(t){a.trigger(e,t)}))})),_.each("resize,scroll".split(","),(function(e){$(window).on(e,(function(t){a.trigger(e,t)}))})),{qweb:new o(n.isDebug()),Class:i,bus:a,main_bus:new t,_t:r._t,_lt:r._lt,action_registry:new s,crash_registry:new s,serviceRegistry:new s,csrf_token:odoo.csrf_token}})),odoo.define("web.local_storage",(function(e){"use strict";var t,n=e("web.RamStorage"),i=e("web.mixins"),o=window.localStorage;try{var s=new Date;o.setItem(s,s),o.removeItem(s),t=function(){var e=Object.create(_.extend({getItem:o.getItem.bind(o),setItem:o.setItem.bind(o),removeItem:o.removeItem.bind(o),clear:o.clear.bind(o)},i.EventDispatcherMixin));return e.init(),$(window).on("storage",(function(t){var n=t.originalEvent.key,i=t.originalEvent.newValue;try{JSON.parse(i),e.trigger("storage",{key:n,newValue:i})}catch(e){}})),e}()}catch(e){console.warn("Fail to load localStorage"),t=new n}return t})),odoo.define("web.RamStorage",(function(e){"use strict";var t=e("web.Class"),n=e("web.mixins");return t.extend(n.EventDispatcherMixin,{init:function(){n.EventDispatcherMixin.init.call(this),this.storage||this.clear()},clear:function(){this.storage=Object.create(null),this.length=0},getItem:function(e){return this.storage[e]},key:function(e){return _.keys(this.storage)[e]},removeItem:function(e){e in this.storage&&this.length--,delete this.storage[e],this.trigger("storage",{key:e,newValue:null})},setItem:function(e,t){e in this.storage||this.length++,this.storage[e]=t,this.trigger("storage",{key:e,newValue:t})}})})),odoo.define("web.AbstractStorageService",(function(e){"use strict";var t=e("web.AbstractService").extend({storage:null,destroy:function(){(this.storage||{}).destroy&&this.storage.destroy(),this._super.apply(this,arguments)},clear:function(){this.storage.clear()},getItem:function(e,t){var n=this.storage.getItem(e);return n?JSON.parse(n):t},key:function(e){return this.storage.key(e)},length:function(){return this.storage.length},removeItem:function(e){this.storage.removeItem(e)},setItem:function(e,t){this.storage.setItem(e,JSON.stringify(t))},onStorage:function(){this.storage.on.apply(this.storage,["storage"].concat(Array.prototype.slice.call(arguments)))}});return t})),odoo.define("web.commonEnv",(function(e){"use strict";const{jsonRpc:t}=e("web.ajax"),{device:n,isDebug:i}=e("web.config"),{bus:o}=e("web.core"),s=e("web.rpc"),r=e("web.session"),{_t:a}=e("web.translation"),{getCookie:l,setCookie:c}=e("web.utils.cookies"),u={clearInterval:window.clearInterval.bind(window),clearTimeout:window.clearTimeout.bind(window),Date:window.Date,fetch:(window.fetch||(()=>{})).bind(window),Notification:window.Notification,requestAnimationFrame:window.requestAnimationFrame.bind(window),setInterval:window.setInterval.bind(window),setTimeout:window.setTimeout.bind(window)};Object.defineProperty(u,"innerHeight",{get:()=>window.innerHeight}),Object.defineProperty(u,"innerWidth",{get:()=>window.innerWidth});const d={_t:a,browser:u,bus:o,device:n,isDebug:i,services:{ajaxJsonRPC(){return t(...arguments)},getCookie(){return l(...arguments)},httpRequest(e,t={},n="json"){const i={method:t.method||"POST"};if("GET"!==t.method){const e=new FormData;for(const n in t){if("method"===n)continue;const i=t[n];if(Array.isArray(i)&&i.length)for(const t of i)e.append(n,t);else e.append(n,i)}i.body=e}return fetch(e,i).then((e=>e[n]()))},navigate(e,t){window.location=$.param.querystring(e,t)},reloadPage(){window.location.reload()},rpc(e,t){const n=s.buildQuery(e);return r.rpc(n.route,n.params,t)},setCookie(){c(...arguments)}},session:r};return d})),odoo.define("web.public.lazyloader",(function(e){"use strict";var t=["submit","click"],n=function(e){e.preventDefault(),e.stopImmediatePropagation()},i=!1;function o(){if(!i){i=!0;for(var e=document.querySelectorAll(".o_wait_lazy_js"),o=0;o<e.length;o++){var s=e[o];t.forEach((function(e){s.addEventListener(e,n)}))}document.body.classList.add("o_lazy_js_waiting")}}"loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",(function(){o()}));var s=null,r=new Promise((function(e){s?e():s=e})).then((function(){!function(){if(i){i=!1;for(var e=document.querySelectorAll(".o_wait_lazy_js"),o=0;o<e.length;o++){var s=e[o];t.forEach((function(e){s.removeEventListener(e,n)})),s.classList.remove("o_wait_lazy_js")}document.body.classList.remove("o_lazy_js_waiting")}}()}));function a(e,t){if(void 0===e&&(e=document.querySelectorAll("script[data-src]")),void 0===t&&(t=0),t>=e.length)"function"==typeof s?s():s=!0;else{var n=e[t];n.addEventListener("load",a.bind(this,e,t+1)),n.src=n.dataset.src,n.removeAttribute("data-src")}}return"complete"===document.readyState?setTimeout(a,0):window.addEventListener("load",(function(){setTimeout(a,0)})),{loadScripts:a,allScriptsLoaded:r}})),odoo.define("web.public_env",(function(e){"use strict";return e("web.commonEnv")})),odoo.define("@web/legacy/js/public/public_root",(async function(e){"use strict";let t={};const n=e("web.dom"),i=e("web.public_env"),o=e("web.session"),{getCookie:s}=e("web.utils.cookies"),r=e("web.public.widget"),{registry:a}=e("@web/core/registry"),l=e("web.AbstractService"),c=e("web.public.lazyloader"),{makeLegacyNotificationService:u,makeLegacyRpcService:d,makeLegacySessionService:h,makeLegacyDialogMappingService:p,mapLegacyEnvToWowlEnv:f,makeLegacyRainbowManService:m}=e("@web/legacy/utils"),{standaloneAdapter:g}=e("web.OwlCompatibility"),{makeEnv:v,startServices:b}=e("@web/env"),{setLoadXmlDefaultApp:y,loadJS:w,templates:k}=e("@web/core/assets"),{MainComponentsContainer:x}=e("@web/core/main_components_container"),{browser:S}=e("@web/core/browser/browser"),{jsonrpc:C}=e("@web/core/network/rpc_service"),{_t:D}=e("@web/core/l10n/translation"),T=a.category("services"),{Component:E,App:M,whenReady:O}=e("@odoo/owl");function L(){return(document.documentElement.getAttribute("lang")||"en_US").replace("-","_")}const N=s("frontend_lang")||L();var A="en_US"!==N?w("/web/webclient/locale/"+N.replace("-","_")):Promise.resolve();const P=t.PublicRoot=r.RootWidget.extend({events:_.extend({},r.RootWidget.prototype.events||{},{"submit .js_website_submit_form":"_onWebsiteFormSubmit","click .js_disable_on_click":"_onDisableOnClick"}),custom_events:_.extend({},r.RootWidget.prototype.custom_events||{},{call_service:"_onCallService",context_get:"_onContextGet",main_object_request:"_onMainObjectRequest",widgets_start_request:"_onWidgetsStartRequest",widgets_stop_request:"_onWidgetsStopRequest"}),init:function(){this._super.apply(this,arguments),this.env=i,this.publicWidgets=[]},willStart:function(){return Promise.all([this._super.apply(this,arguments),o.is_bound,A])},start:function(){var e=[this._super.apply(this,arguments),this._startWidgets()];return this.$(".o_image[data-mimetype^='image']").each((function(){var e=$(this);/gif|jpe|jpg|png/.test(e.data("mimetype"))&&e.data("src")&&e.css("background-image","url('"+e.data("src")+"')")})),window.location.hash.indexOf("scrollTop=")>-1&&(this.el.scrollTop=+window.location.hash.match(/scrollTop=([0-9]+)/)[1]),$.fn.placeholder&&$("input, textarea").placeholder(),this.$el.children().on("error.datetimepicker",this._onDateTimePickerError.bind(this)),Promise.all(e)},_getContext:function(e){return _.extend({lang:L()},e||{})},_getExtraContext:function(e){return this._getContext(e)},_getPublicWidgetsRegistry:function(e){return r.registry},_getRegistry:function(){return a.category("public_root_widgets")},_startWidgets:function(e,t){var i=this;void 0===e&&((e=this.$("#wrapwrap")).length||(e=this.$el)),t=Object.assign({},t,{wysiwyg:$("#wrapwrap").data("wysiwyg")}),this._stopWidgets(e);var o=_.map(this._getPublicWidgetsRegistry(t),(function(o){var s=o.prototype.selector||"",r=n.cssFind(e,s,!0),a=_.map(r,(function(e){var n=new o(i,t);return i.publicWidgets.push(n),n.attachTo($(e))}));return Promise.all(a)}));return Promise.all(o)},_stopWidgets:function(e){var t=_.map(this.publicWidgets,(function(t){return!e||e.filter(t.el).length||e.find(t.el).length?(t.destroy(),t):null}));this.publicWidgets=_.difference(this.publicWidgets,t)},_onCallService:function(e){const t=e.data;let n=t.args||[];if("ajax"!==t.service||"rpc"!==t.method)return;n=n.concat(e.target);var i=n[0];if(_.str.startsWith(i,"/web/dataset/call_kw/")){var o,s=n[1],r=n[2];r&&(o=r.noContextKeys,n[2]=_.omit(r,"noContextKeys")),s.kwargs.context=function(e,t){return e=_.extend({},this._getContext(),e),t&&(e=_.omit(e,t)),JSON.parse(JSON.stringify(e))}.call(this,s.kwargs.context,o)}const a=this.env.services[t.service],l=a[t.method].apply(a,n);t.callback(l),e.stopPropagation()},_onContextGet:function(e){e.data.extra?e.data.callback(this._getExtraContext(e.data.context)):e.data.callback(this._getContext(e.data.context))},_onMainObjectRequest:function(e){var t=$("html").data("main-object").match(/(.+)\((\d+),(.*)\)/);e.data.callback({model:t[1],id:0|t[2]})},_onWidgetsStartRequest:function(e){this._startWidgets(e.data.$target,e.data.options).then(e.data.onSuccess).guardedCatch(e.data.onFailure)},_onWidgetsStopRequest:function(e){this._stopWidgets(e.data.$target)},_onWebsiteFormSubmit:function(e){var t=$(e.currentTarget).find('button[type="submit"], a.a-submit');_.each(t,(function(e){var t=$(e);t.prepend('<i class="fa fa-circle-o-notch fa-spin"></i> '),t.prop("disabled",!0)}))},_onDisableOnClick:function(e){$(e.currentTarget).addClass("disabled")},_onDateTimePickerError:function(e){return!1}});async function I(e){await c.allScriptsLoaded,l.prototype.deployServices(i),T.add("legacy_rpc",d(i)),T.add("legacy_session",h(i,o)),T.add("legacy_notification",u(i)),T.add("legacy_dialog_mapping",p(i)),T.add("legacy_rainbowman_service",m(i));const t=a.category("wowlToLegacyServiceMappers").getEntries();for(const[e,n]of t)T.add(e,n(i));await Promise.all([O(),o.is_bound]);const n=o.prefix,{fetch:s}=S;S.fetch=function(e,...t){return e.match(/^(?:https?:)?\/\//)||(e=n+e),s(e,...t)},T.add("rpc",{async:!0,start(e){let t=0;return function(i,o={},s){return i.match(/^(?:https?:)?\/\//)||(i=n+i),C(e,t++,i,o,s)}}},{force:!0});const r=v();await b(r),f(i,r);const _=new e(g({Component:E})),w=new M(x,{templates:k,env:r,dev:r.debug,translateFn:D,translatableAttributes:["data-tooltip"]});return y(w),await Promise.all([w.mount(document.body),_.attachTo(document.body)]),_}return owl.Component.env=i,t.createPublicRoot=I,t[Symbol.for("default")]={PublicRoot:P,createPublicRoot:I},t})),odoo.define("web.public.root",(async function(e){return e("@web/legacy/js/public/public_root")[Symbol.for("default")]})),odoo.define("@web/legacy/js/public/public_root_instance",(async function(e){"use strict";let t={};const{PublicRoot:n,createPublicRoot:i}=e("@web/legacy/js/public/public_root");return t[Symbol.for("default")]=i(n),t})),odoo.define("root.widget",(async function(e){return e("@web/legacy/js/public/public_root_instance")[Symbol.for("default")]})),odoo.define("@web/legacy/js/public/public_widget",(async function(e){"use strict";let t={};const n=e("web.dom"),i=e("web.Widget");var o=i.extend({init:function(){this._super.apply(this,arguments),this._widgets=[]},start:function(){var e=[this._super.apply(this,arguments)];return e.push(this._attachComponents()),this._getRegistry().on("UPDATE",this,(({operation:e,value:t})=>{"add"===e&&this._attachComponent(t)})),Promise.all(e)},_attachComponent:function(e,t){var i=this,o=n.cssFind(t||this.$el,e.selector),s=_.map(o,(function(t){var n=new e.Widget(i);return i._widgets.push(n),n.attachTo(t)}));return Promise.all(s)},_attachComponents:function(e){var t=this,n=this._getRegistry().getAll(),i=_.map(n,(function(n){return t._attachComponent(n,e)}));return Promise.all(i)},_getRegistry:function(){}}),s=i.extend({selector:!1,events:{},init:function(e,t){this._super.apply(this,arguments),this.options=t||{}},destroy:function(){if(this.selector){var e=this.$el;this.setElement(null)}this._super.apply(this,arguments),this.selector&&(this.$el=e,this.el=e[0],this.$target=this.$el,this.target=this.el)},setElement:function(){this._super.apply(this,arguments),this.selector&&(this.$target=this.$el,this.target=this.el)},_delegateEvents:function(){var e=this,t=this.events,i={};_.each(this.events,(function(t,o){if("string"==typeof t){var s=t.split(" ");if(s.length<=1)i[o]=t;else _.contains(s,"async")?(t=e.proxy(s[s.length-1]),t=_.str.startsWith(o,"click")?n.makeButtonHandler(t):n.makeAsyncHandler(t),i[o]=t):i[o]=t}else i[o]=t})),this.events=i,this._super.apply(this,arguments),this.events=t},_getContext:function(e,t){var n;return this.trigger_up("context_get",{extra:e||!1,context:t,callback:function(e){n=e}}),n}}),r={};return r._fixAppleCollapse=s.extend({selector:'div[data-bs-toggle="collapse"]',events:{click:function(){}}}),r.login=s.extend({selector:".oe_login_form",events:{submit:"_onSubmit"},_onSubmit(e){if(!e.isDefaultPrevented()){const t=e.currentTarget.querySelector('button[type="submit"]'),i=n.addButtonLoadingEffect(t),o=e.preventDefault.bind(e);e.preventDefault=()=>{i(),o()}}}}),t[Symbol.for("default")]={RootWidget:o,Widget:s,registry:r},t})),odoo.define("web.public.widget",(async function(e){return e("@web/legacy/js/public/public_widget")[Symbol.for("default")]})),odoo.define("web.AjaxService",(function(e){"use strict";var t=e("web.AbstractService"),n=e("web.core"),i=e("web.session"),o=t.extend({rpc:function(e,t,n,o){var s,r=new Promise((function(r,a){(s=i.rpc(e,t,n)).then((function(e){o.isDestroyed()||r(e)})).guardedCatch((function(e){o.isDestroyed()||a(e)}))}));return r.abort=s.abort.bind(s),r}});return n.serviceRegistry.add("ajax",o),o})),odoo.define("web.LocalStorageService",(function(e){"use strict";var t=e("web.AbstractStorageService"),n=e("web.core"),i=e("web.local_storage"),o=t.extend({storage:i});return n.serviceRegistry.add("local_storage",o),o})),odoo.define("@bus/im_status_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),o=t.UPDATE_BUS_PRESENCE_DELAY=6e4,s=t.imStatusService={dependencies:["bus_service","multi_tab","presence"],start(e,{bus_service:t,multi_tab:i,presence:s}){const r={};let a;const l=_.throttle((function(){if(clearTimeout(a),!i.isOnMainTab())return;const e=(new Date).getTime();t.send("update_presence",{inactivity_period:e-s.getLastPresence(),im_status_ids_by_model:{...r}}),a=n.setTimeout(l,o)}),o);return t.addEventListener("connect",(()=>{n.setTimeout(l,250)})),i.bus.addEventListener("become_main_tab",l),t.addEventListener("reconnect",l),i.bus.addEventListener("no_longer_main_tab",(()=>clearTimeout(a))),t.addEventListener("disconnect",(()=>clearTimeout(a))),{registerToImStatus(e,t){if(!t.length)return this.unregisterFromImStatus(e);r[e]=t},unregisterFromImStatus(e){delete r[e]}}}};return i.category("services").add("im_status",s),t})),odoo.define("@bus/multi_tab_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{browser:i}=e("@web/core/browser/browser"),{EventBus:o}=owl;let s=0;const r=t.multiTabService={start(){const e=new o,t=["main","heartbeat"];let n,r=!1,a=0;const l=location.origin.replace(/:\/{0,2}/g,"_"),c=`${this.name}.${l}.`,u=(new Date).getTime(),d=`${this.name}${s++}:${u}`;function h(e){return c+e}function p(e,t){const n=i.localStorage.getItem(h(e));try{return n?JSON.parse(n):t}catch{return n}}function f(e,t){i.localStorage.setItem(h(e),JSON.stringify(t))}function m(){if(r)return;const t=(new Date).getTime(),n=p("lastPresenceByTab",{}),i=t-15e3;let o;for(const[e,t]of Object.entries(n))if(!(t<i)){o=e;break}o===d&&(a=t,f("heartbeat",a),f("main",!0),r=!0,e.trigger("become_main_tab"),delete n[o],f("lastPresenceByTab",n))}i.addEventListener("pagehide",(function(){clearTimeout(n);const t=p("lastPresenceByTab",{});delete t[d],f("lastPresenceByTab",t),r&&(r=!1,e.trigger("no_longer_main_tab"),i.localStorage.removeItem(h("main")))})),i.addEventListener("storage",(function({key:n,newValue:i}){if(n!==h("main")||i||m(),!t.includes(n)&&n&&n.includes(c)){const t=n.replace(c,"");e.trigger("shared_value_updated",{key:t,newValue:i})}}));const g=p("lastPresenceByTab",{});return g[d]=u,f("lastPresenceByTab",g),p("main")||m(),function t(){const o=(new Date).getTime();let s=p("heartbeat",0);const l=p("lastPresenceByTab",{});if(s+5e3<o&&(m(),s=p("heartbeat",0)),r){const t={};for(const[e,n]of Object.entries(l))n+15e3>o&&(t[e]=n);s!==a?(r=!1,a=0,l[d]=o,f("lastPresenceByTab",l),e.trigger("no_longer_main_tab")):(a=o,f("heartbeat",o),f("lastPresenceByTab",t))}else l[d]=o,f("lastPresenceByTab",l);const c=r?1500:1e4;n=i.setTimeout(t,c)}(),{bus:e,get currentTabId(){return d},isOnMainTab:()=>r,getSharedValue:(e,t)=>p(e,t),setSharedValue(e,t){if(void 0===t)return this.removeSharedValue(e);f(e,t)},removeSharedValue(e){i.localStorage.removeItem(h(e))}}}};return n.category("services").add("multi_tab",r),t})),odoo.define("@bus/services/bus_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{Deferred:i}=e("@web/core/utils/concurrency"),{registry:o}=e("@web/core/registry"),{session:s}=e("@web/session"),{isIosApp:r}=e("@web/core/browser/feature_detection"),{WORKER_VERSION:a}=e("@bus/workers/websocket_worker"),l=e("web.session"),{EventBus:c}=owl,u=t.busService={dependencies:["localization","multi_tab"],async start(e,{multi_tab:t}){const o=new c;let u,d=!1,h=!1,p=n.SharedWorker&&!r();const f=(new Date).getTime(),m=new i;function g(e,t){if(!u)return;const n={action:e,data:t};p?u.port.postMessage(n):u.postMessage(n)}function v(e){const{type:n}=e.data;let{data:i}=e.data;if("notification"===n)t.setSharedValue("last_notification_id",i[i.length-1].id),i=i.map((e=>e.message));else if("initialized"===n)return h=!0,void m.resolve();o.trigger(n,i)}function b(){let e=`${l.prefix}/bus/websocket_worker_bundle?v=${a}`;if(l.prefix!==window.origin){const t=`importScripts("${e}");`;e="data:application/javascript;base64,"+window.btoa(t)}const i=p?n.SharedWorker:n.Worker;u=new i(e,{name:p?"odoo:websocket_shared_worker":"odoo:websocket_worker"}),u.addEventListener("error",(e=>{h||i!==n.SharedWorker?h||(h=!0,m.resolve(),console.warn("Bus service failed to initialized.")):(console.warn('Error while loading "bus_service" SharedWorker, fallback on Worker.'),p=!1,b())})),p?(u.port.start(),u.port.addEventListener("message",v)):u.addEventListener("message",v),function(){let e=Array.isArray(s.user_id)?s.user_id[0]:s.user_id;e||void 0===e||(e=!1),g("initialize_connection",{websocketURL:`${l.prefix.replace("http","ws")}/websocket`,debug:odoo.debug,lastNotificationId:t.getSharedValue("last_notification_id",0),uid:e,startTs:f})}()}return n.addEventListener("pagehide",(({persisted:e})=>{e||g("leave")})),n.addEventListener("online",(()=>{d&&g("start")})),n.addEventListener("offline",(()=>g("stop"))),{addEventListener:o.addEventListener.bind(o),addChannel:async e=>{u||(b(),await m),g("add_channel",e),g("start"),d=!0},deleteChannel:e=>g("delete_channel",e),forceUpdateChannels:()=>g("force_update_channels"),trigger:o.trigger.bind(o),removeEventListener:o.removeEventListener.bind(o),send:(e,t)=>g("send",{event_name:e,data:t}),start:async()=>{u||(b(),await m),g("start"),d=!0},stop:()=>{g("leave"),d=!1}}}};return o.category("services").add("bus_service",u),t})),odoo.define("@bus/services/legacy/make_bus_service_to_legacy_env",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry");function i(e){return{dependencies:["bus_service"],start(t,{bus_service:n}){e.services.bus_service=n}}}return t.makeBusServiceToLegacyEnv=i,n.category("wowlToLegacyServiceMappers").add("bus_service_to_legacy_env",i),t})),odoo.define("@bus/workers/websocket_worker",(async function(e){"use strict";let t={};const{debounce:n}=e("@bus/workers/websocket_worker_utils"),i=t.WEBSOCKET_CLOSE_CODES=Object.freeze({CLEAN:1e3,GOING_AWAY:1001,PROTOCOL_ERROR:1002,INCORRECT_DATA:1003,ABNORMAL_CLOSURE:1006,INCONSISTENT_DATA:1007,MESSAGE_VIOLATING_POLICY:1008,MESSAGE_TOO_BIG:1009,EXTENSION_NEGOTIATION_FAILED:1010,SERVER_ERROR:1011,RESTART:1012,TRY_LATER:1013,BAD_GATEWAY:1014,SESSION_EXPIRED:4001,KEEP_ALIVE_TIMEOUT:4002,RECONNECTING:4003}),o=(t.WORKER_VERSION="1.0.5",1e3);t.WebsocketWorker=class{constructor(){this.newestStartTs=void 0,this.websocketURL="",this.currentUID=null,this.isWaitingForNewUID=!0,this.channelsByClient=new Map,this.connectRetryDelay=o,this.connectTimeout=null,this.debugModeByClient=new Map,this.isDebug=!1,this.isReconnecting=!1,this.lastChannelSubscription=null,this.lastNotificationId=0,this.messageWaitQueue=[],this._forceUpdateChannels=n(this._forceUpdateChannels,300,!0),this._onWebsocketClose=this._onWebsocketClose.bind(this),this._onWebsocketError=this._onWebsocketError.bind(this),this._onWebsocketMessage=this._onWebsocketMessage.bind(this),this._onWebsocketOpen=this._onWebsocketOpen.bind(this)}broadcast(e,t){for(const n of this.channelsByClient.keys())n.postMessage({type:e,data:t})}registerClient(e){e.onmessage=t=>{this._onClientMessage(e,t.data)},this.channelsByClient.set(e,[])}sendToClient(e,t,n){e.postMessage({type:t,data:n})}_onClientMessage(e,{action:t,data:n}){switch(t){case"send":return this._sendToServer(n);case"start":return this._start();case"stop":return this._stop();case"leave":return this._unregisterClient(e);case"add_channel":return this._addChannel(e,n);case"delete_channel":return this._deleteChannel(e,n);case"force_update_channels":return this._forceUpdateChannels();case"initialize_connection":return this._initializeConnection(e,n)}}_addChannel(e,t){const n=this.channelsByClient.get(e);n.includes(t)||(n.push(t),this.channelsByClient.set(e,n),this._updateChannels())}_deleteChannel(e,t){const n=this.channelsByClient.get(e);if(!n)return;const i=n.indexOf(t);-1!==i&&(n.splice(i,1),this._updateChannels())}_forceUpdateChannels(){this._updateChannels({force:!0})}_unregisterClient(e){this.channelsByClient.delete(e),this.debugModeByClient.delete(e),this.isDebug=Object.values(this.debugModeByClient).some((e=>""!==e)),this._updateChannels()}_initializeConnection(e,{debug:t,lastNotificationId:n,uid:o,websocketURL:s,startTs:r}){if(this.newestStartTs&&this.newestStartTs>r)return this.debugModeByClient[e]=t,this.isDebug=Object.values(this.debugModeByClient).some((e=>""!==e)),void this.sendToClient(e,"initialized");this.newestStartTs=r,this.websocketURL=s,this.lastNotificationId=n,this.debugModeByClient[e]=t,this.isDebug=Object.values(this.debugModeByClient).some((e=>""!==e));const a=void 0!==o;this.isWaitingForNewUID&&a&&(this.isWaitingForNewUID=!1,this.currentUID=o),this.currentUID!==o&&a&&(this.currentUID=o,this.websocket&&this.websocket.close(i.CLEAN),this.channelsByClient.forEach(((e,t)=>this.channelsByClient.set(t,[])))),this.sendToClient(e,"initialized")}_isWebsocketConnected(){return this.websocket&&1===this.websocket.readyState}_isWebsocketConnecting(){return this.websocket&&0===this.websocket.readyState}_isWebsocketClosing(){return this.websocket&&2===this.websocket.readyState}_onWebsocketClose({code:e,reason:t}){this.isDebug&&console.debug(`%c${(new Date).toLocaleString()} - [onClose]`,"color: #c6e; font-weight: bold;",e,t),this.lastChannelSubscription=null,this.isReconnecting||(this.broadcast("disconnect",{code:e,reason:t}),e!==i.CLEAN&&(this.broadcast("reconnecting",{closeCode:e}),this.isReconnecting=!0,e===i.KEEP_ALIVE_TIMEOUT&&(this.connectRetryDelay=0),e===i.SESSION_EXPIRED&&(this.isWaitingForNewUID=!0),this._retryConnectionWithDelay()))}_onWebsocketError(){this.isDebug&&console.debug(`%c${(new Date).toLocaleString()} - [onError]`,"color: #c6e; font-weight: bold;"),this._retryConnectionWithDelay()}_onWebsocketMessage(e){const t=JSON.parse(e.data);this.isDebug&&console.debug(`%c${(new Date).toLocaleString()} - [onMessage]`,"color: #c6e; font-weight: bold;",t),this.lastNotificationId=t[t.length-1].id,this.broadcast("notification",t)}_onWebsocketOpen(){this.isDebug&&console.debug(`%c${(new Date).toLocaleString()} - [onOpen]`,"color: #c6e; font-weight: bold;"),this._updateChannels(),this.messageWaitQueue.forEach((e=>this.websocket.send(e))),this.messageWaitQueue=[],this.broadcast(this.isReconnecting?"reconnect":"connect"),this.connectRetryDelay=o,this.connectTimeout=null,this.isReconnecting=!1}_retryConnectionWithDelay(){this.connectRetryDelay=Math.min(1.5*this.connectRetryDelay,6e4)+1e3*Math.random(),this.connectTimeout=setTimeout(this._start.bind(this),this.connectRetryDelay)}_sendToServer(e){const t=JSON.stringify(e);this._isWebsocketConnected()?this.websocket.send(t):this.messageWaitQueue.push(t)}_start(){this._isWebsocketConnected()||this._isWebsocketConnecting()||(this.websocket&&(this.websocket.removeEventListener("open",this._onWebsocketOpen),this.websocket.removeEventListener("message",this._onWebsocketMessage),this.websocket.removeEventListener("error",this._onWebsocketError),this.websocket.removeEventListener("close",this._onWebsocketClose)),this._isWebsocketClosing()&&(this.lastChannelSubscription=null,this.broadcast("disconnect",{code:i.ABNORMAL_CLOSURE})),this.websocket=new WebSocket(this.websocketURL),this.websocket.addEventListener("open",this._onWebsocketOpen),this.websocket.addEventListener("error",this._onWebsocketError),this.websocket.addEventListener("message",this._onWebsocketMessage),this.websocket.addEventListener("close",this._onWebsocketClose))}_stop(){clearTimeout(this.connectTimeout),this.connectRetryDelay=o,this.isReconnecting=!1,this.lastChannelSubscription=null,this.websocket&&this.websocket.close()}_updateChannels({force:e=!1}={}){const t=[...new Set([].concat.apply([],[...this.channelsByClient.values()]))].sort(),n=JSON.stringify(t),i=n!==this.lastChannelSubscription;(e||i)&&(this.lastChannelSubscription=n,this._sendToServer({event_name:"subscribe",data:{channels:t,last:this.lastNotificationId}}))}};return t})),odoo.define("@bus/workers/websocket_worker_utils",(async function(e){"use strict";let t={};return t.debounce=function(e,t,n){let i;return function(){const o=this,s=arguments;const r=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(o,s)}),t),r&&e.apply(o,s)}},t})),odoo.define("@mail/js/utils",(async function(e){"use strict";let t={};const n=e("web.core"),{escape:i}=e("@web/core/utils/strings");var o=n._t;function s(e,t){return _.map(e,(function(e){return t(e,(function(){return s(e.childNodes,t)}))})).join("")}var r,a,l,c,u=(r={"&":"&amp;","<":"&lt;",">":"&gt;"},a=function(e){return r[e]},l=RegExp("(?:&|<|>)"),c=RegExp("(?:&|<|>)","g"),function(e){return e=null==e?"":""+e,l.test(e)?e.replace(c,a):e}),d=/\b(?:https?:\/\/\d{1,3}(?:\.\d{1,3}){3}|(?:https?:\/\/|(?:www\.))[-a-z0-9@:%._+~#=\u00C0-\u024F\u1E00-\u1EFF]{2,256}\.[a-z]{2,13})\b(?:[-a-z0-9@:%_+~#?&[\]^|{}`\\'$//=\u00C0-\u024F\u1E00-\u1EFF]|,(?!$| )|\.(?!$| |\.)|;(?!$| ))*/gi;function h(e,t){void 0===(t=t||{}).target&&(t.target="_blank"),"_blank"===t.target&&(t.rel="noreferrer noopener"),t=_.map(t,(function(e,t){return t+'="'+_.escape(e)+'"'})).join(" ");for(var n,i=0,o="";null!==(n=d.exec(e));){o+=u(e.slice(i,n.index));var s=n[0];o+="<a "+t+' href="'+(/^https?:\/\//i.test(s)?_.escape(s):"http://"+_.escape(s))+'">'+u(s)+"</a>",i=n.index+n[0].length}return o+u(e.slice(i))}return Object.assign(t,{addLink:function(e,t){if(3===e.nodeType){const t=h(e.data);if(t!==e.data){const n=document.createElement("div");n.innerHTML=t;for(const t of[...n.childNodes])e.parentNode.insertBefore(t,e);return e.parentNode.removeChild(e),t}return e.textContent}return"A"===e.tagName||t(),e.outerHTML},escapeAndCompactTextContent:function(e){let t=i(e).trim();return t=t.replace(/(\r|\n){2,}/g,"<br/><br/>"),t=t.replace(/(\r|\n)/g,"<br/>"),t=t.replace(/ /g,"&nbsp;").replace(/([^>])&nbsp;([^<])/g,"$1 $2"),t},getTextToHTML:function(e){return e.replace(/((?:https?|ftp):\/\/[\S]+)/g,'<a href="$1">$1</a> ').replace(/[\n\r]/g,"<br/>")},htmlToTextContentInline:function(e){const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),e=e.replace(/<br\s*\/?>/gi," ");try{n.innerHTML=e}catch(t){n.innerHTML=`<pre>${e}</pre>`}return n.textContent.trim().replace(/[\n\r]/g,"").replace(/\s\s+/g," ")},inline:function(e,t){return 3===e.nodeType?e.data:8===e.nodeType?"":"BR"===e.tagName?" ":e.tagName.match(/^(A|P|DIV|PRE|BLOCKQUOTE)$/)?t():(e.innerHTML=t(),e.outerHTML)},linkify:h,parseAndTransform:function(e,t){var n,i="OPEN"+Date.now(),o=e.replace(/&lt;/g,i);try{n=$("<div>").html(o).contents()}catch(e){n=$("<div>").html("<pre>"+o+"</pre>").contents()}return s(n,t).replace(new RegExp(i,"g"),"&lt;")},parseEmail:function(e){if(e){var t=e.match(/(.*)<(.*@.*)>/);return t?(name=_.str.trim(t[1]).replace(/(^"|"$)/g,""),[name,_.str.trim(t[2])]):(t=e.match(/(.*@.*)/))?[_.str.trim(t[1]),_.str.trim(t[1])]:[e,!1]}},stripHTML:function(e,t){return 3===e.nodeType?e.data:"BR"===e.tagName?"\n":t()},timeFromNow:function(e){return moment().diff(e,"seconds")<45?o("now"):e.fromNow()}}),t})),odoo.define("@im_livechat/legacy/public_livechat_chatbot",(async function(e){"use strict";let t={};const n=e("web.session"),i=e("web.time"),o=e("web.utils"),s=e("@im_livechat/legacy/widgets/livechat_button")[Symbol.for("default")];return s.include({_prepareGetSessionParameters(){const e=this._super(...arguments),{publicLivechat:t}=this.messaging.publicLivechatGlobal;return t&&t.isTemporary&&!t.data.chatbot_script_id||(t&&t.data.chatbot_script_id?e.chatbot_script_id=t.data.chatbot_script_id:this.messaging.publicLivechatGlobal.chatbot.isActive&&(e.chatbot_script_id=this.messaging.publicLivechatGlobal.chatbot.scriptId)),e},_sendWelcomeMessage(){this.messaging.publicLivechatGlobal.chatbot.isActive?this._sendWelcomeChatbotMessage(0,"welcome"===this.messaging.publicLivechatGlobal.chatbot.state?0:this.messaging.publicLivechatGlobal.chatbot.messageDelay):this._super(...arguments)},_sendWelcomeChatbotMessage(e,t){const n=this.messaging.publicLivechatGlobal.chatbot.welcomeSteps[e];this.messaging.publicLivechatGlobal.chatbot.update({currentStep:{data:n}}),n.chatbot_step_message&&this.messaging.publicLivechatGlobal.livechatButtonView.addMessage({id:"_welcome_"+e,is_discussion:!0,author:this.messaging.publicLivechatGlobal.publicLivechat.operator?{id:this.messaging.publicLivechatGlobal.publicLivechat.operator.id,name:this.messaging.publicLivechatGlobal.publicLivechat.operator.name}:[["clear"]],body:o.Markup(n.chatbot_step_message),chatbot_script_step_id:n.chatbot_script_step_id,chatbot_step_answers:n.chatbot_step_answers,date:i.datetime_to_str(new Date),model:"mail.channel",message_type:"comment",res_id:this.messaging.publicLivechatGlobal.publicLivechat.id}),e+1<this.messaging.publicLivechatGlobal.chatbot.welcomeSteps.length?(0!==t&&this.messaging.publicLivechatGlobal.chatbot.setIsTyping(!0),this.messaging.publicLivechatGlobal.chatbot.update({welcomeMessageTimeout:setTimeout((()=>{this.messaging.publicLivechatGlobal.chatWindow&&this.messaging.publicLivechatGlobal.chatWindow.exists()&&(this._sendWelcomeChatbotMessage(e+1,t),this.messaging.publicLivechatGlobal.chatWindow.renderMessages())}),t)})):("forward_operator"===this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_step_type&&this.messaging.publicLivechatGlobal.chatbot.postWelcomeMessages(),this.messaging.publicLivechatGlobal.chatbot.processStep())},async _onChatbotOptionClicked(e){e.stopPropagation();const t=$(e.currentTarget),i=t.closest("ul").data("chatbotStepId"),o=t.data("chatbotStepAnswerId"),s=t.data("chatbotStepRedirectLink");this.messaging.publicLivechatGlobal.chatbot.update({isRedirecting:!!s}),await this.messaging.publicLivechatGlobal.livechatButtonView.sendMessage({content:t.text().trim()});let r=null;for(const e of this.messaging.publicLivechatGlobal.messages)e.widget.getChatbotStepId()===i&&(r=e);const a=r.id;r.widget.setChatbotStepAnswerId(o),this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_selected_answer_id=o,this.messaging.publicLivechatGlobal.chatWindow.renderMessages(),this.messaging.publicLivechatGlobal.chatbot.saveSession();const l=n.rpc("/chatbot/answer/save",{channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,message_id:a,selected_answer_id:o});s&&(await l,window.location=s)}}),t[Symbol.for("default")]=s,t})),odoo.define("@mail/utils/deferred",(async function(e){"use strict";let t={};return t.makeDeferred=function(){let e,t;const n=new Promise((function(n,i){e=n.bind(this),t=i.bind(this)}));return n.resolve=(...t)=>e(...t),n.reject=(...e)=>t(...e),n},t})),odoo.define("@mail/utils/make_messaging_to_legacy_env",(async function(e){"use strict";let t={};return t.makeMessagingToLegacyEnv=function(e){return{dependencies:["messaging"],start(t,{messaging:n}){e.services.messaging=n}}},t})),odoo.define("@mail/utils/media_monitoring",(async function(e){"use strict";let t={};const n=[80,1e3];function i(e,t,n){const i=Math.round(e/(t/2)*n);return Math.min(Math.max(0,i),n)}return t.monitorAudio=async function(e,t){const o=e.clone();o.enabled=!0;const s=new window.MediaStream([o]),r=window.AudioContext||window.webkitAudioContext;if(!r)throw"missing audio context";const a=new r,l=a.createMediaStreamSource(s);let c;try{c=await async function(e,t,{frequencyRange:i=n,minimumActiveCycles:o=10,onThreshold:s,onTic:r,volumeThreshold:a=.3}={}){await t.resume(),await t.audioWorklet.addModule("/mail/rtc/audio_worklet_processor");const l=new window.AudioWorkletNode(t,"audio-processor",{processorOptions:{minimumActiveCycles:o,volumeThreshold:a,frequencyRange:i,postAllTics:!!r}});return e.connect(l),l.port.onmessage=e=>{const{isAboveThreshold:t,volume:n}=e.data;s&&void 0!==t&&s(t),r&&void 0!==n&&r(n)},{disconnect:()=>{l.disconnect()}}}(l,a,t)}catch(e){c=function(e,t,{frequencyRange:o=n,minimumActiveCycles:s=10,onThreshold:r,onTic:a,volumeThreshold:l=.3}={}){const c=1024,u=t.createAnalyser();e.connect(u);const d=t.createScriptProcessor(c,1,1);u.connect(d),u.fftsize=c,d.connect(t.destination);const h=50,p=h/1e3*u.context.sampleRate;let f,m=h,g=0,v=!1;return d.onaudioprocess=()=>{if(m-=c,m>=0)return;m+=p;const e=function(e,t,n){const o=new window.Uint8Array(e.frequencyBinCount);e.getByteFrequencyData(o);const s=e.context.sampleRate,r=i(t,s,e.frequencyBinCount),a=i(n,s,e.frequencyBinCount),l=a-r;let c=0;for(let e=r;e<a;e++)c+=o[e]/255;if(!l)return 0;return c/l}(u,o[0],o[1]);e>=l?g=s:e<l&&g>0&&g--,v=g>0,a&&a(e),f!==v&&(f=v,r&&r(v))},{disconnect:()=>{u.disconnect(),d.disconnect(),d.onaudioprocess=null}}}(l,a,t)}return async()=>{c.disconnect(),l.disconnect(),o.stop();try{await a.close()}catch(e){if("InvalidStateError"===e.name)return;throw e}}},t})),odoo.define("@mail/utils/messaging_component",(async function(e){"use strict";let t={};const{useModels:n}=e("@mail/component_hooks/use_models"),{useRef:i}=owl,o={};return t.registerMessagingComponent=function(e){const{defaultProps:t,components:s,name:r,props:a}=e;if(o[r])throw new Error(`There already is a registered component with the name "${r}"`);const l=`@messaging ${r}`,c={[l]:class extends e{setup(){this.root=i("root"),n(),super.setup()}get className(){let e="";if(this.props.className&&(e+=this.props.className),this.props.classNameObj)for(const[t,n]of Object.entries(this.props.classNameObj))n&&(e+=" "+t);return e}get messaging(){return this.env.services.messaging.modelManager.messaging}toString(){return`component(${l}, props: ${Object.entries(this.props||{})})`}}}[l];c.components=Object.assign(Object.create(o),s),c.defaultProps={...t},c.props={className:{type:String,optional:!0},classNameObj:{type:Object,optional:!0},...a},o[r]=c},t.unregisterMessagingComponent=function(e){delete o[e.name]},t.getMessagingComponent=function(e){return o[e]},t})),odoo.define("@mail/utils/utils",(async function(e){"use strict";let t={};const{delay:n}=e("web.concurrency"),{unaccent:i}=e("web.utils"),o=new WeakMap;return Object.assign(t,{cleanSearchTerm:function(e){return i(e.toLowerCase())},isEventHandled:function(e,t){return!!o.get(e)&&o.get(e).includes(t)},markEventHandled:function(e,t){o.get(e)||o.set(e,[]),o.get(e).push(t)},nextTick:async function(){await n(0)}}),t})),odoo.define("@mail/js/emojis",(async function(e){"use strict";let t={};var n={};_.each({":)":"",":-)":"","=)":"",":]":"",":D":"",":-D":"","=D":"",xD:"",XD:"","x'D":"",";)":"",";-)":"","B)":"","8)":"","B-)":"","8-)":"",";p":"",";P":"",":p":"",":P":"",":-p":"",":-P":"","=P":"",xp:"",xP:"",o_o:"",":|":"",":-|":"",":/":"",":-/":"",":(":"",":@":"",":O":"",":-O":"",":o":"",":-o":"",":'o":"","3:(":"",">:(":"","3:)":"",">:)":"",":*":"",":-*":"","o:)":"",":'(":"",":'-(":"",':"(':"","<3":"","&lt;3":"",":heart":"","</3":"","&lt;/3":"",":heart_eyes":"",":turban":"",":+1":"",":-1":"",":ok":"",":poop":"",":no_see":"",":no_hear":"",":no_speak":"",":bug":"",":kitten":"",":bear":"",":snail":"",":boar":"",":clover":"",":sunflower":"",":fire":"",":sun":"",":partly_sunny:":"",":rainbow":"",":cloud":"",":zap":"",":star":"",":cookie":"",":pizza":"",":hamburger":"",":fries":"",":cake":"",":cake_part":"",":coffee":"",":banana":"",":sushi":"",":rice_ball":"",":beer":"",":wine":"",":cocktail":"",":tropical":"",":beers":"",":ghost":"",":skull":"",":et":"",":alien":"",":party":"",":trophy":"",":key":"",":pin":"",":postal_horn":"",":music":"",":trumpet":"",":guitar":"",":run":"",":bike":"",":soccer":"",":football":"",":8ball":"",":clapper":"",":microphone":"",":cheese":""},(function(e,t){n[e]?n[e].sources.push(t):n[e]={sources:[t],unicode:e,description:t}}));const i=t.emojis=_.values(n);return t[Symbol.for("default")]=i,t})),odoo.define("@mail/component_hooks/use_component_to_model",(async function(e){"use strict";let t={};const{clear:n}=e("@mail/model/model_field_command"),{onWillUpdateProps:i,useComponent:o}=owl;return t.useComponentToModel=function({fieldName:e}){const t=o();t.props.record.update({[e]:t}),i((i=>{const o=t.props.record,s=i.record;o.exists()&&o!==s&&o.update({[e]:n()}),s.update({[e]:t})}))},t})),odoo.define("@mail/component_hooks/use_models",(async function(e){"use strict";let t={};const{Listener:n}=e("@mail/model/model_listener"),{onRendered:i,onWillDestroy:o,onWillRender:s,useComponent:r}=owl;return t.useModels=function(){const e=r(),t=new n({isLocking:!1,name:`useModels() of ${e}`,onChange:()=>e.render()});s((()=>{e.env.services.messaging.modelManager.startListening(t)})),i((()=>{e.env.services.messaging.modelManager.stopListening(t)})),o((()=>{e.env.services.messaging.modelManager.removeListener(t)})),e.env.services.messaging.modelManager.messagingCreatedPromise.then((()=>{e.render()}))},t})),odoo.define("@mail/component_hooks/use_ref_to_model",(async function(e){"use strict";let t={};const{clear:n}=e("@mail/model/model_field_command"),{onWillUpdateProps:i,useComponent:o,useRef:s}=owl;return t.useRefToModel=function({fieldName:e,refName:t}){const r=o(),a=s(t);r.props.record.update({[e]:a}),i((t=>{const i=r.props.record,o=t.record;i.exists()&&i!==o&&i.update({[e]:n()}),o.update({[e]:a})}))},t})),odoo.define("@mail/component_hooks/use_refs",(async function(e){"use strict";let t={};const{useComponent:n}=owl;return t.useRefs=function(){const e=n();return function(){return e.__owl__.refs||{}}},t})),odoo.define("@mail/component_hooks/use_rendered_values",(async function(e){"use strict";let t={};const{Listener:n}=e("@mail/model/model_listener"),{onMounted:i,onPatched:o,onWillDestroy:s,onWillRender:r,useComponent:a}=owl;return t.useRenderedValues=function(e){const t=a();let l,c;const u=new n({name:`useRenderedValues() of ${t}`,onChange:()=>t.render()});function d(){c=l}return r((()=>{t.env.services.messaging.modelManager.startListening(u),l=e(),t.env.services.messaging.modelManager.stopListening(u)})),i(d),o(d),s((()=>t.env.services.messaging.modelManager.removeListener(u))),()=>c},t})),odoo.define("@mail/component_hooks/use_update",(async function(e){"use strict";let t={};const{Listener:n}=e("@mail/model/model_listener"),{onMounted:i,onPatched:o,onWillDestroy:s,useComponent:r}=owl;return t.useUpdate=function({func:e}){const t=r(),a=new n({isLocking:!1,name:`useUpdate() of ${t}`,onChange:()=>t.render()});function l(){t.env.services.messaging.modelManager.startListening(a),e(),t.env.services.messaging.modelManager.stopListening(a)}i(l),o(l),s((()=>{t.env.services.messaging.modelManager.removeListener(a)}))},t})),odoo.define("@mail/component_hooks/use_update_to_model",(async function(e){"use strict";let t={};const{useUpdate:n}=e("@mail/component_hooks/use_update"),{useComponent:i}=owl;return t.useUpdateToModel=function({methodName:e}){const t=i();n({func:()=>{t.props.record[e]()}})},t})),odoo.define("@mail/model/model_core",(async function(e){"use strict";let t={};const{makeDeferred:n}=e("@mail/utils/deferred"),i=t.registry=new Map,o=(t.IS_RECORD=Symbol("Record"),[]);function s(e,t){try{e()}catch(e){throw e.message=t+e.message,e}}function r(e,t){if(!i.has(e))throw new Error(`Cannot add fields to model "${e}": model must be registered before fields can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{m(i,n)}),`Cannot add field "${i}" to model "${e}": `),n.get("fields").set(i,o)}function a(e,t){if(!i.has(e))throw new Error(`Cannot add lifecycle hooks to model "${e}": model must be registered before lifecycle hooks can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{d(o),h(i),p("lifecycleHooks",i,n)}),`Cannot add lifecycle hook "${i}" to model "${e}": `),n.get("lifecycleHooks").set(i,o)}function l(e,t){if(!i.has(e))throw new Error(`Cannot add model methods to model "${e}": model must be registered before model methods can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{d(o),f(i,n)}),`Cannot add model method "${i}" to model "${e}": `),n.get("modelMethods").set(i,o)}function c(e,t){s((()=>{if(!i.has(e))throw new Error("model must be registered before onChanges can be added.");for(const e of t){if(!Object.prototype.hasOwnProperty.call(e,"dependencies"))throw new Error("at least one onChange definition lacks dependencies (the list of fields to be watched for changes).");if(!Object.prototype.hasOwnProperty.call(e,"methodName"))throw new Error("at least one onChange definition lacks a methodName (the name of the method to be called on change).");if(!Array.isArray(e.dependencies))throw new Error("onChange dependencies must be an array of strings.");if("string"!=typeof e.methodName)throw new Error("onChange methodName must be a string.");const t=["dependencies","methodName"];for(const n of Object.keys(e))if(!t.includes(n))throw new Error(`unknown key "${n}" in onChange definition. Allowed keys: ${t.join(", ")}.`);const n=[];for(const t of e.dependencies){if("string"!=typeof t)throw new Error("onChange dependencies must be an array of strings.");n.push(t.split("."))}e.dependencies=n}}),`Cannot add onChanges to model "${e}": `),i.get(e).get("onChanges").push(...t)}function u(e,t){if(!i.has(e))throw new Error(`Cannot add record methods to model "${e}": model must be registered before record methods can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{d(o),m(i,n)}),`Cannot add record method "${i}" to model "${e}": `),n.get("recordMethods").set(i,o)}function d(e){if("function"!=typeof e)throw new Error(`"${e}" must be a function`)}function h(e){const t=["_created","_willDelete"];if(!t.includes(e))throw new Error(`unsupported hook name. Possible values: ${t.join(", ")}.`)}function p(e,t,n){if(n.get(e).has(t))throw new Error(`"${t}" is already defined on "${e}".`)}function f(e,t){if(["modelGetters","modelMethods"].some((n=>t.get(n).has(e))))throw new Error("there is already a key with this name on the model.")}function m(e,t){if(["fields","recordGetters","recordMethods"].some((n=>t.get(n).has(e))))throw new Error("there is already a key with this name on the records.")}function g(e){const t=Object.create(null);for(const[n,o]of Object.entries(e.fields)){const s=i.get(e.name).get("fields").get(n);if(s)for(const[t,i]of Object.entries(o))switch(t){case"compute":if(!s.compute)throw new Error(`Cannot patch compute of field ${e.name}/${n}: the field is not a compute in the original definition.`);if("function"!=typeof i)throw new Error(`Cannot patch compute of field ${e.name}/${n}: the compute must be a function (found: "${typeof i}").`);const o=s.compute;s.compute=function(){return this._super=o,i.call(this)};break;case"sort":if(s.sort){if("function"!=typeof i)throw new Error(`Cannot patch sorting rules of field ${e.name}/${n}: the value of 'sort' must be a function to apply to the sorting rules array (found: "${typeof i}").`);s.sort=i.call({_super:s.sort})}else{if(!Array.isArray(i))throw new Error(`Cannot add sorting rules to field ${e.name}/${n}: sorting rules must be an array.`);s.sort=i}break;default:throw new Error(`Cannot patch field ${e.name}/${n}: unsupported field attribute "${t}".`)}else t[n]=o}r(e.name,t)}function v(e){const t=i.get(e.name).get("lifecycleHooks"),n=Object.create(null);for(const[i,o]of Object.entries(e.lifecycleHooks))if(t.has(i)){if("function"!=typeof o)throw new Error(`Cannot patch hook "${i}" on model ${e.name}: the hook handler must be a function (current type: "${typeof o}").`);const n=t.get(i);t.set(i,(function(){return this._super=n,o.call(this)}))}else n[i]=o;a(e.name,n)}function b(e){const t=i.get(e.name).get("modelMethods"),n=Object.create(null);for(const[i,o]of Object.entries(e.modelMethods))if(t.has(i)){if("function"!=typeof o)throw new Error(`Cannot patch model method "${i}" on model ${e.name}: the method must be a function (current type: "${typeof o}").`);const n=t.get(i);t.set(i,(function(...e){return this._super=n,o.call(this,...e)}))}else n[i]=o;l(e.name,n)}function y(e){const t=i.get(e.name).get("recordMethods"),n=Object.create(null);for(const[i,o]of Object.entries(e.recordMethods))if(t.has(i)){if("function"!=typeof o)throw new Error(`Cannot patch record method "${i}" on model ${e.name}: the method must be a function (current type: "${typeof o}").`);const n=t.get(i);t.set(i,(function(...e){return this._super=n,o.call(this,...e)}))}else n[i]=o;u(e.name,n)}t.registerModel=function({fields:e,identifyingMode:t="and",lifecycleHooks:n,modelGetters:o,modelMethods:h,name:p,onChanges:g,recordGetters:v,recordMethods:b}){if(!p)throw new Error("Model is lacking a name.");if(i.has(p))throw new Error(`Cannot register model "${p}": model has already been registered.`);const y=["name","identifyingMode","lifecycleHooks","modelMethods","modelGetters","recordMethods","recordGetters","fields","onChanges"],_=Object.keys(arguments[0]).filter((e=>!y.includes(e)));if(_.length>0)throw new Error(`Cannot register model "${p}": model definition contains unknown key(s): ${_.join(", ")}`);i.set(p,new Map([["name",p],["identifyingMode",t],["lifecycleHooks",new Map],["modelMethods",new Map],["modelGetters",new Map],["recordMethods",new Map],["recordGetters",new Map],["fields",new Map],["onChanges",[]]])),n&&a(p,n);h&&l(p,h);o&&function(e,t){if(!i.has(e))throw new Error(`Cannot add record getters to model "${e}": model must be registered before record getters can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{d(o),f(i,n)}),`Cannot add model getter "${i}" to model "${e}": `),n.get("modelGetters").set(i,o)}(p,o);b&&u(p,b);v&&function(e,t){if(!i.has(e))throw new Error(`Cannot add record getters to model "${e}": model must be registered before record getters can be added.`);const n=i.get(e);for(const[i,o]of Object.entries(t))s((()=>{d(o),m(i,n)}),`Cannot add record getter "${i}" to model "${e}": `),n.get("recordGetters").set(i,o)}(p,v);e&&r(p,e);g&&c(p,g)},t.registerPatch=function({fields:e,lifecycleHooks:t,modelMethods:n,name:i,onChanges:s,recordMethods:r}){if(!i)throw new Error("Patch is lacking the name of the model to be patched.");const a=["name","lifecycleHooks","modelMethods","recordMethods","fields","onChanges"],l=Object.keys(arguments[0]).filter((e=>!a.includes(e)));if(l.length>0)throw new Error(`Error while registering patch for model "${i}": patch definition contains unsupported key(s): ${l.join(", ")}`);o.push({name:i,lifecycleHooks:t||{},modelMethods:n||{},recordMethods:r||{},fields:e||{},onChanges:s||[]})};const _=t.patchesAppliedPromise=n();return async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("load",e)})),await new Promise((e=>setTimeout(e)));for(const e of o){if(!i.get(e.name))throw new Error(`Cannot patch model "${e.name}": there is no model registered under this name.`);v(e),b(e),y(e),g(e),c(e.name,e.onChanges)}_.resolve()}(),t})),odoo.define("@mail/model/model_field",(async function(e){"use strict";let t={};const{clear:n,FieldCommand:i,link:o,unlink:s,unlinkAll:r}=e("@mail/model/model_field_command"),{IS_RECORD:a}=e("@mail/model/model_core"),l=t.ModelField=class e{constructor({compute:e,default:t,fieldName:n,fieldType:i,identifying:o=!1,inverse:s,isCausal:r=!1,model:a,readonly:l=!1,related:c,relationType:u,required:d=!1,sort:h,to:p}={}){if(this.compute=e,this.default=t,this.fieldName=n,this.fieldType=i,this.identifying=o,this.inverse=s,this.isCausal=r,this.model=a,this.readonly=l,this.related=c,this.relationType=u,this.required=d,this.sort,this.sortedFieldSplittedPaths,this.sumContributions=[],this.to=p,this.identifying&&(this.readonly=!0,"and"===this.model.identifyingMode&&(this.required=!0)),this.related&&(this.readonly=!0),this.compute&&(this.readonly=!0),h){this.sort=[];const e=new Set;for(const[t,n]of h)e.add(n),this.sort.push([t,n.split(".")]);this.sortedFieldSplittedPaths=[...e].map((e=>e.split(".")))}}static attr(e){return Object.assign({fieldType:"attribute"},e)}static many(t,n){return e._relation(t,Object.assign({},n,{relationType:"many"}))}static one(t,n){return e._relation(t,Object.assign({},n,{relationType:"one"}))}clear(e,t){let n=!1;return"relation"!==this.fieldType||(this.parseAndExecuteCommands(e,r(),t)&&(n=!0),this.default)?(this.parseAndExecuteCommands(e,this.default,t)&&(n=!0),n):n}computeRelated(e){const[t,i]=this.related.split(".");if("many"===this.model.__fieldMap.get(t).relationType){const n=[];for(const o of e[t]){const e=o[i];if(e)if(e instanceof Array)for(const t of e)n.push(t);else n.push(e)}return this.fieldType,n}const o=e[t];if(o){const e=o[i];return void 0===e?n():(this.fieldType,e)}return n()}convertToFieldCommandList(e){return e instanceof i?[e]:e instanceof Array&&e[0]instanceof i?e:"relation"===this.fieldType?e instanceof Array&&e[0]instanceof Array&&["clear","insert","insert-and-replace","insert-and-unlink","link","replace","unlink","unlink-all"].includes(e[0][0])?e.map((([e,t])=>new i(e,t))):e instanceof Array&&e[0]&&!e[0][a]?[new i("insert-and-replace",e)]:e instanceof Array&&e[0]||e[a]?[new i("replace",e)]:[new i("insert-and-replace",e)]:[new i("set",e)]}decrement(e,t){const n=this.read(e);return this._setAttribute(e,n-t)}get(e){if("attribute"===this.fieldType)return this.read(e);if("relation"===this.fieldType)return"one"===this.relationType?this.read(e):[...this.read(e)];throw new Error(`cannot get field with unsupported type ${this.fieldType}.`)}increment(e,t){const n=this.read(e);return this._setAttribute(e,n+t)}parseAndExecuteCommands(e,t,n){const i=this.convertToFieldCommandList(t);let o=!1;for(const t of i){const i=t.name,s=t.value;if("attribute"===this.fieldType)switch(i){case"clear":this.clear(e,n)&&(o=!0);break;case"decrement":this.decrement(e,s)&&(o=!0);break;case"increment":this.increment(e,s)&&(o=!0);break;case"set":this._setAttribute(e,s)&&(o=!0);break;default:throw new Error(`Field "${this}" (${this.fieldType} type) does not support command "${i}"`)}else if("relation"===this.fieldType)switch(i){case"clear":this.clear(e,n)&&(o=!0);break;case"insert":this._setRelationInsert(e,s,n)&&(o=!0);break;case"insert-and-replace":this._setRelationInsertAndReplace(e,s,n)&&(o=!0);break;case"insert-and-unlink":this._setRelationInsertAndUnlink(e,s,n)&&(o=!0);break;case"link":this._setRelationLink(e,s,n)&&(o=!0);break;case"replace":this._setRelationReplace(e,s,n)&&(o=!0);break;case"unlink":this._setRelationUnlink(e,s,n)&&(o=!0);break;case"unlink-all":this._setRelationUnlink(e,this.get(e),n)&&(o=!0);break;default:throw new Error(`Field "${this}" (${this.fieldType} type) does not support command "${i}"`)}}return o}read(e){return e.__values.get(this.fieldName)}toString(){return`${this.model}/${this.fieldName}`}static _relation(e,t){return Object.assign({fieldType:"relation",to:e},t)}_convertX2ManyValue(e,{hasToVerify:t=!0}={}){if("function"==typeof e[Symbol.iterator]){if(t)for(const t of e)this._verifyRelationalValue(t);return e}return t&&this._verifyRelationalValue(e),[e]}_insertOtherRecord(e,t,n){const i=e.models[this.to],s=i.__fieldMap.get(this.inverse),r="function"==typeof t[Symbol.iterator],a=r?t:[t];for(const t of a)"one"===s.relationType?t[this.inverse]=e:t[this.inverse]=o(e);const l=e.modelManager._insert(i,a,n);return r?l:l[0]}_setAttribute(e,t){return this.read(e)!==t&&(e.__values.set(this.fieldName,t),!0)}_setRelationInsert(e,t,n){const i=this._insertOtherRecord(e,t,n);return this._setRelationLink(e,i,n)}_setRelationInsertAndReplace(e,t,n){const i=this._insertOtherRecord(e,t,n);return this._setRelationReplace(e,i,n)}_setRelationInsertAndUnlink(e,t,n){const i=this._insertOtherRecord(e,t,n);return this._setRelationUnlink(e,i,n)}_setRelationLink(e,t,n){switch(this.relationType){case"many":return this._setRelationLinkX2Many(e,t,n);case"one":return this._setRelationLinkX2One(e,t,n)}}_setRelationLinkX2Many(e,t,{hasToUpdateInverse:n=!0}={}){const i=e.modelManager.isDebug,s=this._convertX2ManyValue(t,{hasToVerify:i}),r=this.read(e);let a=!1;for(const t of s)r.has(t)||(a=!0,r.add(t),n&&e.modelManager._update(t,{[this.inverse]:o(e)},{allowWriteReadonly:!0,hasToUpdateInverse:!1}));return a}_setRelationLinkX2One(e,t,{hasToUpdateInverse:n=!0}={}){e.modelManager.isDebug&&this._verifyRelationalValue(t);return this.read(e)!==t&&(this._setRelationUnlinkX2One(e,{hasToUpdateInverse:!0}),e.__values.set(this.fieldName,t),n&&e.modelManager._update(t,{[this.inverse]:o(e)},{allowWriteReadonly:!0,hasToUpdateInverse:!1}),!0)}_setRelationReplace(e,t,n){if("one"===this.relationType)return this._setRelationLinkX2One(e,t,n);let i=!1,o=!1;const s=this.read(e),r=[...s],a=e.modelManager.isDebug,l=[...this._convertX2ManyValue(t,{hasToVerify:a})],c=new Set(l),u=[];for(let e=0;e<l.length;e++){const t=l[e];s.has(t)||u.push(t),r[e]!==t&&(o=!0)}this._setRelationLinkX2Many(e,u,n)&&(i=!0);const d=[];for(let e=0;e<r.length;e++){const t=r[e];c.has(t)||d.push(t),l[e]!==t&&(o=!0)}if(this._setRelationUnlinkX2Many(e,d,n)&&(i=!0),o){s.clear();for(const e of l)s.add(e);i=!0}return i}_setRelationUnlink(e,t,n){switch(this.relationType){case"many":return this._setRelationUnlinkX2Many(e,t,n);case"one":return this._setRelationUnlinkX2One(e,n)}}_setRelationUnlinkX2Many(e,t,{hasToUpdateInverse:n=!0}={}){const i=this._convertX2ManyValue(t,{hasToVerify:!1}),o=this.read(e);let r=!1;for(const t of i){if(o.delete(t)&&(r=!0,n)){if(!t.exists())continue;this.isCausal?e.modelManager._delete(t):e.modelManager._update(t,{[this.inverse]:s(e)},{allowWriteReadonly:!0,hasToUpdateInverse:!1})}}return r}_setRelationUnlinkX2One(e,{hasToUpdateInverse:t=!0}={}){const n=this.read(e);if(!n)return!1;if(e.__values.set(this.fieldName,void 0),t){if(!n.exists())return;this.isCausal?e.modelManager._delete(n):e.modelManager._update(n,{[this.inverse]:s(e)},{allowWriteReadonly:!0,hasToUpdateInverse:!1})}return!0}_verifyRelationalValue(e){if(!e)throw Error("record is undefined. Did you try to link() or insert() empty value? Considering clear() instead.");if(!e[a])throw Error(`${e} is not a record. Did you try to use link() instead of insert() with data?`);const t=e.modelManager.models[this.to];if(!t.__records.has(e)){for(const n of Object.values(e.models))if(n.prototype instanceof t&&n.__records.has(e))return;throw Error(`Record ${e} is not valid for relational field ${this.fieldName}.`)}}};t.attr=l.attr,t.many=l.many,t.one=l.one;return t})),odoo.define("@mail/model/model_field_command",(async function(e){"use strict";let t={};class n{constructor(e,t){this._name=e,this._value=t}get name(){return this._name}get value(){return this._value}}return t.insertAndUnlink=function(e={}){return new n("insert-and-unlink",e)},Object.assign(t,{FieldCommand:n,clear:function(){return new n("clear")},create:function(e){return new n("create",e)},decrement:function(e=1){return new n("decrement",e)},increment:function(e=1){return new n("increment",e)},insert:function(e){return new n("insert",e)},link:function(e){return new n("link",e)},set:function(e){return new n("set",e)},unlink:function(e){return new n("unlink",e)},unlinkAll:function(){return new n("unlink-all")}}),t})),odoo.define("@mail/model/model_field_relation_set",(async function(e){"use strict";let t={};const{decrement:n,increment:i}=e("@mail/model/model_field_command"),{Listener:o}=e("@mail/model/model_listener"),{followRelations:s}=e("@mail/model/model_utils"),{cleanSearchTerm:r}=e("@mail/utils/utils");t.RelationSet=class{constructor(e,t){if(this.record=e,this.field=t,this.set=new Set,this.field.sort&&(this.sortArray=new Array,this.sortListenerByValue=new Map),this.field.sumContributions.length>0){this.sumByValueByField=new Map,this.sumListenerByValueByField=new Map;for(const{to:e}of this.field.sumContributions)this.sumByValueByField.set(e,new Map),this.sumListenerByValueByField.set(e,new Map)}}get size(){return this.set.size}add(e){if(!this.set.has(e)){if(this.set.add(e),this.field.sort){const t=this.field.sort,n=(e,n)=>{for(const[i,o]of t){const t=s(e,o),a=s(n,o);switch(i){case"truthy-first":if(t===a)break;if(!t)return 1;if(!a)return-1;break;case"falsy-first":if(t===a)break;if(!t)return-1;if(!a)return 1;break;case"case-insensitive-asc":{if("string"!=typeof t||"string"!=typeof a)break;const e=r(t),n=r(a);if(e===n)break;return e<n?-1:1}case"smaller-first":if("number"!=typeof t||"number"!=typeof a)break;if(t===a)break;return t-a;case"greater-first":if("number"!=typeof t||"number"!=typeof a)break;if(t===a)break;return a-t;case"most-recent-first":if(!(t instanceof Date&&a instanceof Date))break;if(t===a)break;return a-t;default:throw Error(`sort compare method "${i}" is not supported.`)}}return 0},i=(t,o)=>{if(t===o)return o;const s=Math.floor((t+o)/2),r=n(this.sortArray[s],e);return r>0?i(t,s):r<0?i(s+1,o):s};this.sortArray.splice(i(0,this.sortArray.length),0,e);const a=new o({isPartOfUpdateCycle:!0,name:`sort of ${e} in ${this.field} of ${this.record}`,onChange:t=>{this.record.modelManager.startListening(a);for(const t of this.field.sortedFieldSplittedPaths)s(e,t);this.record.modelManager.stopListening(a),"initial call"!==t.reason&&this.sortArray.sort(n),this.record.modelManager._markRecordFieldAsChanged(this.record,this.field)}});this.sortListenerByValue.set(e,a),a.onChange({reason:"initial call"})}for(const{from:t,to:s}of this.field.sumContributions){this.sumByValueByField.get(s).set(e,0);const r=new o({isPartOfUpdateCycle:!0,name:`sum of field(${s}) of ${this.record} from field(${t}) of ${e} through relation ${this.field}`,onChange:o=>{this.record.modelManager.startListening(r);const a=e[t];this.record.modelManager.stopListening(r);const l=this.sumByValueByField.get(s).get(e);this.sumByValueByField.get(s).set(e,a),this.record.modelManager._update(this.record,{[s]:[n(l),i(a)]},{allowWriteReadonly:!0})}});this.sumListenerByValueByField.get(s).set(e,r),r.onChange({reason:"initial call"})}}}clear(){for(const e of this.set)this.delete(e)}delete(e){if(!this.set.delete(e))return!1;if(this.field.sort){const t=this.sortArray.indexOf(e);this.sortArray.splice(t,1);const n=this.sortListenerByValue.get(e);this.sortListenerByValue.delete(n),this.record.modelManager.removeListener(n)}for(const{to:t}of this.field.sumContributions){const i=this.sumByValueByField.get(t).get(e);this.sumByValueByField.get(t).delete(e),this.record.modelManager._update(this.record,{[t]:n(i)},{allowWriteReadonly:!0});const o=this.sumListenerByValueByField.get(t).get(e);this.sumListenerByValueByField.get(t).delete(e),this.record.modelManager.removeListener(o)}return!0}has(e){return this.set.has(e)}[Symbol.iterator](){return this.field.sort?this.sortArray[Symbol.iterator]():this.set[Symbol.iterator]()}};return t})),odoo.define("@mail/model/model_index_and",(async function(e){"use strict";let t={};t.ModelIndexAnd=class{constructor(e){this.model=e,this.recordsByValuesTree=new Map,this.valuesByRecords=new Map,this.singleton=void 0}addRecord(e,t){if(0===this.model.__identifyingFieldNames.size)return void(this.singleton=e);const n=[];let i=this.recordsByValuesTree;const{length:o,[o-1]:s}=[...this.model.__identifyingFieldNames];for(const o of this.model.__identifyingFieldNames){const r=t[o];if(void 0===r)throw new Error(`Identifying field "${o}" is lacking a value on ${this.model} with 'and' identifying mode`);n.push(r),i.has(r)||i.set(r,o===s?e:new Map),i=i.get(r)}this.valuesByRecords.set(e,n)}findRecord(e){if(0===this.model.__identifyingFieldNames.size)return this.singleton;let t=this.recordsByValuesTree;for(const n of this.model.__identifyingFieldNames){const i=e[n];if(void 0===i)throw new Error(`Identifying field "${n}" is lacking a value on ${this.model} with 'and' identifying mode`);if(t=t.get(i),!t)return}return t}removeRecord(e){if(0===this.model.__identifyingFieldNames.size)return void(this.singleton=void 0);const t=this.valuesByRecords.get(e);let n=this.recordsByValuesTree;for(let e=0;e<t.length;e++){const i=t[e];if(e===t.length-1){n.delete(i);break}n=n.get(i)}this.valuesByRecords.delete(e)}};return t})),odoo.define("@mail/model/model_index_xor",(async function(e){"use strict";let t={};t.ModelIndexXor=class{constructor(e){this.model=e,this.recordsByValuesByFields=new Map,this.fieldNameAndValueByRecords=new Map}addRecord(e,t){const[n,i]=[...this.model.__identifyingFieldNames].reduce((([e,n],i)=>{const o=t[i];if(void 0===o)return[e,n];if(e)throw new Error(`Identifying field on ${this.model} with 'xor' identifying mode should have only one of the conditional values given in data. Currently have both "${e}" and "${i}".`);return[i,o]}),[void 0,void 0]);this.recordsByValuesByFields.has(n)||this.recordsByValuesByFields.set(n,new Map),this.recordsByValuesByFields.get(n).set(i,e),this.fieldNameAndValueByRecords.set(e,[n,i])}findRecord(e){const[t,n]=[...this.model.__identifyingFieldNames].reduce((([t,n],i)=>{const o=e[i];if(void 0===o)return[t,n];if(t)throw new Error(`Identifying field on ${this.model} with 'xor' identifying mode should have only one of the conditional values given in data. Currently have both "${t}" and "${i}".`);return[i,o]}),[void 0,void 0]);return this.recordsByValuesByFields.has(t)||this.recordsByValuesByFields.set(t,new Map),this.recordsByValuesByFields.get(t).get(n)}removeRecord(e){const[t,n]=this.fieldNameAndValueByRecords.get(e);this.recordsByValuesByFields.get(t).delete(n),this.fieldNameAndValueByRecords.delete(e)}};return t})),odoo.define("@mail/model/model_listener",(async function(e){"use strict";let t={};t.Listener=class{constructor({name:e,onChange:t,isLocking:n=!0,isPartOfUpdateCycle:i=!1}){this.isLocking=n,this.isPartOfUpdateCycle=i,this.name=e,this.onChange=t,this.lastObservedRecords=new Set,this.lastObservedFieldsByRecord=new Map,this.lastObservedAllByModel=new Set}toString(){return`listener(${this.name})`}};return t})),odoo.define("@mail/model/model_manager",(async function(e){"use strict";let t={};const{IS_RECORD:n,patchesAppliedPromise:i,registry:o}=e("@mail/model/model_core"),{ModelField:s}=e("@mail/model/model_field"),{ModelIndexAnd:r}=e("@mail/model/model_index_and"),{ModelIndexXor:a}=e("@mail/model/model_index_xor"),{FieldCommand:l,unlinkAll:c}=e("@mail/model/model_field_command"),{RelationSet:u}=e("@mail/model/model_field_relation_set"),{Listener:d}=e("@mail/model/model_listener"),{followRelations:h}=e("@mail/model/model_utils"),{makeDeferred:p}=e("@mail/utils/deferred");t.ModelManager=class{constructor(e){this.env=e,this.messagingCreatedPromise=p(),this.messagingInitializedPromise=p(),this._createdRecordsComputes=new Set,this._createdRecordsCreated=new Set,this._createdRecordsOnChange=new Set,this._listeners=new Set,this._listenersObservingAllByModel=new Map,this._listenersToNotifyAfterUpdateCycle=new Map,this._listenersToNotifyInUpdateCycle=new Map,this.models={},this._updatedRecordsCheckRequired=new Set,this.isDebug=!1}async start(e){await i,this._generateModels(),this.models.Messaging.insert(e),this.messagingCreatedPromise.resolve(),await this.messaging.start(),this.messagingInitializedPromise.resolve()}all(e,t){for(const t of this._listeners){t.lastObservedAllByModel.add(e);const n=this._listenersObservingAllByModel.get(e),i={listener:t,reason:this.isDebug&&`all() - ${e}`};n.has(t)?n.get(t).push(i):n.set(t,[i])}const n=[...e.__records];return t?n.filter(t):n}delete(e){this._delete(e),this._flushUpdateCycle()}destroy(){this.messaging.delete();for(const e of Object.values(this.models))delete e.__fieldList,delete e.__fieldMap,delete e.__identifyingFieldNames,delete e.__records,delete e.__requiredFieldsList,delete e.fields,delete e.modelManager}exists(e,t){return e.__records.has(t)}findFromIdentifyingData(e,t={}){for(const n of e.__identifyingFieldNames){const i=e.__fieldMap.get(n);void 0===t[i.fieldName]&&void 0!==i.default&&(t[i.fieldName]=i.default)}this._preInsertIdentifyingFieldsFromData(e,t);const n=e.__recordsIndex.findRecord(t);if(n){for(const e of this._listeners){e.lastObservedRecords.add(n);const t=n.__listenersObservingRecord,i={listener:e,reason:this.isDebug&&`findFromIdentifyingData record - ${n}`};t.has(e)?t.get(e).push(i):t.set(e,[i])}return n}}async getMessaging(){return await this.messagingCreatedPromise,await this.messagingInitializedPromise,this.messaging}insert(e,t){const n="function"==typeof t[Symbol.iterator],i=this._insert(e,n?t:[t]);return this._flushUpdateCycle(),n?i:i[0]}get messaging(){if(this.models.Messaging)return this.models.Messaging.findFromIdentifyingData({})}removeListener(e){if(e){this._listeners.delete(e),this._listenersToNotifyInUpdateCycle.delete(e),this._listenersToNotifyAfterUpdateCycle.delete(e);for(const t of e.lastObservedRecords){if(!t.exists())continue;t.__listenersObservingRecord.delete(e);const n=t.__listenersObservingFieldsOfRecord;for(const i of e.lastObservedFieldsByRecord.get(t)||[])n.get(i).delete(e)}for(const t of e.lastObservedAllByModel)this._listenersObservingAllByModel.get(t).delete(e);e.lastObservedRecords.clear(),e.lastObservedFieldsByRecord.clear(),e.lastObservedAllByModel.clear()}}startListening(e){this.removeListener(e),this._listeners.add(e)}stopListening(e){this._listeners.delete(e)}update(e,t){const n=this._update(e,t);return this._flushUpdateCycle(),n}_addDefaultData(e,t={}){const n={...t};for(const t of e.__fieldList)void 0===n[t.fieldName]&&void 0!==t.default&&(n[t.fieldName]=t.default);return n}_applyModelDefinition(e){const t=o.get(e.name);Object.assign(e,Object.fromEntries(t.get("modelMethods"))),Object.assign(e.prototype,Object.fromEntries(t.get("recordMethods")));for(const[n,i]of t.get("modelGetters"))Object.defineProperty(e,n,{get:i});for(const[n,i]of t.get("recordGetters"))Object.defineProperty(e.prototype,n,{get:i});e.modelManager=this,e.fields={},e.identifyingMode=t.get("identifyingMode"),e.__records=new Set,e.__recordCount=0,e.__recordsIndex=(()=>{switch(e.identifyingMode){case"and":return new r(e);case"xor":return new a(e)}})(),this._listenersObservingAllByModel.set(e,new Map),this.models[e.name]=e}_checkDeclaredFieldsOnModels(){for(const e of Object.values(this.models))for(const[t,n]of o.get(e.name).get("fields")){if(t in e.prototype)throw new Error(`Field ${e}/${t} has a forbidden name.`);if(!["attribute","relation"].includes(n.fieldType))throw new Error(`Field ${e}/${t} has unsupported type "${n.fieldType}".`);if("attribute"===n.fieldType){const i=Object.keys(n).filter((e=>!["compute","default","fieldType","identifying","readonly","related","required","sum"].includes(e)));if(i.length>0)throw new Error(`Field ${e}/${t} contains some invalid keys: "${i.join(", ")}".`)}if("relation"===n.fieldType){const i=Object.keys(n).filter((e=>!["compute","default","fieldType","identifying","inverse","isCausal","readonly","related","relationType","required","sort","to"].includes(e)));if(i.length>0)throw new Error(`Field ${e}/${t} contains some invalid keys: "${i.join(", ")}".`);if(!this.models[n.to])throw new Error(`Relational field ${e}/${t} targets to unknown model name "${n.to}".`);if(n.required&&"one"!==n.relationType)throw new Error(`Relational field ${e}/${t} has "required" true with a relation of type "${n.relationType}" but "required" is only supported for "one".`);if(n.sort&&"many"!==n.relationType)throw new Error(`Relational field "${e}/${t}" has "sort" with a relation of type "${n.relationType}" but "sort" is only supported for "many".`)}if(n.identifying){if("readonly"in n)throw new Error(`Identifying field ${e}/${t} has unnecessary "readonly" attribute (readonly is implicit for identifying fields).`);if("required"in n&&"and"===e.identifyingMode)throw new Error(`Identifying field ${e}/${t} has unnecessary "required" attribute (required is implicit for AND identifying fields).`)}if(n.compute){if("function"!=typeof n.compute)throw new Error(`Property "compute" of field ${e}/${t} must be a string (instance method name) or a function (the actual compute).`);if("readonly"in n)throw new Error(`Computed field ${e}/${t} has unnecessary "readonly" attribute (readonly is implicit for computed fields).`)}if(n.related){if(n.compute)throw new Error(`field ${e}/${t} cannot be a related and compute field at the same time.`);if("string"!=typeof n.related)throw new Error(`Property "related" of field ${e}/${t} has invalid format.`);const[i,s,r]=n.related.split(".");if(!i||!s||r)throw new Error(`Property "related" of field ${e}/${t} has invalid format.`);let a,l=e;for(;this.models[l.name]&&!a;)a=o.get(l.name).get("fields").get(i),l=l.__proto__;if(!a)throw new Error(`Related field ${e}/${t} relates to unknown relation name "${i}".`);if("relation"!==a.fieldType)throw new Error(`Related field ${e}/${t} relates to non-relational field "${i}".`);let c;for(l=this.models[a.to];this.models[l.name]&&!c;)c=o.get(l.name).get("fields").get(s),l=l.__proto__;if(!c)throw new Error(`Related field ${e}/${t} relates to unknown related model field "${s}".`);if(c.fieldType!==n.fieldType)throw new Error(`Related field ${e}/${t} has mismatched type with its related model field.`);if("relation"===c.fieldType&&c.to!==n.to)throw new Error(`Related field ${e}/${t} has mismatched target model name with its related model field.`);if("readonly"in n)throw new Error(`Related field ${e}/${t} has unnecessary "readonly" attribute (readonly is implicit for related fields).`)}}}_checkOnChangesOnModels(){for(const e of Object.values(this.models))for(const{dependencies:t,methodName:n}of o.get(e.name).get("onChanges"))for(const i of t){let t,o=e;for(const e of i){if(!o)throw new Error(`OnChange '${n}' defines a dependency with path '${i.join(".")}', but this dependency does not resolve: ${t} is not a relational field, therefore there is no relation to follow.`);if(t=o.__fieldMap.get(e),!t)throw new Error(`OnChange '${n}' defines a dependency with path '${i.join(".")}', but this path does not resolve: ${o}/${e} does not exist.`);o=t.to?this.models[t.to]:void 0}}}_checkProcessedFieldsOnModels(){for(const e of Object.values(this.models)){if(!["and","xor"].includes(e.identifyingMode))throw new Error(`Unsupported identifying mode "${e.identifyingMode}" on ${e}. Must be one of 'and' or 'xor'.`);for(const t of e.__fieldList){const n=t.fieldName;if(!["attribute","relation"].includes(t.fieldType))throw new Error(`${t} has unsupported type "${t.fieldType}".`);if(t.compute&&t.related)throw new Error(`${t} cannot be a related and compute field at the same time.`);if("attribute"===t.fieldType)continue;if(!t.relationType)throw new Error(`${t} must define a relation type in "relationType".`);if(!["many","one"].includes(t.relationType))throw new Error(`${t} has invalid relation type "${t.relationType}".`);if(!t.inverse)throw new Error(`${t} must define an inverse relation name in "inverse".`);if(!t.to)throw new Error(`${t} must define a model name in "to" (1st positional parameter of relation field helpers).`);const i=this.models[t.to];if(!i)throw new Error(`${t} defines a relation to model ${t.to}, but there is no model registered with this name.`);const o=i.__fieldMap.get(t.inverse);if(!o)throw new Error(`${t} defines its inverse as field ${i}/${t.inverse}, but it does not exist.`);if(o.inverse!==n)throw new Error(`The name of ${t} does not match with the name defined in its inverse ${o}.`);if(![e.name,"Record"].includes(o.to))throw new Error(`${t} has its inverse ${o} referring to an invalid model (${o.to}).`);if(t.sort)for(const e of t.sortedFieldSplittedPaths){let n=t;for(const i of e){if(!n.to)throw new Error(`Field ${t} defines a sort with path '${e.join(".")}', but this path does not resolve: ${n} is not a relational field, therefore there is no relation to follow.`);if(!this.models[n.to].__fieldMap.has(i))throw new Error(`Field ${t} defines a sort with path '${e.join(".")}', but this path does not resolve: ${this.models[n.to]}/${i} does not exist.`);n=this.models[n.to].__fieldMap.get(i)}}}for(const t of e.__identifyingFieldNames){const n=e.__fieldMap.get(t);if(!n)throw new Error(`Identifying field "${e}/${t}" is not a field on ${e}.`);if(n.to){if("one"!==n.relationType)throw new Error(`Identifying field "${e}/${t}" has a relation of type "${n.relationType}" but identifying field is only supported for "one".`);const i=this.models[n.to].__fieldMap.get(n.inverse);if(!i.isCausal)throw new Error(`Identifying field "${e}/${t}" has an inverse "${i}" not declared as "isCausal".`)}}}}_create(e){const t=`${e.name}_${++e.__recordCount}`,i=new e;Object.assign(i,{localId:t,__listeners:[],__listenersObservingRecord:new Map,__listenersObservingFieldsOfRecord:new Map,__values:new Map,[n]:!0});const s=owl.markRaw(this.isDebug?new Proxy(i,{get:function(t,n){return!e.__fieldMap||e.__fieldMap.has(n)||["_super","then","localId"].includes(n)||"symbol"==typeof n||n in t||console.warn(`non-field read "${n}" on ${t}`),t[n]}}):i);this.isDebug&&(s.__proxifiedRecord=s);for(const t of e.__fieldList)"relation"===t.fieldType&&"many"===t.relationType&&s.__values.set(t.fieldName,new u(s,t));e.__records.add(s);const r=o.get(e.name).get("recordMethods");for(const e of r.keys())s[e]=s[e].bind(s);this._createdRecordsComputes.add(s),this._createdRecordsCreated.add(s),this._createdRecordsOnChange.add(s);for(const[t,n]of this._listenersObservingAllByModel.get(e))this._markListenerToNotify(t,{listener:t,reason:this.isDebug&&`_create: allByModel - ${s}`,infoList:n});return s}_delete(e){this.isDebug&&this._ensureNoLockingListener();const t=e.constructor;if(!e.exists())throw Error(`Cannot delete already deleted record ${e}.`);const n=o.get(t.name).get("lifecycleHooks");n.has("_willDelete")&&n.get("_willDelete").call(e);for(const t of e.__listeners)this.removeListener(t);for(const n of t.__fieldList)if("relation"===n.fieldType&&(n.parseAndExecuteCommands(e,c(),{allowWriteReadonly:!0}),!e.exists()))return;t.__recordsIndex.removeRecord(e),this._createdRecordsComputes.delete(e),this._createdRecordsCreated.delete(e),this._createdRecordsOnChange.delete(e),this._updatedRecordsCheckRequired.delete(e);for(const[t,n]of e.__listenersObservingRecord)this._markListenerToNotify(t,{listener:t,reason:this.isDebug&&`_delete: record - ${e}`,infoList:n});for(const[n,i]of this._listenersObservingAllByModel.get(t))this._markListenerToNotify(n,{listener:n,reason:this.isDebug&&`_delete: allByModel - ${e}`,infoList:i});delete e.__values,delete e.__listeners,delete e.__listenersObservingRecord,delete e.__listenersObservingFieldsOfRecord,t.__records.delete(e),delete e.localId}_ensureNoLockingListener(){for(const e of this._listeners)if(e.isLocking)throw Error(`Model manager locked by ${e}. It is not allowed to insert/update/delete from inside a lock.`)}_executeCreatedRecordsComputes(){const e=this._createdRecordsComputes.size>0;for(const e of this._createdRecordsComputes){if(this._createdRecordsComputes.delete(e),!e.exists())throw Error(`Cannot start compute/related for already deleted ${e}.`);const t=[];for(const n of e.constructor.__fieldList){if(n.compute){const i=new d({isPartOfUpdateCycle:!0,name:`compute ${n} of ${e}`,onChange:t=>{this.startListening(i);const o=n.compute.call(e);this.stopListening(i),this._update(e,{[n.fieldName]:o},{allowWriteReadonly:!0})}});t.push(i)}if(n.related){const i=new d({isPartOfUpdateCycle:!0,name:`related ${n} of ${e}`,onChange:t=>{this.startListening(i);const o=n.computeRelated(e);this.stopListening(i),this._update(e,{[n.fieldName]:o},{allowWriteReadonly:!0})}});t.push(i)}}e.__listeners.push(...t);for(const n of t)n.onChange({listener:n,reason:this.isDebug&&`first call on ${e}`})}e&&this._flushUpdateCycle()}_executeCreatedRecordsCreated(){for(const e of this._createdRecordsCreated){if(this._createdRecordsCreated.delete(e),!e.exists())throw Error(`Cannot call _created for already deleted ${e}.`);const t=o.get(e.constructor.name).get("lifecycleHooks");t.has("_created")&&t.get("_created").call(e)}}_executeCreatedRecordsOnChange(){for(const e of this._createdRecordsOnChange){if(this._createdRecordsOnChange.delete(e),!e.exists())throw Error(`Cannot call onChange for already deleted ${e}.`);for(const t of o.get(e.constructor.name).get("onChanges")){const n=new d({name:`${t} of ${e}`,onChange:i=>{this.startListening(n);for(const n of t.dependencies)h(e,n);this.stopListening(n),e[t.methodName]()}});if(e.__listeners.push(n),n.onChange({listener:n,reason:this.isDebug&&`first call on ${e}`}),!e.exists())break}}}_executeUpdatedRecordsCheckRequired(){for(const e of this._updatedRecordsCheckRequired)for(const t of e.constructor.__requiredFieldsList)if(void 0===e[t.fieldName])throw Error(`required ${t} of ${e} is missing`);this._updatedRecordsCheckRequired.clear()}_flushUpdateCycle(){this._executeCreatedRecordsComputes(),this._notifyListenersInUpdateCycle(),this._executeUpdatedRecordsCheckRequired(),this._executeCreatedRecordsCreated(),this._executeCreatedRecordsOnChange(),this._notifyListenersAfterUpdateCycle()}_generateModels(){const e=class{};this._applyModelDefinition(e);const t=[...o.keys()].filter((e=>"Record"!==e));for(const e of t){const t={[e]:class extends this.models.Record{}}[e];this._applyModelDefinition(t)}this._checkDeclaredFieldsOnModels(),this._processDeclaredFieldsOnModels(),this._checkProcessedFieldsOnModels(),this._checkOnChangesOnModels()}_insert(e,t,n={}){this.isDebug&&this._ensureNoLockingListener();const i=[];for(const o of t){let t=this.findFromIdentifyingData(e,o);if(t)this._update(t,o,n);else{const i=this._addDefaultData(e,o);this._preInsertIdentifyingFieldsFromData(e,i),t=this._create(e),e.__recordsIndex.addRecord(t,i),this._update(t,i,{...n,allowWriteReadonly:!0})}i.push(t)}return i}_makeInverseRelationField(e,t){return new s(Object.assign({},s.many(e.name,{inverse:t.fieldName}),{fieldName:`_inverse_${e}/${t.fieldName}`,isCausal:t.identifying,model:this.models[t.to]}))}_markListenerToNotify(e,t){if(!(e instanceof d))throw new Error(`Listener is not a listener ${e}`);if(e.isPartOfUpdateCycle){const n=this._listenersToNotifyInUpdateCycle.get(e);n?n.push(t):this._listenersToNotifyInUpdateCycle.set(e,[t])}if(!e.isPartOfUpdateCycle){const n=this._listenersToNotifyAfterUpdateCycle.get(e);n?n.push(t):this._listenersToNotifyAfterUpdateCycle.set(e,[t])}}_markRecordFieldAsChanged(e,t){for(const[n,i]of e.__listenersObservingFieldsOfRecord.get(t)||[])this._markListenerToNotify(n,{listener:n,reason:this.isDebug&&`_update: ${t} of ${e}`,infoList:i})}_notifyListenersAfterUpdateCycle(){for(const[e,t]of this._listenersToNotifyAfterUpdateCycle)this._listenersToNotifyAfterUpdateCycle.delete(e),e.onChange(t)}_notifyListenersInUpdateCycle(){const e=this._listenersToNotifyInUpdateCycle.size>0;for(const[e,t]of this._listenersToNotifyInUpdateCycle)this._listenersToNotifyInUpdateCycle.delete(e),e.onChange(t);e&&this._flushUpdateCycle()}_preInsertIdentifyingFieldsFromData(e,t){for(const n of e.__identifyingFieldNames){if(void 0===t[n])continue;const i=e.__fieldMap.get(n);if(!i.to)continue;const o=i.convertToFieldCommandList(t[n]);if(1!==o.length)throw new Error(`Identifying field "${e}/${n}" should receive a single command.`);const[s]=o;if(!(s instanceof l))throw new Error(`Identifying field "${e}/${n}" should receive a command.`);if(!["insert-and-replace","replace"].includes(s._name))throw new Error(`Identifying field "${e}/${n}" should receive a "replace" or "insert-and-replace" command.`);if("replace"===s._name)continue;if(!s._value)throw new Error(`Identifying field "${e}/${n}" is lacking a relation value.`);if("function"==typeof s._value[Symbol.iterator])throw new Error(`Identifying field "${e}/${n}" should receive a single data object.`);const[r]=this._insert(this.models[i.to],[s._value]);t[n]=r}}_processDeclaredFieldsOnModels(){for(const e of Object.values(this.models)){const t=new Map;for(const[n,i]of o.get(e.name).get("fields"))if(e.fields[n]=new s(Object.assign({},i,{fieldName:n,model:e})),i.sum){const[e,o]=i.sum.split(".");t.has(e)||t.set(e,[]),t.get(e).push({from:o,to:n})}for(const[n,i]of t)e.fields[n].sumContributions=i}for(const e of Object.values(this.models))for(const t of Object.values(e.fields)){if("relation"!==t.fieldType)continue;if(t.inverse){t.identifying&&(this.models[t.to].fields[t.inverse].isCausal=!0);continue}const n=this.models[t.to],i=this._makeInverseRelationField(e,t);t.inverse=i.fieldName,n.fields[i.fieldName]=i}for(const e of Object.values(this.models)){e.__combinedFields={};for(const t of Object.values(e.fields))e.__combinedFields[t.fieldName]=t;let t=e.__proto__;for(;t&&t.fields;){for(const n of Object.values(t.fields)){e.__combinedFields[n.fieldName]||(e.__combinedFields[n.fieldName]=n)}t=t.__proto__}}for(const e of Object.values(this.models)){e.__fieldMap=new Map(Object.entries(e.__combinedFields)),e.__fieldList=[...e.__fieldMap.values()],e.__requiredFieldsList=e.__fieldList.filter((e=>e.required)),e.__identifyingFieldNames=new Set;for(const[t,n]of e.__fieldMap)n.identifying&&e.__identifyingFieldNames.add(t),Object.defineProperty(e.prototype,t,{get:function(){const e=this.modelManager.isDebug?this.__proxifiedRecord:this;if(this.modelManager._listeners.size){let t=e.__listenersObservingRecord;const i=e.modelManager.isDebug&&`getField - ${n} of ${e}`;let o=e.__listenersObservingFieldsOfRecord.get(n);o||(o=new Map,e.__listenersObservingFieldsOfRecord.set(n,o));for(const s of e.modelManager._listeners){s.lastObservedRecords.add(e);const r={listener:s,reason:i};t.has(s)?t.get(s).push(r):t.set(s,[r]),s.lastObservedFieldsByRecord.has(e)||s.lastObservedFieldsByRecord.set(e,new Set),s.lastObservedFieldsByRecord.get(e).add(n),o.has(s)?o.get(s).push(r):o.set(s,[r])}}return n.get(e)}});delete e.__combinedFields}}_update(e,t,n={}){if(this.isDebug&&this._ensureNoLockingListener(),this.isDebug&&!e.exists())throw Error(`Cannot update already deleted record ${e}.`);const{allowWriteReadonly:i=!1}=n,o=e.constructor;let s=!1;for(const r of Object.keys(t)){if(void 0===t[r])continue;const a=o.__fieldMap.get(r);if(!a){console.warn(`Cannot create/update record with data unrelated to a field. (record: "${e}", non-field attempted update: "${r}")`);continue}const l=t[r];a.parseAndExecuteCommands(e,l,n)&&(a.readonly&&!i&&console.warn(`read-only ${a} on ${e} was updated`),s=!0,this._markRecordFieldAsChanged(e,a))}return s&&this._updatedRecordsCheckRequired.add(e),s}};return t})),odoo.define("@mail/model/model_utils",(async function(e){"use strict";let t={};return t.followRelations=function(e,t){let n=e;for(const e of t)if(n=n[e],!n)break;return n},t})),odoo.define("@mail/core_models/device",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n}=e("@mail/model/model_field"),{browser:i}=e("@web/core/browser/browser"),{isMobileOS:o}=e("@web/core/browser/feature_detection"),{SIZES:s}=e("@web/core/ui/ui_service");return t({name:"Device",lifecycleHooks:{_created(){this._refresh(),this._onResize=_.debounce((()=>this._refresh()),100)},_willDelete(){i.removeEventListener("resize",this._onResize)}},recordMethods:{start(){i.addEventListener("resize",this._onResize)},_refresh(){this.update({globalWindowInnerHeight:this.messaging.browser.innerHeight,globalWindowInnerWidth:this.messaging.browser.innerWidth,isMobileDevice:o(),isSmall:this.env.isSmall,sizeClass:this.env.services.ui.size})}},fields:{globalWindowInnerHeight:n(),globalWindowInnerWidth:n(),hasCanvasFilterSupport:n({default:void 0!==document.createElement("canvas").getContext("2d").filter}),hasRtcSupport:n({compute:()=>Boolean(window.RTCPeerConnection&&window.MediaStream)}),isMobileDevice:n(),isSmall:n(),sizeClass:n(),sizeClasses:n({default:s})}}),{}})),odoo.define("@mail/core_models/locale",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n}=e("@mail/model/model_field"),{localization:i}=e("@web/core/l10n/localization");return t({name:"Locale",fields:{language:n({compute(){return this.env.services.user.lang}}),textDirection:n({compute:()=>i.direction})}}),{}})),odoo.define("@mail/core_models/messaging",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n,many:i,one:o}=e("@mail/model/model_field"),{makeDeferred:s}=e("@mail/utils/deferred"),{browser:r}=e("@web/core/browser/browser"),{EventBus:a}=owl;return t({name:"Messaging",lifecycleHooks:{_created(){odoo.__DEBUG__.messaging=this},_willDelete(){delete odoo.__DEBUG__.messaging}},recordMethods:{async rpc(e,t={}){if(e.route){const{route:n,params:i}=e,{shadow:o,...s}=t;return this.env.services.rpc(n,i,{silent:o,...s})}{const{args:n=[],method:i,model:o,kwargs:s={}}=e,{domain:r,fields:a,groupBy:l,...c}=s,u="shadow"in t?this.env.services.orm.silent:this.env.services.orm;switch(i){case"create":{const{vals_list:e,...t}=s;return u.create(o,n[0]||e,t)}case"read":return u.read(o,n[0],n[1]||a,c);case"read_group":return u.readGroup(o,n[0]||r,n[1]||a,n[2]||l,c);case"search":return u.search(o,n[0]||r,c);case"search_read":return u.searchRead(o,n[0]||r,n[1]||a,c);case"unlink":return u.unlink(o,n[0],s);case"write":{const{vals:e,...t}=s;return u.write(o,n[0],n[1]||e,t)}default:return u.call(o,i,n,s)}}},async start(){this.update({isInitialized:!0}),this.initializedPromise.resolve()}},fields:{allRecords:i("Record",{inverse:"messaging",isCausal:!0}),browser:n({compute:()=>r}),device:o("Device",{default:{},isCausal:!0,readonly:!0}),initializedPromise:n({compute:()=>s(),required:!0}),isInitialized:n({default:!1}),locale:o("Locale",{default:{},isCausal:!0,readonly:!0}),messagingBus:n({compute(){if(!this.messagingBus)return new a},required:!0})}}),{}})),odoo.define("@mail/core_models/record",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{one:n}=e("@mail/model/model_field");return t({name:"Record",lifecycleHooks:{_created(){},_willDelete(){}},modelMethods:{all(e){return this.modelManager.all(this,e)},findFromIdentifyingData(e){return this.modelManager.findFromIdentifyingData(this,e)},insert(e={}){return this.modelManager.insert(this,e)},toString(){return this.name}},modelGetters:{env(){return this.modelManager.env},messaging(){return this.modelManager&&this.modelManager.messaging},models(){return this.modelManager.models}},recordMethods:{delete(){this.modelManager.delete(this)},exists(){return!!this.modelManager&&this.modelManager.exists(this.constructor,this)},toString(){return`record(${this.localId})`},update(e={}){this.modelManager.update(this,e)}},recordGetters:{env(){return this.modelManager.env},modelManager(){return this.constructor.modelManager},models(){return this.modelManager.models}},fields:{messaging:n("Messaging",{default:{},inverse:"allRecords",readonly:!0,required:!0})}}),{}})),odoo.define("@mail/core_models/timer",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n}=e("@mail/model/model_field"),{clear:i}=e("@mail/model/model_field_command");return t({name:"Timer",identifyingMode:"xor",lifecycleHooks:{_created(){this.update({timeoutId:this.messaging.browser.setTimeout(this._onTimeout,this.duration)})},_willDelete(){this.messaging.browser.clearTimeout(this.timeoutId)}},recordMethods:{_onTimeout(){this.update({timeoutId:i()}),this.onTimeout()},onTimeout(){},_onChangeDoReset(){this.doReset&&(this.messaging.browser.clearTimeout(this.timeoutId),this.update({doReset:i(),timeoutId:this.messaging.browser.setTimeout(this._onTimeout,this.duration)}))}},fields:{doReset:n({default:!1}),duration:n({compute:()=>i(),required:!0}),timeoutId:n()},onChanges:[{dependencies:["doReset"],methodName:"_onChangeDoReset"}]}),{}})),odoo.define("@im_livechat/legacy/models/cc_throttle_function",(async function(e){"use strict";let t={};const n=e("@im_livechat/legacy/models/cc_throttle_function_object")[Symbol.for("default")];return t[Symbol.for("default")]=function(e){const t=e.duration,i=e.func,o=new n({duration:t,func:i}),s=function(){return o.do(...arguments)};return s.cancel=function(){o.cancel()},s.clear=function(){o.clear()},s},t})),odoo.define("@im_livechat/legacy/models/cc_throttle_function_object",(async function(e){"use strict";let t={};const n=e("web.Class").extend({init(e){this._arguments=void 0,this._cooldownTimeout=void 0,this._duration=e.duration,this._func=e.func,this._shouldCallFunctionAfterCD=!1},cancel(){this._arguments=void 0,this._shouldCallFunctionAfterCD=!1},clear(){this._cooldownTimeout&&(clearTimeout(this._cooldownTimeout),this._onCooldownTimeout())},do(){this._arguments=Array.prototype.slice.call(arguments),void 0===this._cooldownTimeout?this._callFunction():this._shouldCallFunctionAfterCD=!0},_callFunction(){this._func.apply(null,this._arguments),this._cooldown()},_cooldown(){this.cancel(),this._cooldownTimeout=setTimeout(this._onCooldownTimeout.bind(this),this._duration)},_onCooldownTimeout(){this._shouldCallFunctionAfterCD?this._callFunction():this._cooldownTimeout=void 0}});return t[Symbol.for("default")]=n,t})),odoo.define("@im_livechat/legacy/models/public_livechat",(async function(e){"use strict";let t={};const n=e("@im_livechat/legacy/models/cc_throttle_function")[Symbol.for("default")],i=e("@im_livechat/legacy/models/timer")[Symbol.for("default")],o=e("@im_livechat/legacy/models/timers")[Symbol.for("default")],s=e("web.Class"),{_t:r}=e("web.core"),a=e("web.session"),l=e("web.mixins"),{sprintf:c}=e("web.utils"),u=s.extend(l.EventDispatcherMixin,{init(e,t){l.EventDispatcherMixin.init.call(this,arguments),this.setParent(t.parent),this.messaging=e,this._lastNotifiedMyselfTyping=!1,this._myselfLongTypingTimer=new i({duration:5e4,onTimeout:this._onMyselfLongTypingTimeout.bind(this)}),this._myselfTypingInactivityTimer=new i({duration:5e3,onTimeout:this._onMyselfTypingInactivityTimeout.bind(this)}),this._othersTypingTimers=new o({duration:6e4,onTimeout:this._onOthersTypingTimeout.bind(this)}),this._throttleNotifyMyselfTyping=n({duration:2500,func:this._onNotifyMyselfTyping.bind(this)}),this._typingPartnerIDs=[],void 0!==t.data.message_unread_counter&&this.messaging.publicLivechatGlobal.publicLivechat.update({unreadCounter:t.data.message_unread_counter}),_.isBoolean(t.data.folded)?this.messaging.publicLivechatGlobal.publicLivechat.update({isFolded:t.data.folded}):this.messaging.publicLivechatGlobal.publicLivechat.update({isFolded:"folded"===t.data.state})},addMessage(e){const t=this.messaging.publicLivechatGlobal.publicLivechat.operator.id;e.hasAuthor()&&e.getAuthorID()===t&&this.unregisterTyping({partnerID:t})},getMessages(){return this.messaging.publicLivechatGlobal.messages.filter((e=>!e.widget.isEmpty())).map((e=>e.widget))},getTypingMembersToText(){const e=this._typingPartnerIDs,t=this.messaging.publicLivechatGlobal.publicLivechat.operator&&this._typingPartnerIDs.includes(this.messaging.publicLivechatGlobal.publicLivechat.operator.id)?[this.messaging.publicLivechatGlobal.publicLivechat.operator]:[],n=_.sortBy(t,(function(t){return _.indexOf(e,t.id)})).slice(0,3);return 0===n.length?"":1===n.length?c(r("%s is typing..."),n[0].name):2===n.length?c(r("%s and %s are typing..."),n[0].name,n[1].name):c(r("%s, %s and more are typing..."),n[0].name,n[1].name)},hasMessages(){return!_.isEmpty(this.getMessages())},isSomeoneTyping(){return!_.isEmpty(this._typingPartnerIDs)},markAsRead(){return this.messaging.publicLivechatGlobal.publicLivechat.unreadCounter>0?(this.messaging.publicLivechatGlobal.publicLivechat.update({unreadCounter:0}),this.messaging.publicLivechatGlobal.chatWindow.widget.renderHeader(),Promise.resolve()):Promise.resolve()},async postMessage(){this._lastNotifiedMyselfTyping=!1,this._throttleNotifyMyselfTyping.clear(),this._myselfLongTypingTimer.clear(),this._myselfTypingInactivityTimer.clear()},registerTyping(e){if(e.isWebsiteUser)return;const t=e.partnerID;this._othersTypingTimers.registerTimer({timeoutCallbackArguments:[t],timerID:t}),_.contains(this._typingPartnerIDs,t)||(this._typingPartnerIDs.push(t),this._warnUpdatedTypingPartners())},setMyselfTyping(e){const t=e.typing;this._lastNotifiedMyselfTyping===t?this._throttleNotifyMyselfTyping.cancel():this._throttleNotifyMyselfTyping(e),t?this._myselfTypingInactivityTimer.reset():this._myselfTypingInactivityTimer.clear()},toData(){return{visitor_uid:this.messaging.publicLivechatGlobal.getVisitorUserId(),chatbot_script_id:this.messaging.publicLivechatGlobal.publicLivechat.data.chatbot_script_id,folded:this.messaging.publicLivechatGlobal.publicLivechat.isFolded,id:this.messaging.publicLivechatGlobal.publicLivechat.id,message_unread_counter:this.messaging.publicLivechatGlobal.publicLivechat.unreadCounter,operator_pid:this.messaging.publicLivechatGlobal.publicLivechat.operator?[this.messaging.publicLivechatGlobal.publicLivechat.operator.id,this.messaging.publicLivechatGlobal.publicLivechat.operator.name]:[],name:this.messaging.publicLivechatGlobal.publicLivechat.name,uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid}},unregisterTyping(e){const t=e.partnerID;this._othersTypingTimers.unregisterTimer({timerID:t}),_.contains(this._typingPartnerIDs,t)&&(this._typingPartnerIDs=_.reject(this._typingPartnerIDs,(function(e){return e===t})),this._warnUpdatedTypingPartners())},_notifyMyselfTyping(e){if(!this.messaging.publicLivechatGlobal.publicLivechat.isTemporary)return a.rpc("/im_livechat/notify_typing",{uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,is_typing:e.typing},{shadow:!0})},_warnUpdatedTypingPartners(){this.messaging.publicLivechatGlobal.chatWindow.widget.renderHeader()},_onMyselfLongTypingTimeout(){this._throttleNotifyMyselfTyping.clear(),this._throttleNotifyMyselfTyping({typing:!0})},_onMyselfTypingInactivityTimeout(){this._throttleNotifyMyselfTyping.clear(),this._throttleNotifyMyselfTyping({typing:!1})},_onNotifyMyselfTyping(e){const t=e.typing;this._lastNotifiedMyselfTyping=t,this._notifyMyselfTyping(e),t?this._myselfLongTypingTimer.reset():this._myselfLongTypingTimer.clear()},_onOthersTypingTimeout(e){this.unregisterTyping({partnerID:e})}});return t[Symbol.for("default")]=u,t})),odoo.define("@im_livechat/legacy/models/public_livechat_message",(async function(e){"use strict";let t={};const n=e("@mail/js/utils"),i=e("web.Class"),{_t:o}=e("web.core"),s=e("web.session"),r=e("web.time"),a=i.extend({init(e,t,n){this.messaging=t,this._body=n.body||"",this._date=n.date?moment(r.str_to_datetime(n.date)):moment(),this._id=n.id,this._isDiscussion=n.is_discussion,this._isNotification=n.is_notification,this._serverAuthor=n.author,this._type=n.message_type||void 0,this._defaultUsername=this.messaging.publicLivechatGlobal.options.default_username,this._serverURL=this.messaging.publicLivechatGlobal.serverUrl,this.messaging.publicLivechatGlobal.chatbot.isActive&&(this._chatbotStepId=n.chatbot_script_step_id,this._chatbotStepAnswers=n.chatbot_step_answers,this._chatbotStepAnswerId=n.chatbot_selected_answer_id)},getAuthorID(){return this.hasAuthor()?this._serverAuthor.id:-1},getAvatarSource(){let e=this._serverURL;return this.isOperatorTheAuthor()?e+=`/im_livechat/operator/${this.getAuthorID()}/avatar`:this.hasAuthor()&&s.user_id?e+=`/web/image/res.partner/${this.getAuthorID()}/avatar_128`:e+="/mail/static/src/img/smiley/avatar.jpg",e},getBody(){return this._body},getChatbotStepId(){return this._chatbotStepId},getChatbotStepAnswers(){return this._chatbotStepAnswers},getChatbotStepAnswerId(){return this._chatbotStepAnswerId},getDate(){return this._date},getDateDay(){const e=this.getDate().format("YYYY-MM-DD");return e===moment().format("YYYY-MM-DD")?o("Today"):e===moment().subtract(1,"days").format("YYYY-MM-DD")?o("Yesterday"):this.getDate().format("LL")},getDisplayedAuthor(){return(this.hasAuthor()?this._getAuthorName():null)||this._defaultUsername},getID(){return this._id},getTimeElapsed(){return n.timeFromNow(this.getDate())},getType(){return this._type},hasAuthor(){return Boolean(this._serverAuthor&&this._serverAuthor.id)},isEmpty(){return!this.getBody()},isDiscussion(){return this._isDiscussion},isNote(){return this._isNote},isNotification(){return this._isNotification},setChatbotStepAnswerId(e){this._chatbotStepAnswerId=e},shouldRedirectToAuthor(){return!this._isMyselfAuthor()},isVisitorTheAuthor(){return!this.hasAuthor()||this._isMyselfAuthor()},isOperatorTheAuthor(){return this.hasAuthor()&&!this._isMyselfAuthor()},_getAuthorName(){return this.hasAuthor()?this._serverAuthor.name||this._serverAuthor.user_livechat_username:""},_isMyselfAuthor(){return this.hasAuthor()&&this.getAuthorID()===this.messaging.publicLivechatGlobal.options.current_partner_id}});return t[Symbol.for("default")]=a,t})),odoo.define("@im_livechat/legacy/models/timer",(async function(e){"use strict";let t={};const n=e("web.Class").extend({init(e){this._duration=e.duration,this._timeout=void 0,this._timeoutCallback=e.onTimeout},clear(){clearTimeout(this._timeout)},reset(){this.clear(),this.start()},start(){this._timeout=setTimeout(this._onTimeout.bind(this),this._duration)},_onTimeout(){this._timeoutCallback()}});return t[Symbol.for("default")]=n,t})),odoo.define("@im_livechat/legacy/models/timers",(async function(e){"use strict";let t={};const n=e("@im_livechat/legacy/models/timer")[Symbol.for("default")],i=e("web.Class").extend({init(e){this._duration=e.duration,this._timeoutCallback=e.onTimeout,this._timers={}},registerTimer(e){const t=e.timerID;this._timers[t]&&this._timers[t].clear();const i={duration:this._duration,onTimeout:this._timeoutCallback};i.onTimeout="timeoutCallbackArguments"in e?this._timeoutCallback.bind.apply(this._timeoutCallback,[null,...e.timeoutCallbackArguments]):this._timeoutCallback,this._timers[t]=new n(i),this._timers[t].start()},unregisterTimer(e){const t=e.timerID;this._timers[t]&&(this._timers[t].clear(),delete this._timers[t])}});return t[Symbol.for("default")]=i,t})),odoo.define("@im_livechat/legacy/widgets/livechat_button",(async function(e){"use strict";let t={};const n=e("web.time"),{getCookie:i}=e("web.utils.cookies"),o=e("web.Widget").extend({className:"openerp o_livechat_button d-print-none",events:{click:"_onClick"},init(e,t){this._super(e),this.messaging=t},start(){return this.messaging.publicLivechatGlobal.livechatButtonView.start(),this._super()},_get_previous_operator_id(){const e=i("im_livechat_previous_operator_pid");return e||null},_prepareGetSessionParameters(){return{channel_id:this.messaging.publicLivechatGlobal.channelId,anonymous_name:this.messaging.publicLivechatGlobal.livechatButtonView.defaultUsername,previous_operator_id:this._get_previous_operator_id()}},_sendWelcomeMessage(){this.messaging.publicLivechatGlobal.livechatButtonView.defaultMessage&&this.messaging.publicLivechatGlobal.livechatButtonView.addMessage({id:"_welcome",author:{id:this.messaging.publicLivechatGlobal.publicLivechat.operator.id,name:this.messaging.publicLivechatGlobal.publicLivechat.operator.name},body:this.messaging.publicLivechatGlobal.livechatButtonView.defaultMessage,date:n.datetime_to_str(new Date),model:"mail.channel",res_id:this.messaging.publicLivechatGlobal.publicLivechat.id},{prepend:!0})},_onClick(){this.messaging.publicLivechatGlobal.livechatButtonView.openChat()}});return t[Symbol.for("default")]=o,t})),odoo.define("@im_livechat/legacy/widgets/feedback/feedback",(async function(e){"use strict";let t={};const n=e("web.concurrency"),i=e("web.core"),o=e("web.session"),s=e("web.utils"),r=e("web.Widget"),a=i._t,l=r.extend({template:"im_livechat.legacy.im_livechat.FeedBack",events:{"click .o_livechat_rating_choices img":"_onClickSmiley","click .o_livechat_no_feedback span":"_onClickNoFeedback","click .o_rating_submit_button":"_onClickSend","click .o_email_chat_button":"_onEmailChat","click .o_livechat_email_error .alert-link":"_onTryAgain"},init(e,t,i){this._super(e),this.messaging=t,this.server_origin=o.origin,this.rating=void 0,this.dp=new n.DropPrevious},_sendFeedback(e){const t={uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,rate:this.rating,reason:e};this.dp.add(o.rpc("/im_livechat/feedback",t)).then((t=>{const n=this.messaging.publicLivechatGlobal.RATING_TO_EMOJI[this.rating]||"??";let i;i=e?"Rating reason: \n"+e:s.sprintf(a("Rating: %s"),n),this.trigger("send_message",{content:i,isFeedback:!0})}))},_showThanksMessage(){this.$(".o_livechat_rating_box").empty().append($("<div />",{text:a("Thank you for your feedback"),class:"text-muted"}))},_onClickNoFeedback(){this.trigger("feedback_sent")},_onClickSend(){this.$(".o_livechat_rating_reason").hide(),this._showThanksMessage(),_.isNumber(this.rating)&&this._sendFeedback(this.$("textarea").val())},_onClickSmiley(e){this.rating=parseInt($(e.currentTarget).data("value")),this.$(".o_livechat_rating_choices img").removeClass("selected"),this.$('.o_livechat_rating_choices img[data-value="'+this.rating+'"]').addClass("selected"),5!==this.rating?(this._sendFeedback(),this.$(".o_livechat_rating_reason").show()):(this.$(".o_livechat_rating_reason").hide(),this._showThanksMessage(),this._sendFeedback())},_onEmailChat(){const e=this.$("#o_email");s.is_email(e.val())?(e.removeAttr("title").removeClass("is-invalid").prop("disabled",!0),this.$(".o_email_chat_button").prop("disabled",!0),this._rpc({route:"/im_livechat/email_livechat_transcript",params:{uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,email:e.val()}}).then((()=>{this.$("o_livechat_email_sentLabel").show(),this.$("o_livechat_email_receiveCopyLabel").hide(),this.$("o_livechat_email_receiveCopyForm").hide()})).guardedCatch((()=>{this.$(".o_livechat_email").hide(),this.$(".o_livechat_email_error").show()}))):e.addClass("is-invalid").prop("title",a("Invalid email address"))},_onTryAgain(){this.$("#o_email").prop("disabled",!1),this.$(".o_email_chat_button").prop("disabled",!1),this.$(".o_livechat_email_error").hide(),this.$(".o_livechat_email").show()}});return t[Symbol.for("default")]=l,t})),odoo.define("@im_livechat/legacy/widgets/public_livechat_view/public_livechat_view",(async function(e){"use strict";let t={};const n=e("@mail/js/utils"),i=e("web.core"),o=e("web.time"),s=e("web.Widget"),r=i.qweb,a=i._lt,l={ASC:1,DESC:-1},c=a("read more"),u=a("read less"),d=s.extend({className:"o_mail_thread",events:{"click a":"_onClickRedirect","click img":"_onClickRedirect","click strong":"_onClickRedirect","click .o_thread_show_more":"_onClickShowMore","click .o_thread_message_needaction":"_onClickMessageNeedaction","click .o_thread_message_star":"_onClickMessageStar","click .o_thread_message_reply":"_onClickMessageReply","click .oe_mail_expand":"_onClickMailExpand","click .o_thread_message":"_onClickMessage",click:"_onClick","click .o_thread_message_notification_error":"_onClickMessageNotificationError"},init(e,t,n){this._super(...arguments),this.messaging=t,this._enabledOptions=_.defaults(n||{},{displayOrder:l.ASC,displayMarkAsRead:!0,displayDocumentLinks:!0,displayAvatars:!0,squashCloseMessages:!0,loadMoreOnScroll:!1}),this._selectedMessageID=null,this._currentThreadID=null},destroy(){clearInterval(this._updateTimestampsInterval),this._super()},render(e){let t=!1;this._currentThreadID===this.messaging.publicLivechatGlobal.publicLivechat.id&&this.isAtBottom()&&(t=!0),this._currentThreadID=this.messaging.publicLivechatGlobal.publicLivechat.id;const n=_.clone(this.messaging.publicLivechatGlobal.publicLivechat.widget.getMessages()),i=this._enabledOptions;e=Object.assign({},i,e,{selectedMessageID:this._selectedMessageID});const s={};let a;for(let t of n)!a||Math.abs(t.getDate().diff(a.getDate()))>6e4||"comment"!==a.getType()||"comment"!==t.getType()||a.getAuthorID()!==t.getAuthorID()?s[t.getID()]=!0:s[t.getID()]=!e.squashCloseMessages,a=t;i.displayOrder===l.DESC&&n.reverse(),this.$el.html(r.render("im_livechat.legacy.mail.widget.Thread",{displayAuthorMessages:s,options:e,ORDER:l,dateFormat:o.getLangDatetimeFormat(),widget:this}));for(let e of n){const t=this.$('.o_thread_message[data-message-id="'+e.getID()+'"]');t.find(".o_mail_timestamp").data("date",e.getDate()),this._insertReadMore(t)}t&&this.scrollToBottom(),this._updateTimestampsInterval||(this.updateTimestampsInterval=setInterval((()=>{this._updateTimestamps()}),6e4))},renderLoading(){this.$el.html(r.render("im_livechat.legacy.mail.widget.ThreadLoading"))},getScrolltop(){return this.$el.scrollTop()},isAtBottom(){return this.el.scrollHeight-this.$el.scrollTop()-this.$el.outerHeight()<5},scrollToBottom(){this.$el.scrollTop(this.el.scrollHeight)},scrollToMessage(e){const t=this.$('.o_thread_message[data-message-id="'+e.messageID+'"]');if(e.onlyIfNecessary){const n=t.parent().height()-t.height();let i=n<0?0:n-(t.offset().top-t.offsetParent().offset().top);i=-Math.min(i,0),this.$el.scrollTo("+="+i+"px",e.duration)}else t.length&&this.$el.scrollTo(t)},scrollToPosition(e){e?this.$el.scrollTop(e):this.scrollToBottom()},unselectMessage(){this.$(".o_thread_message").removeClass("o_thread_selected_message"),this._selectedMessageID=null},_insertReadMore(e){const t=[];let n;const i=e.contents().filter((function(){return 1===this.nodeType||3===this.nodeType&&this.nodeValue.trim()}));for(let e of i){let i=$(e);3===e.nodeType&&i.prevAll('[id*="stopSpelling"]').length>0&&(i=$("<span>",{text:e.textContent,"data-o-mail-quote":"1"}),e.parentNode.replaceChild(i[0],e)),i.attr("data-o-mail-quote")||"BR"===i.get(0).nodeName&&i.prev('[data-o-mail-quote="1"]').length>0?(n||(n=[],t.push(n)),i.hide(),n.push(i)):(n=void 0,this._insertReadMore(i))}for(let e of t){const t=$("<a>",{class:"o_mail_read_more",href:"#",text:c}).insertBefore(e[0]);let n=!0;t.click((function(i){i.preventDefault(),n=!n;for(let t of e)t.hide(),t.toggle(!n);t.text(n?c:u)}))}},_redirect:_.debounce((function(e){"channelID"in e?this.trigger("redirect_to_channel",e.channelID):this.trigger("redirect",e.model,e.id)}),500,!0),_updateTimestamps(){const e=this.isAtBottom();this.$(".o_mail_timestamp").each((function(){const e=$(this).data("date");$(this).text(n.timeFromNow(e))})),e&&!this.isAtBottom()&&this.scrollToBottom()},_onClick(){this._selectedMessageID&&(this.unselectMessage(),this.trigger("unselect_message"))},_onClickMailExpand(e){e.preventDefault()},_onClickMessage(e){$(e.currentTarget).toggleClass("o_thread_selected_message")},_onClickMessageNeedaction(e){const t=$(e.currentTarget).data("message-id");this.trigger("mark_as_read",t)},_onClickMessageNotificationError(e){const t=$(e.currentTarget).data("message-id");this.do_action("mail.mail_resend_message_action",{additional_context:{mail_message_to_resend:t}})},_onClickMessageReply(e){this._selectedMessageID=$(e.currentTarget).data("message-id"),this.$(".o_thread_message").removeClass("o_thread_selected_message"),this.$('.o_thread_message[data-message-id="'+this._selectedMessageID+'"]').addClass("o_thread_selected_message"),this.trigger("select_message",this._selectedMessageID),e.stopPropagation()},_onClickMessageStar(e){const t=$(e.currentTarget).data("message-id");this.trigger("toggle_star_status",t)},_onClickRedirect(e){if(void 0!==$(e.target).data("oe-field"))return;const t=$(e.target).data("oe-id");if(t){e.preventDefault();const n=$(e.target).data("oe-model");let i;i=n&&"mail.channel"!==n?{model:n,id:t}:{channelID:t},this._redirect(i)}},_onClickShowMore(){this.trigger("load_more_messages")}});return d.ORDER=l,t[Symbol.for("default")]=d,t})),odoo.define("@im_livechat/legacy/widgets/public_livechat_window/public_livechat_window",(async function(e){"use strict";let t={};const n=e("web.config"),{_t:i,qweb:o}=e("web.core"),s=e("web.Widget"),{unaccent:r}=e("web.utils"),{setCookie:a}=e("web.utils.cookies"),l=s.extend({FOLD_ANIMATION_DURATION:200,HEIGHT_OPEN:"400px",HEIGHT_FOLDED:"34px",template:"im_livechat.legacy.PublicLivechatWindow",events:{"click .o_thread_window_close":"_onClickClose","click .o_thread_window_header":"_onClickFold","click .o_composer_text_field":"_onComposerClick","click .o_mail_thread":"_onThreadWindowClicked","keydown .o_composer_text_field":"_onKeydown","keypress .o_composer_text_field":"_onKeypress","input .o_composer_text_field":"_onInput"},init(e,t,n){this._super(e),this.messaging=t,this._debouncedOnScroll=_.debounce(this._onScroll.bind(this),100)},async start(){this.$input=this.$(".o_composer_text_field"),this.$header=this.$(".o_thread_window_header"),this.$el.css({transition:"height "+this.FOLD_ANIMATION_DURATION+"ms linear"}),this.messaging.publicLivechatGlobal.publicLivechat.isFolded?this.$el.css("height",this.HEIGHT_FOLDED):this._focusInput();const e=this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.replace(this.$(".o_thread_window_content")).then((()=>{this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.$el.on("scroll",this,this._debouncedOnScroll)}));await Promise.all([this._super(),e]),this.messaging.publicLivechatGlobal.livechatButtonView.headerBackgroundColor&&this.$(".o_thread_window_header").css("background-color",this.messaging.publicLivechatGlobal.livechatButtonView.headerBackgroundColor),this.messaging.publicLivechatGlobal.livechatButtonView.titleColor&&this.$(".o_thread_window_header").css("color",this.messaging.publicLivechatGlobal.livechatButtonView.titleColor)},close(){!this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_thread_composer input").prop("disabled")&&this.messaging.publicLivechatGlobal.messages.find((function(e){return"_welcome"!==e.id}))?(this.messaging.publicLivechatGlobal.chatWindow.widget.toggleFold(!1),this.messaging.publicLivechatGlobal.livechatButtonView.askFeedback()):this.messaging.publicLivechatGlobal.livechatButtonView.closeChat(),this.messaging.publicLivechatGlobal.leaveSession()},isMobile:()=>n.device.isMobile,render(){this.renderHeader(),this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.render({displayLoadMore:!1})},renderHeader(){this.$header.html(o.render("im_livechat.legacy.PublicLivechatWindow.HeaderContent",{widget:this}))},renderChatWindow(){this.renderElement(),this.adjustPosition()},adjustPosition(){const e={bottom:0};if(e["rtl"===this.messaging.locale.textDirection?"left":"right"]=0,!n.device.isMobile){e["rtl"===i.database.parameters.direction?"margin-left":"margin-right"]=$.position.scrollbarWidth()}this.$el.css(e)},replaceContentWith(e){e.replace(this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.$el)},toggleFold(e){_.isBoolean(e)||(e=!this.messaging.publicLivechatGlobal.publicLivechat.isFolded),this.messaging.publicLivechatGlobal.publicLivechat.update({isFolded:e}),this.messaging.publicLivechatGlobal.publicLivechat.operator&&a("im_livechat_session",r(JSON.stringify(this.messaging.publicLivechatGlobal.publicLivechat.widget.toData()),!0),3600,"required"),this.updateVisualFoldState()},updateVisualFoldState(){this.messaging.publicLivechatGlobal.publicLivechat.isFolded||(this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.scrollToBottom(),this._focusInput());const e=this.messaging.publicLivechatGlobal.publicLivechat.isFolded?this.HEIGHT_FOLDED:this.HEIGHT_OPEN;this.$el.css({height:e})},_focusInput(){n.device.touch&&n.device.size_class<=n.device.SIZES.SM||this.$input.focus()},_hasFocus(){return this.$input.is(":focus")},async _postMessage(e){try{await this.messaging.publicLivechatGlobal.livechatButtonView.sendMessage(e)}catch(t){await this.messaging.publicLivechatGlobal.livechatButtonView.sendMessage(e)}this.messaging.publicLivechatGlobal.publicLivechat.operator&&this.messaging.publicLivechatGlobal.publicLivechat.widget.postMessage(e).then((()=>{this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.scrollToBottom()}))},_onClickClose(e){e.stopPropagation(),e.preventDefault(),this.messaging.publicLivechatGlobal.publicLivechat.unreadCounter>0&&!this.messaging.publicLivechatGlobal.publicLivechat.isFolded&&this.messaging.publicLivechatGlobal.publicLivechat.widget.markAsRead(),this.close()},_onClickFold(){n.device.isMobile||this.toggleFold()},_onComposerClick(e){$(e.target).closest("a, button").length||this._focusInput()},_onInput(){const e=this.$input.val().length>0;this.messaging.publicLivechatGlobal.publicLivechat.widget.setMyselfTyping({typing:e})},_onKeydown(e){if(e.stopPropagation(),13===e.which){const e=_.str.trim(this.$input.val()),t={content:e,attachment_ids:[],partner_ids:[]};this.$input.val(""),e&&this._postMessage(t)}},_onKeypress(e){e.stopPropagation()},_onScroll(){this.messaging.exists()&&this.messaging.publicLivechatGlobal&&this.messaging.publicLivechatGlobal.chatWindow&&this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.isAtBottom()&&this.messaging.publicLivechatGlobal.publicLivechat.widget.markAsRead()},_onThreadWindowClicked(){const e=window.getSelection();e.anchorOffset===e.focusOffset&&this.$input.focus()}});return t[Symbol.for("default")]=l,t})),odoo.define("@im_livechat/public_models/chatbot",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n,one:i}=e("@mail/model/model_field"),{clear:o,increment:s}=e("@mail/model/model_field_command"),{qweb:r}=e("web.core"),{Markup:a}=e("web.utils");return t({name:"Chatbot",recordMethods:{addMessage(e,t){e.body=a(e.body),this.messaging.publicLivechatGlobal.livechatButtonView.addMessage(e,t),!this.messaging.publicLivechatGlobal.publicLivechat.isFolded&&this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.isAtBottom()||this.messaging.publicLivechatGlobal.publicLivechat.update({unreadCounter:s()}),t&&t.skipRenderMessages||this.messaging.publicLivechatGlobal.chatWindow.renderMessages()},endScript(){this.currentStep&&this.currentStep.data&&this.currentStep.data.conversation_closed||(this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_composer_text_field").addClass("d-none"),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_main_restart").show(),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_end").show(),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_restart").one("click",this.messaging.publicLivechatGlobal.livechatButtonView.onChatbotRestartScript))},onKeydownInput(){this.currentStep&&this.currentStep.data&&"free_input_multi"===this.currentStep.data.chatbot_step_type&&this.debouncedAwaitUserInput()},async postWelcomeMessages(){const e=this.messaging.publicLivechatGlobal.welcomeMessages;if(0===e.length)return;const t=await this.messaging.rpc({route:"/chatbot/post_welcome_steps",params:{channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,chatbot_script_id:this.scriptId}}),n=e.map((e=>e.id));this.messaging.publicLivechatGlobal.update({messages:this.messaging.publicLivechatGlobal.messages.filter((e=>{n.includes(e.id)}))}),t.reverse(),t.forEach((e=>{this.addMessage(e,{prepend:!0,skipRenderMessages:!0})})),this.messaging.publicLivechatGlobal.chatWindow.renderMessages()},processStep(){if(this.shouldEndScript)this.endScript();else if("forward_operator"===this.currentStep.data.chatbot_step_type&&this.currentStep.data.chatbot_operator_found)this.messaging.publicLivechatGlobal.chatWindow.enableInput();else if(this.isExpectingUserInput)this.messaging.publicLivechatGlobal.isLastMessageFromCustomer?(this.setIsTyping(),this.update({nextStepTimeout:setTimeout(this.triggerNextStep,this.messageDelay)})):this.messaging.publicLivechatGlobal.chatWindow.enableInput();else{let e=!0;if("question_selection"===this.currentStep.data.chatbot_step_type&&(this.messaging.publicLivechatGlobal.isLastMessageFromCustomer||(e=!1)),e){let e=this.messageDelay;0!==this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_typing").length?e=0:this.setIsTyping(),this.update({nextStepTimeout:setTimeout(this.triggerNextStep,e)})}}this.hasRestartButton||this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_main_restart").hide()},restoreSession(){const e=window.localStorage;if(e&&e.length)for(let t=0;t<e.length;t++){const n=e.key(t);n.startsWith("im_livechat.chatbot.state.uuid_")&&n!==this.sessionCookieKey&&e.removeItem(n)}localStorage.getItem(this.sessionCookieKey)&&this.update({currentStep:{data:this.localStorageState._chatbotCurrentStep}})},saveSession(){localStorage.setItem("im_livechat.chatbot.state.uuid_"+this.messaging.publicLivechatGlobal.publicLivechat.uuid,JSON.stringify({_chatbot:this.data,_chatbotCurrentStep:this.currentStep.data}))},setIsTyping(e=!1){this.messaging.publicLivechatGlobal.livechatButtonView.isTypingTimeout&&clearTimeout(this.messaging.publicLivechatGlobal.livechatButtonView.isTypingTimeout),this.messaging.publicLivechatGlobal.chatWindow.disableInput(""),this.messaging.publicLivechatGlobal.livechatButtonView.update({isTypingTimeout:setTimeout((()=>{this.messaging.publicLivechatGlobal.chatWindow&&this.messaging.publicLivechatGlobal.chatWindow.exists()&&(this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_mail_thread_content").append($(r.render("im_livechat.legacy.chatbot.is_typing_message",{chatbotImageSrc:this.messaging.publicLivechatGlobal.serverUrl+`/im_livechat/operator/${this.messaging.publicLivechatGlobal.publicLivechat.operator.id}/avatar`,chatbotIsTypingImageSrc:this.messaging.publicLivechatGlobal.serverUrl+"/im_livechat/static/src/img/chatbot_is_typing.gif",chatbotName:this.name,isWelcomeMessage:e}))),this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.scrollToBottom())}),this.messageDelay/3)})},async triggerNextStep(){if(!this.messaging.publicLivechatGlobal.chatWindow||!this.messaging.publicLivechatGlobal.chatWindow.exists())return;let e=!0;if(this.currentStep&&this.currentStep.data&&"question_email"===this.currentStep.data.chatbot_step_type&&(e=await this.validateEmail()),!e)return;const t=await this.messaging.rpc({route:"/chatbot/step/trigger",params:{channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,chatbot_script_id:this.scriptId}});return t?(t.chatbot_posted_message&&this.addMessage(t.chatbot_posted_message),this.update({currentStep:{data:t.chatbot_step}}),this.processStep()):(this.currentStep.data.chatbot_step_is_last=!0,this.messaging.publicLivechatGlobal.chatWindow.renderMessages(),this.endScript()),this.saveSession(),t},async validateEmail(){let e=await this.messaging.rpc({route:"/chatbot/step/validate_email",params:{channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid}});return e.success?(this.currentStep.data.is_email_valid=!0,this.saveSession(),!0):(this.messaging.publicLivechatGlobal.chatWindow.enableInput(),e.posted_message&&this.addMessage(e.posted_message),!1)},awaitUserInput(){this.messaging.publicLivechatGlobal.isLastMessageFromCustomer&&(this.shouldEndScript?this.endScript():(this.setIsTyping(),this.update({nextStepTimeout:setTimeout(this.triggerNextStep,this.messageDelay)})))}},fields:{awaitUserInputDebounceTime:n({compute:()=>1e4}),data:n({compute(){return this.messaging.publicLivechatGlobal.isTestChatbot?this.messaging.publicLivechatGlobal.testChatbotData:"init"===this.state?this.messaging.publicLivechatGlobal.rule.chatbot:"welcome"===this.state?this.messaging.publicLivechatGlobal.livechatInit.rule.chatbot:"restore_session"===this.state&&this.localStorageState?this.localStorageState._chatbot:o()}}),currentStep:i("ChatbotStep",{inverse:"chabotOwner"}),debouncedAwaitUserInput:n({compute(){return _.debounce(this.awaitUserInput,this.awaitUserInputDebounceTime)}}),hasRestartButton:n({compute(){const{publicLivechat:e}=this.messaging.publicLivechatGlobal;return!(e&&!e.operator)&&(!(!this.messaging.publicLivechatGlobal.publicLivechat||!this.messaging.publicLivechatGlobal.publicLivechat.uuid)&&(!(e&&!e.data.chatbot_script_id)&&Boolean(!this.currentStep||"forward_operator"!==this.currentStep.data.chatbot_step_type||!this.currentStep.data.chatbot_operator_found)))},default:!1}),isActive:n({compute(){return!!this.messaging.publicLivechatGlobal.isTestChatbot||(!(!this.messaging.publicLivechatGlobal.rule||!this.messaging.publicLivechatGlobal.rule.chatbot)||(!(!this.messaging.publicLivechatGlobal.livechatInit||!this.messaging.publicLivechatGlobal.livechatInit.rule.chatbot)||("welcome"===this.state||(!!this.localStorageState||o()))))},default:!1}),isExpectingUserInput:n({compute(){return this.currentStep?["question_phone","question_email","free_input_single","free_input_multi"].includes(this.currentStep.data.chatbot_step_type):o()},default:!1}),isRedirecting:n({default:!1}),lastWelcomeStep:n({compute(){return this.welcomeSteps?this.welcomeSteps[this.welcomeSteps.length-1]:o()}}),localStorageState:n({compute(){if(!this.messaging.publicLivechatGlobal.sessionCookie)return o();const e=localStorage.getItem(this.sessionCookieKey);return e?JSON.parse(e):o()}}),name:n({compute(){return this.data?this.data.name:o()}}),nextStepTimeout:n(),messageDelay:n({compute:()=>o(),default:3500}),publicLivechatGlobalOwner:i("PublicLivechatGlobal",{identifying:!0,inverse:"chatbot"}),scriptId:n({compute(){return this.data?this.data.chatbot_script_id:o()}}),serverUrl:n(),sessionCookieKey:n({compute(){return this.messaging.publicLivechatGlobal.sessionCookie?"im_livechat.chatbot.state.uuid_"+JSON.parse(this.messaging.publicLivechatGlobal.sessionCookie).uuid:o()}}),shouldEndScript:n({compute(){if(!this.currentStep)return o();if(this.currentStep.data.conversation_closed)return!0;if(this.currentStep.data.chatbot_step_is_last&&("forward_operator"!==this.currentStep.data.chatbot_step_type||!this.currentStep.data.chatbot_operator_found)){if("question_email"===this.currentStep.data.chatbot_step_type&&!this.currentStep.data.is_email_valid)return!1;if(!this.isExpectingUserInput&&"question_selection"!==this.currentStep.data.chatbot_step_type||0===this.messaging.publicLivechatGlobal.messages.length){if(!this.isExpectingUserInput)return!0}else if(this.messaging.publicLivechatGlobal.lastMessage.authorId!==this.messaging.publicLivechatGlobal.publicLivechat.operator.id)return!0}return!1},default:!1}),state:n({compute(){return this.messaging.publicLivechatGlobal.rule&&this.messaging.publicLivechatGlobal.rule.chatbot?"init":this.messaging.publicLivechatGlobal.livechatInit&&this.messaging.publicLivechatGlobal.livechatInit.rule.chatbot?"welcome":!this.messaging.publicLivechatGlobal.rule&&null!==this.messaging.publicLivechatGlobal.history&&0!==this.messaging.publicLivechatGlobal.history.length&&this.sessionCookieKey&&localStorage.getItem(this.sessionCookieKey)?"restore_session":o()}}),welcomeMessageTimeout:n(),welcomeSteps:n({compute(){return this.data?this.data.chatbot_welcome_steps:o()}})}}),{}})),odoo.define("@im_livechat/public_models/chatbot_step",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n,one:i}=e("@mail/model/model_field");return t({name:"ChatbotStep",fields:{chabotOwner:i("Chatbot",{identifying:!0,inverse:"currentStep"}),data:n()}}),{}})),odoo.define("@im_livechat/public_models/livechat_button_view",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n,one:i}=e("@mail/model/model_field"),{clear:o}=e("@mail/model/model_field_command"),{getCookie:s,deleteCookie:r}=e("web.utils.cookies");return t({name:"LivechatButtonView",lifecycleHooks:{_created(){this.update({widget:this.env.services.public_livechat_service.mountLivechatButton()})},_willDelete(){this.widget.destroy()}},recordMethods:{addMessage(e,t){if(_.some(this.messaging.publicLivechatGlobal.messages,(function(t){return e.id===t.id})))return;const n=this.messaging.models.PublicLivechatMessage.insert({data:e,id:e.id});this.messaging.publicLivechatGlobal.publicLivechat&&this.messaging.publicLivechatGlobal.publicLivechat.widget&&this.messaging.publicLivechatGlobal.publicLivechat.widget.addMessage(n.widget),t&&t.prepend?this.messaging.publicLivechatGlobal.update({messages:[n,...this.messaging.publicLivechatGlobal.messages]}):this.messaging.publicLivechatGlobal.update({messages:[...this.messaging.publicLivechatGlobal.messages,n]})},askFeedback(){this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_thread_composer input").prop("disabled",!0),this.messaging.publicLivechatGlobal.update({feedbackView:{}}),this.messaging.publicLivechatGlobal.chatbot.currentStep&&this.messaging.publicLivechatGlobal.chatbot.currentStep.data&&(this.messaging.publicLivechatGlobal.chatbot.currentStep.data.conversation_closed=!0,this.messaging.publicLivechatGlobal.chatbot.saveSession()),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_main_restart").hide(),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_end").hide(),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_composer_text_field").removeClass("d-none").val("")},async onChatbotRestartScript(e){if(this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_composer_text_field").removeClass("d-none"),this.messaging.publicLivechatGlobal.chatWindow.widget.$(".o_livechat_chatbot_end").hide(),this.messaging.publicLivechatGlobal.chatbot.nextStepTimeout&&clearTimeout(this.messaging.publicLivechatGlobal.chatbot.nextStepTimeout),this.messaging.publicLivechatGlobal.chatbot.welcomeMessageTimeout&&clearTimeout(this.messaging.publicLivechatGlobal.chatbot.welcomeMessageTimeout),this.messaging.publicLivechatGlobal.publicLivechat.uuid){const e=await this.messaging.rpc({route:"/chatbot/restart",params:{channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,chatbot_script_id:this.messaging.publicLivechatGlobal.chatbot.scriptId}});e&&this.messaging.publicLivechatGlobal.chatbot.addMessage(e)}this.messaging.publicLivechatGlobal.chatbot.update({currentStep:o()}),this.messaging.publicLivechatGlobal.chatbot.setIsTyping(),this.messaging.publicLivechatGlobal.chatbot.update({nextStepTimeout:setTimeout(this.messaging.publicLivechatGlobal.chatbot.triggerNextStep,this.messaging.publicLivechatGlobal.chatbot.messageDelay)})},closeChat(){this.messaging.publicLivechatGlobal.update({chatWindow:o()}),r("im_livechat_session")},openChat(){this.isOpenChatDebounced?this.openChatDebounced():this._openChat()},async openChatWindow(){this.messaging.publicLivechatGlobal.update({chatWindow:{}}),await this.messaging.publicLivechatGlobal.chatWindow.widget.appendTo($("body")),this.messaging.publicLivechatGlobal.chatWindow.widget.adjustPosition(),this.widget.$el.hide(),this._openChatWindowChatbot()},async sendMessage(e){this.messaging.publicLivechatGlobal.publicLivechat.isTemporary&&(await this.messaging.publicLivechatGlobal.publicLivechat.createLivechatChannel(),!this.messaging.publicLivechatGlobal.publicLivechat.operator)||(await this._sendMessageChatbotBefore(),await this._sendMessage(e),this._sendMessageChatbotAfter())},async start(){if(this.messaging.publicLivechatGlobal.hasWebsiteLivechatFeature||this.widget.$el.text(this.buttonText),this.update({isWidgetMounted:!0}),this.messaging.publicLivechatGlobal.history){for(const e of this.messaging.publicLivechatGlobal.history)this.addMessage(e);await this.openChat()}else if(!this.messaging.device.isSmall&&"auto_popup"===this.messaging.publicLivechatGlobal.rule.action){const e=s("im_livechat_auto_popup");e&&!JSON.parse(e)||this.update({autoOpenChatTimeout:setTimeout(this.openChat,1e3*this.messaging.publicLivechatGlobal.rule.auto_popup_timer)})}this.buttonBackgroundColor&&this.widget.$el.css("background-color",this.buttonBackgroundColor),this.buttonTextColor&&this.widget.$el.css("color",this.buttonTextColor);const e=$(".o_pwa_install_banner").outerHeight(!0);e&&this.widget.$el.css("bottom",e+"px")},async _openChat(){if(this.isOpeningChat)return;const e=s("im_livechat_session");let t;this.update({isOpeningChat:!0}),clearTimeout(this.autoOpenChatTimeout),e?t=Promise.resolve(JSON.parse(e)):(this.messaging.publicLivechatGlobal.update({messages:o()}),t=this.messaging.rpc({route:"/im_livechat/get_session",params:{...this.widget._prepareGetSessionParameters(),persisted:!1}},{silent:!0})),t.then((e=>{if(e&&e.operator_pid)return this.messaging.publicLivechatGlobal.update({publicLivechat:{data:e}}),this.openChatWindow().then((()=>{this.messaging.publicLivechatGlobal.history||this.widget._sendWelcomeMessage(),this.messaging.publicLivechatGlobal.chatWindow.renderMessages(),this.messaging.publicLivechatGlobal.publicLivechat.updateSessionCookie()}));try{this.widget.displayNotification({message:this.env._t("No available collaborator, please try again later."),sticky:!0})}catch(e){console.warn(this.env._t("No available collaborator, please try again later."))}})).then((()=>{this.update({isOpeningChat:!1})})).guardedCatch((()=>{this.update({isOpeningChat:!1})}))},_openChatWindowChatbot(){window.addEventListener("resize",(()=>{this.messaging.publicLivechatGlobal.chatWindow&&this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.scrollToBottom()})),this.messaging.publicLivechatGlobal.chatbot.currentStep&&this.messaging.publicLivechatGlobal.chatbot.currentStep.data&&this.messaging.publicLivechatGlobal.messages&&0!==this.messaging.publicLivechatGlobal.messages.length&&this.messaging.publicLivechatGlobal.chatbot.processStep()},async _sendMessage(e){this.messaging.publicLivechatGlobal.publicLivechat.widget._notifyMyselfTyping({typing:!1});if(!await this.messaging.rpc({route:"/mail/chat_post",params:{uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,message_content:e.content}})){try{this.widget.displayNotification({message:this.env._t("Session expired... Please refresh and try again."),sticky:!0})}catch(e){console.warn(this.env._t("Session expired... Please refresh and try again."))}this.closeChat()}this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.scrollToBottom()},_sendMessageChatbotAfter(){if(!this.messaging.publicLivechatGlobal.chatbot.isRedirecting&&this.messaging.publicLivechatGlobal.chatbot.isActive&&this.messaging.publicLivechatGlobal.chatbot.currentStep&&this.messaging.publicLivechatGlobal.chatbot.currentStep.data){if("forward_operator"===this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_step_type&&this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_operator_found)return;"free_input_multi"===this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_step_type?this.messaging.publicLivechatGlobal.chatbot.debouncedAwaitUserInput():this.messaging.publicLivechatGlobal.chatbot.shouldEndScript?this.messaging.publicLivechatGlobal.chatbot.endScript():(this.messaging.publicLivechatGlobal.chatbot.setIsTyping(),this.messaging.publicLivechatGlobal.chatbot.update({nextStepTimeout:setTimeout(this.messaging.publicLivechatGlobal.chatbot.triggerNextStep,this.messaging.publicLivechatGlobal.chatbot.messageDelay)})),this.messaging.publicLivechatGlobal.chatbot.saveSession()}},async _sendMessageChatbotBefore(){this.messaging.publicLivechatGlobal.chatbot.isActive&&this.messaging.publicLivechatGlobal.chatbot.currentStep&&this.messaging.publicLivechatGlobal.chatbot.currentStep.data&&await this.messaging.publicLivechatGlobal.chatbot.postWelcomeMessages()}},fields:{autoOpenChatTimeout:n(),buttonBackgroundColor:n({compute(){return this.messaging.publicLivechatGlobal.options.button_background_color}}),buttonText:n({compute(){return this.messaging.publicLivechatGlobal.options.button_text?this.messaging.publicLivechatGlobal.options.button_text:this.env._t("Chat with one of our collaborators")}}),buttonTextColor:n({compute(){return this.messaging.publicLivechatGlobal.options.button_text_color}}),chatbotNextStepTimeout:n(),chatbotWelcomeMessageTimeout:n(),currentPartnerId:n({compute(){return this.messaging.publicLivechatGlobal.isAvailable?this.messaging.publicLivechatGlobal.options.current_partner_id:o()}}),defaultMessage:n({compute(){return this.messaging.publicLivechatGlobal.options.default_message?this.messaging.publicLivechatGlobal.options.default_message:this.env._t("How may I help you?")}}),defaultUsername:n({compute(){return this.messaging.publicLivechatGlobal.options.default_username?this.messaging.publicLivechatGlobal.options.default_username:this.env._t("Visitor")}}),headerBackgroundColor:n({compute(){return this.messaging.publicLivechatGlobal.options.header_background_color}}),inputPlaceholder:n({compute(){return this.messaging.publicLivechatGlobal.chatbot.isActive?o():this.messaging.publicLivechatGlobal.options.input_placeholder?this.messaging.publicLivechatGlobal.options.input_placeholder:this.env._t("Ask something ...")},default:""}),isOpenChatDebounced:n({compute:()=>o(),default:!0}),isOpeningChat:n({default:!1}),isTypingTimeout:n(),isWidgetMounted:n({default:!1}),openChatDebounced:n({compute(){return _.debounce(this._openChat,200,!0)}}),publicLivechatGlobalOwner:i("PublicLivechatGlobal",{identifying:!0,inverse:"livechatButtonView"}),serverUrl:n({compute(){return this.messaging.publicLivechatGlobal.serverUrl}}),titleColor:n({compute(){return this.messaging.publicLivechatGlobal.options.title_color}}),widget:n()}}),{}})),odoo.define("@im_livechat/public_models/livechat_operator",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n}=e("@mail/model/model_field");return t({name:"LivechatOperator",fields:{id:n({identifying:!0}),name:n()}}),{}})),odoo.define("@im_livechat/public_models/messaging",(async function(e){"use strict";const{registerPatch:t}=e("@mail/model/model_core"),{one:n}=e("@mail/model/model_field");return t({name:"Messaging",fields:{publicLivechatGlobal:n("PublicLivechatGlobal",{isCausal:!0})}}),{}})),odoo.define("@im_livechat/public_models/public_livechat",(async function(e){"use strict";const t=e("@im_livechat/legacy/models/public_livechat")[Symbol.for("default")],{registerModel:n}=e("@mail/model/model_core"),{attr:i,one:o}=e("@mail/model/model_field"),{clear:s}=e("@mail/model/model_field_command"),{unaccent:r}=e("web.utils"),{deleteCookie:a,setCookie:l}=e("web.utils.cookies");return n({name:"PublicLivechat",lifecycleHooks:{_created(){this.update({widget:new t(this.messaging,{parent:this.publicLivechatGlobalOwner.livechatButtonView.widget,data:this.data})})},_willDelete(){this.widget.destroy()}},recordMethods:{async createLivechatChannel(){const e=await this.messaging.rpc({route:"/im_livechat/get_session",params:this.messaging.publicLivechatGlobal.livechatButtonView.widget._prepareGetSessionParameters()});e&&e.operator_pid?(this.update({data:e}),this.widget.data=e,this.updateSessionCookie()):(this.update({data:s()}),a("im_livechat_session"),this.messaging.publicLivechatGlobal.chatWindow.widget.renderChatWindow())},updateSessionCookie(){if(a("im_livechat_session"),l("im_livechat_session",r(JSON.stringify(this.widget.toData()),!0),3600,"required"),l("im_livechat_auto_popup",JSON.stringify(!1),3600,"optional"),this.operator){const e=this.operator.id;l("im_livechat_previous_operator_pid",e,604800,"optional")}}},fields:{data:i(),id:i({compute(){return this.data?this.data.id:s()}}),isFolded:i({default:!1}),isTemporary:i({compute(){return!this.data||!this.data.id}}),publicLivechatGlobalOwner:o("PublicLivechatGlobal",{identifying:!0,inverse:"publicLivechat"}),name:i({compute(){return this.data&&this.operator?this.data.name:s()}}),operator:o("LivechatOperator",{compute(){return this.data&&this.data.operator_pid&&this.data.operator_pid[0]?{id:this.data.operator_pid[0],name:this.data.operator_pid[1]}:s()}}),status:i({compute(){return this.data?this.data.status||"":s()}}),unreadCounter:i({default:0}),uuid:i({compute(){return this.data?this.data.uuid:s()}}),widget:i()}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_feedback_view",(async function(e){"use strict";const t=e("@im_livechat/legacy/widgets/feedback/feedback")[Symbol.for("default")],{registerModel:n}=e("@mail/model/model_core"),{attr:i,one:o}=e("@mail/model/model_field");return n({name:"PublicLivechatFeedbackView",lifecycleHooks:{_created(){this.update({widget:new t(this.messaging.publicLivechatGlobal.livechatButtonView.widget,this.messaging,this.messaging.publicLivechatGlobal.publicLivechat.widget)}),this.messaging.publicLivechatGlobal.chatWindow.widget.replaceContentWith(this.widget),this.widget.on("feedback_sent",null,this._onFeedbackSent),this.widget.on("send_message",null,this._onSendMessage)},_willDelete(){this.widget.destroy()}},recordMethods:{_onFeedbackSent(){this.messaging.publicLivechatGlobal.livechatButtonView.closeChat()},_onSendMessage(...e){this.messaging.publicLivechatGlobal.livechatButtonView.sendMessage(...e)}},fields:{publicLivechatGlobalOwner:o("PublicLivechatGlobal",{identifying:!0,inverse:"feedbackView"}),widget:i()}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_global",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n,many:i,one:o}=e("@mail/model/model_field"),{clear:s}=e("@mail/model/model_field_command"),{session:r}=e("@web/session"),a=e("web.session"),{qweb:l}=e("web.core"),{Markup:c}=e("web.utils"),{getCookie:u,setCookie:d,deleteCookie:h}=e("web.utils.cookies");return t({name:"PublicLivechatGlobal",lifecycleHooks:{_created(){const e=window.location.href.replace(/^.*\/\/[^/]+/,""),t=u(this.LIVECHAT_COOKIE_HISTORY);let n=[];if(t&&(n=JSON.parse(t)||[]),!_.contains(n,e)){for(n.push(e);n.length>this.HISTORY_LIMIT;)n.shift();d(this.LIVECHAT_COOKIE_HISTORY,JSON.stringify(n),86400,"optional")}this.isAvailable&&this.willStart()}},recordMethods:{async loadQWebTemplate(){const e=await this.messaging.rpc({route:"/im_livechat/load_templates"});for(const t of e)l.add_template(t);this.update({hasLoadedQWebTemplate:!0})},async willStart(){await this._willStart(),await this._willStartChatbot()},async _willStart(){const e=u("im_livechat_session");let t=Boolean(e),n=JSON.parse(e||"{}");if(t&&n.visitor_uid!==r.user_id&&(this.leaveSession(),t=!1,n={}),n.id){const e=await this.messaging.rpc({route:"/mail/chat_history",params:{uuid:n.uuid,limit:100}});e.reverse(),this.update({history:e});for(const e of this.history)e.body=c(e.body);this.update({isAvailableForMe:!0})}else if(t)this.update({history:[],isAvailableForMe:!0});else{const e=await this.messaging.rpc({route:"/im_livechat/init",params:{channel_id:this.channelId}});e.available_for_me&&this.update({isAvailableForMe:!0}),this.update({rule:e.rule})}const i=[this.loadQWebTemplate()];return r.is_frontend||i.push(a.load_translations(["im_livechat"])),Promise.all(i)},async _willStartChatbot(){if(this.rule);else if(null!==this.history&&0===this.history.length)this.update({livechatInit:await this.messaging.rpc({route:"/im_livechat/init",params:{channel_id:this.channelId}})});else if(null!==this.history&&0!==this.history.length){const e=u("im_livechat_session");e&&this.update({sessionCookie:e})}"init"===this.chatbot.state?this.rule.chatbot_welcome_steps&&0!==this.rule.chatbot_welcome_steps.length&&this.chatbot.update({currentStep:{data:this.chatbot.lastWelcomeStep}}):"welcome"===this.chatbot.state?(h("im_livechat_auto_popup"),this.update({history:s()}),this.update({rule:this.livechatInit.rule})):"restore_session"===this.chatbot.state&&this.chatbot.restoreSession()},getVisitorUserId(){const e=JSON.parse(u("im_livechat_session")||"{}");return"visitor_uid"in e?e.visitor_uid:r.user_id},leaveSession(){const e=u("im_livechat_session");if(e){const t=JSON.parse(e);t.uuid&&this.messaging.rpc({route:"/im_livechat/visitor_leave_session",params:{uuid:t.uuid}}),h("im_livechat_session")}}},fields:{HISTORY_LIMIT:n({default:15}),LIVECHAT_COOKIE_HISTORY:n({default:"im_livechat_history"}),RATING_TO_EMOJI:n({default:{5:"",3:"",1:""}}),channelId:n({compute(){return this.options.channel_id}}),chatbot:o("Chatbot",{default:{},inverse:"publicLivechatGlobalOwner"}),chatWindow:o("PublicLivechatWindow",{inverse:"publicLivechatGlobalOwner"}),feedbackView:o("PublicLivechatFeedbackView",{inverse:"publicLivechatGlobalOwner"}),hasLoadedQWebTemplate:n({default:!1}),hasWebsiteLivechatFeature:n({compute:()=>!1}),history:n({default:null}),isAvailable:n({default:!1}),isAvailableForMe:n({default:!1}),isLastMessageFromCustomer:n({compute(){return this.lastMessage&&this.publicLivechat&&this.publicLivechat.operator?this.lastMessage.authorId!==this.publicLivechat.operator.id:s()},default:!1}),isTestChatbot:n({compute(){return this.options?Boolean(this.options.isTestChatbot):s()},default:!1}),lastMessage:o("PublicLivechatMessage",{compute(){return 0===this.messages.length?s():this.messages[this.messages.length-1]}}),livechatButtonView:o("LivechatButtonView",{compute(){return this.isAvailable&&(this.isAvailableForMe||this.isTestChatbot)&&this.hasLoadedQWebTemplate&&this.env.services.public_livechat_service?{}:s()},inverse:"publicLivechatGlobalOwner"}),livechatInit:n(),messages:i("PublicLivechatMessage"),notificationHandler:o("PublicLivechatGlobalNotificationHandler",{inverse:"publicLivechatGlobalOwner",compute(){return this.publicLivechat&&!this.publicLivechat.isTemporary?{}:s()}}),options:n({default:{}}),publicLivechat:o("PublicLivechat",{inverse:"publicLivechatGlobalOwner"}),rule:n(),serverUrl:n({default:""}),sessionCookie:n(),testChatbotData:n({compute(){return this.options?this.options.testChatbotData:s()}}),welcomeMessages:i("PublicLivechatMessage",{compute(){return this.messages.filter((e=>e.id&&"string"==typeof e.id&&e.id.startsWith("_welcome_")))}})}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_global_notification_handler",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{one:n}=e("@mail/model/model_field"),{increment:i}=e("@mail/model/model_field_command"),o=e("web.session"),s=e("web.utils"),{getCookie:r}=e("web.utils.cookies");return t({name:"PublicLivechatGlobalNotificationHandler",lifecycleHooks:{_created(){this.env.services.bus_service.addChannel(this.messaging.publicLivechatGlobal.publicLivechat.uuid),this.env.services.bus_service.addEventListener("notification",this._onNotification)}},recordMethods:{_handleNotification({payload:e,type:t}){switch(t){case"im_livechat.history_command":{if(e.id!==this.messaging.publicLivechatGlobal.publicLivechat.id)return;const t=r(this.messaging.publicLivechatGlobal.LIVECHAT_COOKIE_HISTORY),n=t?JSON.parse(t):[];return void o.rpc("/im_livechat/history",{pid:this.messaging.publicLivechatGlobal.publicLivechat.operator.id,channel_uuid:this.messaging.publicLivechatGlobal.publicLivechat.uuid,page_history:n})}case"mail.channel.member/typing_status":{if(!this.messaging.publicLivechatGlobal.chatWindow||!this.messaging.publicLivechatGlobal.chatWindow.exists())return;const t=e;if(t.channel.id!==this.messaging.publicLivechatGlobal.publicLivechat.id)return;if(!t.persona.partner)return;if(t.persona.partner.id===this.messaging.publicLivechatGlobal.livechatButtonView.currentPartnerId)return;return void(t.isTyping?this.messaging.publicLivechatGlobal.publicLivechat.widget.registerTyping({partnerID:t.persona.partner.id}):this.messaging.publicLivechatGlobal.publicLivechat.widget.unregisterTyping({partnerID:t.persona.partner.id}))}case"mail.channel/new_message":{if(!this.messaging.publicLivechatGlobal.chatWindow||!this.messaging.publicLivechatGlobal.chatWindow.exists())return;if(e.id!==this.messaging.publicLivechatGlobal.publicLivechat.id)return;const t=e.message;if(this.messaging.publicLivechatGlobal.messages.some((e=>e.id===t.id)))return;return t.body=s.Markup(t.body),this.messaging.publicLivechatGlobal.livechatButtonView.addMessage(t),!this.messaging.publicLivechatGlobal.publicLivechat.isFolded&&this.messaging.publicLivechatGlobal.chatWindow.publicLivechatView.widget.isAtBottom()||this.messaging.publicLivechatGlobal.publicLivechat.update({unreadCounter:i()}),void this.messaging.publicLivechatGlobal.chatWindow.renderMessages()}case"mail.message/insert":{if(!this.messaging.publicLivechatGlobal.chatWindow||!this.messaging.publicLivechatGlobal.chatWindow.exists())return;const t=this.messaging.publicLivechatGlobal.messages.find((t=>t.id===e.id));if(!t)return;return t.widget._body=s.Markup(e.body),void this.messaging.publicLivechatGlobal.chatWindow.renderMessages()}}},_onNotification({detail:e}){for(const t of e)this._handleNotification(t)}},fields:{publicLivechatGlobalOwner:n("PublicLivechatGlobal",{identifying:!0,inverse:"notificationHandler"})}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_message",(async function(e){"use strict";const{registerModel:t}=e("@mail/model/model_core"),{attr:n}=e("@mail/model/model_field"),{clear:i}=e("@mail/model/model_field_command"),o=e("@im_livechat/legacy/models/public_livechat_message")[Symbol.for("default")];return t({name:"PublicLivechatMessage",lifecycleHooks:{_created(){this.update({widget:new o(this.messaging.publicLivechatGlobal.livechatButtonView.widget,this.messaging,this.data)})},_willDelete(){this.widget.destroy()}},fields:{authorId:n({compute(){return this.data.author&&this.data.author.id?this.data.author.id:i()}}),data:n(),id:n({identifying:!0}),widget:n()}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_view",(async function(e){"use strict";const t=e("@im_livechat/legacy/widgets/public_livechat_view/public_livechat_view")[Symbol.for("default")],{registerModel:n}=e("@mail/model/model_core"),{attr:i,one:o}=e("@mail/model/model_field");return n({name:"PublicLivechatView",lifecycleHooks:{_created(){this.update({widget:new t(this,this.messaging,{displayMarkAsRead:!1})})},_willDelete(){this.widget.destroy()}},fields:{publicLivechatWindowOwner:o("PublicLivechatWindow",{identifying:!0,inverse:"publicLivechatView"}),widget:i()}}),{}})),odoo.define("@im_livechat/public_models/public_livechat_window",(async function(e){"use strict";const t=e("@im_livechat/legacy/widgets/public_livechat_window/public_livechat_window")[Symbol.for("default")],{registerModel:n}=e("@mail/model/model_core"),{attr:i,one:o}=e("@mail/model/model_field");return n({name:"PublicLivechatWindow",lifecycleHooks:{_created(){this.update({widget:new t(this.messaging.publicLivechatGlobal.livechatButtonView.widget,this.messaging,this.messaging.publicLivechatGlobal.publicLivechat.widget)})},_willDelete(){this.widget.destroy()}},recordMethods:{enableInput(){const e=this.widget.$(".o_composer_text_field");e.prop("disabled",!1).removeClass("text-center fst-italic bg-200").val("").focus(),e.off("keydown",this.messaging.publicLivechatGlobal.chatbot.onKeydownInput),"free_input_multi"===this.messaging.publicLivechatGlobal.chatbot.currentStep.data.chatbot_step_type&&e.on("keydown",this.messaging.publicLivechatGlobal.chatbot.onKeydownInput)},disableInput(e){this.widget.$(".o_composer_text_field").prop("disabled",!0).addClass("text-center fst-italic bg-200").val(e)},renderMessages(){const e=!this.isFolded&&this.publicLivechatView.widget.isAtBottom();this.widget.render(),e&&this.publicLivechatView.widget.scrollToBottom();const t=this;if(this.widget.$(".o_thread_message:last .o_livechat_chatbot_options li").each((function(){$(this).on("click",t.messaging.publicLivechatGlobal.livechatButtonView.widget._onChatbotOptionClicked.bind(t.messaging.publicLivechatGlobal.livechatButtonView.widget))})),this.widget.$(".o_livechat_chatbot_main_restart").on("click",(e=>{e.stopPropagation(),this.messaging.publicLivechatGlobal.livechatButtonView.onChatbotRestartScript(e)})),0!==this.messaging.publicLivechatGlobal.messages.length){const e=this.messaging.publicLivechatGlobal.lastMessage,t=e.widget.getChatbotStepAnswers();t&&0!==t.length&&!e.widget.getChatbotStepAnswerId()&&this.disableInput(this.env._t("Select an option above"))}}},fields:{inputPlaceholder:i({compute(){return this.messaging.publicLivechatGlobal.livechatButtonView.inputPlaceholder?this.messaging.publicLivechatGlobal.livechatButtonView.inputPlaceholder:this.env._t("Say something")}}),publicLivechatGlobalOwner:o("PublicLivechatGlobal",{identifying:!0,inverse:"chatWindow"}),publicLivechatView:o("PublicLivechatView",{default:{},inverse:"publicLivechatWindowOwner"}),widget:i()}}),{}})),odoo.define("@mail/services/messaging_service",(async function(e){"use strict";let t={};const{ModelManager:n}=e("@mail/model/model_manager");t.messagingService={dependencies:["effect","bus_service","localization","messagingValues","orm","presence","router","rpc","ui","user"],start(e,{messagingValues:t}){const i=new n(e);return this._startModelManager(i,t),{get:async()=>i.getMessaging(),modelManager:i}},_startModelManager(e,t){e.start(t)}};return t})),odoo.define("@bus/services/presence_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),o=e("web.core"),s=t.presenceService={start(e){const t="presence";e.bus.addEventListener("window_focus",(e=>{o.bus.trigger("window_focus",e)}));let i=!0,s=n.localStorage.getItem(`${t}.lastPresence`)||(new Date).getTime();function r(){s=(new Date).getTime(),n.localStorage.setItem(`${t}.lastPresence`,s)}function a(o){try{o=parent.document.hasFocus()}catch{}i=o,n.localStorage.setItem(`${t}.focus`,i),i&&(s=(new Date).getTime(),e.bus.trigger("window_focus",i))}return n.addEventListener("storage",(function({key:n,newValue:o}){n===`${t}.focus`&&(i=JSON.parse(o),e.bus.trigger("window_focus",o)),n===`${t}.lastPresence`&&(s=JSON.parse(o))})),n.addEventListener("focus",(()=>a(!0))),n.addEventListener("blur",(()=>a(!1))),n.addEventListener("pagehide",(()=>a(!1))),n.addEventListener("click",r),n.addEventListener("keydown",r),{getLastPresence:()=>s,isOdooFocused:()=>i}}};return i.category("services").add("presence",s),t})),odoo.define("@web/core/action_swiper/action_swiper",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{localization:i}=e("@web/core/l10n/localization"),{clamp:o}=e("@web/core/utils/numbers"),{Component:s,onMounted:r,onWillUnmount:a,useRef:l,useState:c}=e("@odoo/owl"),u=t.ActionSwiper=class extends s{setup(){this.actionTimeoutId=null,this.resetTimeoutId=null,this.defaultState={containerStyle:"",isSwiping:!1,width:void 0},this.root=l("root"),this.targetContainer=l("targetContainer"),this.state=c({...this.defaultState}),this.scrollables=void 0,this.startX=void 0,this.swipedDistance=0,this.isScrollValidated=!1,r((()=>{if(this.targetContainer.el&&(this.state.width=this.targetContainer.el.getBoundingClientRect().width),this.props.onLeftSwipe||this.props.onRightSwipe){const e=new Set(this.root.el.classList);e.delete("o_actionswiper");for(const t of e)this.targetContainer.el.firstChild.classList.add(t),this.root.el.classList.remove(t)}})),a((()=>{n.clearTimeout(this.actionTimeoutId),n.clearTimeout(this.resetTimeoutId)}))}get localizedProps(){return{onLeftSwipe:"rtl"===i.direction?this.props.onRightSwipe:this.props.onLeftSwipe,onRightSwipe:"rtl"===i.direction?this.props.onLeftSwipe:this.props.onRightSwipe}}_onTouchEndSwipe(){this.state.isSwiping&&(this.state.isSwiping=!1,this.localizedProps.onRightSwipe&&this.swipedDistance>this.state.width/this.props.swipeDistanceRatio?(this.swipedDistance=this.state.width,this.handleSwipe(this.localizedProps.onRightSwipe.action)):this.localizedProps.onLeftSwipe&&this.swipedDistance<-this.state.width/this.props.swipeDistanceRatio?(this.swipedDistance=-this.state.width,this.handleSwipe(this.localizedProps.onLeftSwipe.action)):this.state.containerStyle="")}_onTouchMoveSwipe(e){if(this.state.isSwiping){if(this.props.swipeInvalid&&this.props.swipeInvalid())return void(this.state.isSwiping=!1);const{onLeftSwipe:n,onRightSwipe:i}=this.localizedProps;if(this.swipedDistance=o(e.touches[0].clientX-this.startX,n?-this.state.width:0,i?this.state.width:0),Math.abs(this.swipedDistance)>40&&e.preventDefault(),!this.isScrollValidated&&this.scrollables&&!(t=this.scrollables,{left:!t.filter((e=>0!==e.scrollLeft)).length,right:!t.filter((e=>e.scrollLeft+Math.round(e.getBoundingClientRect().width)!==e.scrollWidth)).length})[this.swipedDistance>0?"left":"right"])return this._reset();this.isScrollValidated=!0,this.props.animationOnMove&&(this.state.containerStyle=`transform: translateX(${this.swipedDistance}px)`)}var t}_onTouchStartSwipe(e){this.scrollables=e.composedPath().filter((e=>1===e.nodeType&&this.targetContainer.el.contains(e)&&e.scrollWidth>e.getBoundingClientRect().width&&["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))),this.state.width||(this.state.width=this.targetContainer&&this.targetContainer.el.getBoundingClientRect().width),this.state.isSwiping=!0,this.isScrollValidated=!1,this.startX=e.touches[0].clientX}_reset(){Object.assign(this.state,{...this.defaultState}),this.scrollables=void 0,this.startX=void 0,this.swipedDistance=0,this.isScrollValidated=!1}handleSwipe(e){if("bounce"===this.props.animationType)this.state.containerStyle=`transform: translateX(${this.swipedDistance}px)`,this.actionTimeoutId=n.setTimeout((()=>{e(),this._reset()}),500);else{if("forwards"!==this.props.animationType)return e();this.state.containerStyle=`transform: translateX(${this.swipedDistance}px)`,this.actionTimeoutId=n.setTimeout((()=>{e(),this.state.isSwiping=!0,this.state.containerStyle=`transform: translateX(${-this.swipedDistance}px)`,this.resetTimeoutId=n.setTimeout((()=>{this._reset()}),100)}),100)}}};return u.props={onLeftSwipe:{type:Object,args:{action:Function,icon:String,bgColor:String},optional:!0},onRightSwipe:{type:Object,args:{action:Function,icon:String,bgColor:String},optional:!0},slots:Object,animationOnMove:{type:Boolean,optional:!0},animationType:{type:String,optional:!0},swipeDistanceRatio:{type:Number,optional:!0},swipeInvalid:{type:Function,optional:!0}},u.defaultProps={onLeftSwipe:void 0,onRightSwipe:void 0,animationOnMove:!0,animationType:"bounce",swipeDistanceRatio:2},u.template="web.ActionSwiper",t})),odoo.define("@web/core/autocomplete/autocomplete",(async function(e){"use strict";let t={};const{Deferred:n}=e("@web/core/utils/concurrency"),{useForwardRefToParent:i,useService:o}=e("@web/core/utils/hooks"),{useDebounced:s}=e("@web/core/utils/timing"),{getActiveHotkey:r}=e("@web/core/hotkeys/hotkey_service"),{usePosition:a}=e("@web/core/position_hook"),{Component:l,useExternalListener:c,useRef:u,useState:d}=e("@odoo/owl"),h=t.AutoComplete=class extends l{setup(){this.nextSourceId=0,this.nextOptionId=0,this.sources=[],this.state=d({navigationRev:0,optionsRev:0,open:!1,activeSourceOption:null,value:this.props.value}),this.inputRef=i("input"),this.root=u("root"),this.debouncedProcessInput=s((async()=>{const e=this.pendingPromise;this.pendingPromise=null,this.props.onInput({inputValue:this.inputRef.el.value});try{await this.open(!0),e.resolve()}catch{e.reject()}finally{e===this.loadingPromise&&(this.loadingPromise=null)}}),this.constructor.timeout),c(window,"scroll",this.onWindowScroll,!0),this.hotkey=o("hotkey"),this.hotkeysToRemove=[],owl.onWillUpdateProps((e=>{(this.props.value!==e.value||this.forceValFromProp)&&(this.forceValFromProp=!1,this.state.value=e.value,this.inputRef.el.value=e.value,this.close())})),a((()=>this.inputRef.el),{popper:"sourcesList",position:"bottom-start"})}get isOpened(){return this.state.open}get hasOptions(){for(const e of this.sources)if(e.isLoading||e.options.length)return!0;return!1}open(e=!1){return this.state.open=!0,this.loadSources(e)}close(){this.state.open=!1,this.state.activeSourceOption=null}async loadSources(e){this.sources=[],this.state.activeSourceOption=null;const t=[];for(const n of this.props.sources){const i=this.makeSource(n);this.sources.push(i);const o=this.loadOptions(n.options,e?this.inputRef.el.value.trim():"");if(o instanceof Promise){i.isLoading=!0;const e=o.then((e=>{i.options=e.map((e=>this.makeOption(e))),i.isLoading=!1,this.state.optionsRev++}));t.push(e)}else i.options=o.map((e=>this.makeOption(e)))}await Promise.all(t),this.navigate(0)}loadOptions(e,t){return"function"==typeof e?e(t):e}makeOption(e){return Object.assign(Object.create(e),{id:++this.nextOptionId})}makeSource(e){return{id:++this.nextSourceId,options:[],isLoading:!1,placeholder:e.placeholder,optionTemplate:e.optionTemplate}}isActiveSourceOption([e,t]){return this.state.activeSourceOption&&this.state.activeSourceOption[0]===e&&this.state.activeSourceOption[1]===t}selectOption(e,t={}){const n=this.sources[e[0]].options[e[1]];if(n.unselectable)return this.inputRef.el.value="",void this.close();this.props.resetOnSelect&&(this.inputRef.el.value=""),this.forceValFromProp=!0,this.props.onSelect(n,{...t,input:this.inputRef.el});const i=new CustomEvent("AutoComplete:OPTION_SELECTED",{bubbles:!0});this.root.el.dispatchEvent(i),this.close()}navigate(e){let t=Math.sign(e);if(t?this.state.navigationRev++:(this.state.activeSourceOption=null,t=1),this.state.activeSourceOption){let[e,n]=this.state.activeSourceOption,i=this.sources[e];if(n+=t,0>n||n>=i.options.length){for(e+=t,i=this.sources[e];i&&i.isLoading;)e+=t,i=this.sources[e];i&&(n=t<0?i.options.length-1:0)}this.state.activeSourceOption=i?[e,n]:null}else{let e=t<0?this.sources.length-1:0,n=this.sources[e];for(;n&&n.isLoading;)e+=t,n=this.sources[e];if(n){const i=t<0?n.options.length-1:0;i<n.options.length&&(this.state.activeSourceOption=[e,i])}}}onInputBlur(){const e=this.inputRef.el.value;this.props.autoSelect&&this.state.activeSourceOption&&e.length>0&&e!==this.props.value?this.selectOption(this.state.activeSourceOption,{triggeredOnBlur:!0}):(this.props.onBlur({inputValue:e}),this.close())}onInputClick(){this.isOpened?this.close():this.open(this.inputRef.el.value.trim()!==this.props.value)}onInputChange(){this.props.onChange({inputValue:this.inputRef.el.value})}async onInput(){this.pendingPromise=this.pendingPromise||new n,this.loadingPromise=this.pendingPromise,this.debouncedProcessInput()}async onInputKeydown(e){const t=r(e),n="enter"===t||"tab"===t;switch(this.loadingPromise&&n&&("enter"===t&&(e.stopPropagation(),e.preventDefault()),await this.loadingPromise),t){case"enter":if(!this.isOpened||!this.state.activeSourceOption)return;this.selectOption(this.state.activeSourceOption);break;case"escape":if(!this.isOpened)return;this.close();break;case"tab":if(!this.isOpened)return;return this.props.autoSelect&&this.state.activeSourceOption&&(this.state.navigationRev>0||this.inputRef.el.value.length>0)&&this.selectOption(this.state.activeSourceOption),void this.close();case"arrowup":this.navigate(-1),this.isOpened||this.open(!0);break;case"arrowdown":this.navigate(1),this.isOpened||this.open(!0);break;default:return}e.stopPropagation(),e.preventDefault()}onOptionMouseEnter(e){this.state.activeSourceOption=e}onOptionMouseLeave(){this.state.activeSourceOption=null}onOptionClick(e){this.selectOption(e)}onWindowScroll(e){this.isOpened&&!this.root.el.contains(e.target)&&this.close()}};return Object.assign(h,{template:"web.AutoComplete",props:{value:{type:String},id:{type:String,optional:!0},onSelect:{type:Function},sources:{type:Array,element:{type:Object,shape:{placeholder:{type:String,optional:!0},optionTemplate:{type:String,optional:!0},options:[Array,Function]}}},placeholder:{type:String,optional:!0},autoSelect:{type:Boolean,optional:!0},resetOnSelect:{type:Boolean,optional:!0},onInput:{type:Function,optional:!0},onChange:{type:Function,optional:!0},onBlur:{type:Function,optional:!0},input:{type:Function,optional:!0}},defaultProps:{placeholder:"",autoSelect:!1,onInput:()=>{},onChange:()=>{},onBlur:()=>{}},timeout:250}),t})),odoo.define("@web/core/browser/cookie_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),i=31536e3;function o(){function e(){return function(e){const t={},n=e.split("; ");for(const e of n){const[n,i]=e.split("=");t[n]=i||""}return t}(document.cookie)}let t=e();function n(n,o,s){document.cookie=function(e,t,n=i){let o=[];return void 0!==t&&o.push(`${e}=${t}`),o=o.concat(["path=/",`max-age=${n}`]),o.join(";")}(n,o,s),t=e()}return{get current(){return t},setCookie:n,deleteCookie(e){n(e,"kill",0)}}}const s=t.cookieService={start:()=>o()};return n.category("services").add("cookie",s),t})),odoo.define("@web/core/browser/router_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{shallowEqual:i}=e("@web/core/utils/objects"),{objectToUrlEncodedString:o}=e("@web/core/utils/urls"),{browser:s}=e("@web/core/browser/browser");function r(e){return!e||isNaN(e)?e:Number(e)}function a(e){const t=e.split("&"),n={};for(const e of t){const[t,i]=e.split("="),o=decodeURIComponent(i||"");n[t]=r(o)}return n}function l(e,t,n,i={}){const o={};for(const n in t){if("lock"in i)i.lock?e.add(n):e.delete(n);else if(e.has(n))continue;o[n]=t[n]}for(const t in n)e.has(t)&&!(t in o)&&(o[t]=n[t]);return o}function c(e,t,n){return t||(e=Object.assign({},n.hash,e)),e=function(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)).map((([e,t])=>[e,r(t)])))}(e),!i(n.hash,e)&&Object.assign({},n,{hash:e})}function u(e){return e&&"#"!==e?a(e.slice(1)):{}}function d(e){return e?a(e.slice(1)):{}}function h(e){const t=o(e.search),n=o(e.hash);return e.pathname+(t?"?"+t:"")+(n?"#"+n:"")}function p(e){const{pathname:t,search:n,hash:i}=e;return{pathname:t,search:d(n),hash:u(i)}}function f(e){const t=e.bus,n=new Set;let i,o=p(s.location);function r(e){let t=[];return function(r,a){t.push([r,a]),s.clearTimeout(i),i=s.setTimeout((()=>{!function(){const i=t.some((([,e])=>e&&e.replace)),r=c(t.reduce(((e,[t,i])=>(t=l(n,t,o.hash,i),e&&(t=l(n,t,e,i)),Object.assign(e||{},t))),null),i,o);if(!r)return;const a=s.location.origin+h(r);"push"===e?s.history.pushState({},"",a):s.history.replaceState({},"",a),o=p(s.location)}(),i=null,t=[]}))}}return s.addEventListener("hashchange",(e=>{s.clearTimeout(i);const n=new URL(e.newURL);o=p(n),t.trigger("ROUTE_CHANGE")})),{get current(){return o},pushState:r("push"),replaceState:r("replace"),redirect:(t,n)=>async function(e,t,n=!1){n&&await new Promise((t=>{const n=i=>{s.setTimeout((async()=>{e.services.rpc("/web/webclient/version_info",{}).then(t).catch((()=>n(250)))}),i)};n(1e3)})),s.location.assign(t)}(e,t,n),cancelPushes:()=>s.clearTimeout(i)}}t.parseHash=u,t.parseSearchQuery=d,t.routeToUrl=h;const m=t.routerService={start:e=>f(e)};return t.objectToQuery=function(e){const t={};return Object.entries(e).forEach((([e,n])=>{t[e]=n?String(n):n})),t},n.category("services").add("router",m),t})),odoo.define("@web/core/browser/title_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),i=t.titleService={start(){const e={};return{get current(){return document.title},getParts:function(){return Object.assign({},e)},setParts:function(t){for(const n in t){const i=t[n];i?e[n]=i:delete e[n]}document.title=Object.values(e).join(" - ")}}}};return n.category("services").add("title",i),t})),odoo.define("@web/core/checkbox/checkbox",(async function(e){"use strict";let t={};const{useHotkey:n}=e("@web/core/hotkeys/hotkey_hook"),{Component:i,useRef:o}=e("@odoo/owl"),s=t.CheckBox=class e extends i{setup(){this.id="checkbox-comp-"+e.nextId++,this.rootRef=o("root"),n("Enter",(({area:e})=>{const t=e.querySelector("input").checked;this.props.onChange(!t)}),{area:()=>this.rootRef.el,bypassEditableProtection:!0})}onClick(e){if(e.composedPath().find((e=>["INPUT","LABEL"].includes(e.tagName))))return void e.stopPropagation();const t=this.rootRef.el.querySelector("input");t.focus(),this.props.disabled||(e.stopPropagation(),t.checked=!t.checked,this.props.onChange(t.checked))}onChange(e){this.props.disabled||this.props.onChange(e.target.checked)}};return s.template="web.CheckBox",s.nextId=1,s.defaultProps={onChange:()=>{}},s.props={id:{type:!0,optional:!0},disabled:{type:Boolean,optional:!0},value:{type:Boolean,optional:!0},slots:{type:Object,optional:!0},onChange:{type:Function,optional:!0},className:{type:String,optional:!0},name:{type:String,optional:!0}},t})),odoo.define("@web/core/colorlist/colorlist",(async function(e){"use strict";let t={};const{_lt:n}=e("@web/core/l10n/translation"),{Component:i,useRef:o,useState:s,useExternalListener:r}=e("@odoo/owl"),a=t.ColorList=class extends i{setup(){this.colorlistRef=o("colorlist"),this.state=s({isExpanded:this.props.isExpanded}),r(window,"click",this.onOutsideClick)}get colors(){return this.constructor.COLORS}onColorSelected(e){this.props.onColorSelected(e),this.props.forceExpanded||(this.state.isExpanded=!1)}onOutsideClick(e){this.colorlistRef.el.contains(e.target)||this.props.forceExpanded||(this.state.isExpanded=!1)}onToggle(e){this.props.canToggle&&(e.preventDefault(),e.stopPropagation(),this.state.isExpanded=!this.state.isExpanded,this.colorlistRef.el.firstElementChild.focus())}};return a.COLORS=[n("No color"),n("Red"),n("Orange"),n("Yellow"),n("Light blue"),n("Dark purple"),n("Salmon pink"),n("Medium blue"),n("Dark blue"),n("Fuchsia"),n("Green"),n("Purple")],a.template="web.ColorList",a.defaultProps={forceExpanded:!1,isExpanded:!1},a.props={canToggle:{type:Boolean,optional:!0},colors:Array,forceExpanded:{type:Boolean,optional:!0},isExpanded:{type:Boolean,optional:!0},onColorSelected:Function,selectedColor:{type:Number,optional:!0}},t})),odoo.define("@web/core/commands/command_category",(async function(e){"use strict";const{registry:t}=e("@web/core/registry");return t.category("command_categories").add("app",{},{sequence:10}).add("smart_action",{},{sequence:15}).add("actions",{},{sequence:30}).add("navbar",{},{sequence:40}).add("default",{},{sequence:100}).add("debug",{},{sequence:110}),{}})),odoo.define("@web/core/commands/command_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{useEffect:i}=e("@odoo/owl");return t.useCommand=function(e,t,o={}){const s=n("command");i((()=>s.add(e,t,o)),(()=>[]))},t})),odoo.define("@web/core/commands/command_palette",(async function(e){"use strict";let t={};const{Dialog:n}=e("@web/core/dialog/dialog"),{useHotkey:i}=e("@web/core/hotkeys/hotkey_hook"),{_lt:o}=e("@web/core/l10n/translation"),{KeepLast:s,Race:r}=e("@web/core/utils/concurrency"),{useAutofocus:a,useService:l}=e("@web/core/utils/hooks"),{scrollTo:c}=e("@web/core/utils/scrolling"),{fuzzyLookup:u}=e("@web/core/utils/search"),{debounce:d}=e("@web/core/utils/timing"),{isMacOS:h,isMobileOS:p}=e("@web/core/browser/feature_detection"),{escapeRegExp:f}=e("@web/core/utils/strings"),{Component:m,onWillStart:g,onWillDestroy:v,useRef:b,useState:y,markRaw:_,useExternalListener:w}=e("@odoo/owl"),k=o("Search..."),x=o("No result found"),S=["default"];function C(e,t){return n=>{const i=e===n.category,o="default"===e&&!t.includes(n.category);return i||o}}function D(e,t){if(e){const n=e.split(new RegExp(`(${f(t)})`,"ig"));return t.length&&n.length>1?n:[e]}return[]}t.splitCommandName=D;const T=t.DefaultCommandItem=class extends m{};T.template="web.DefaultCommandItem";const E=t.CommandPalette=class e extends m{setup(){if(this.props.bus){const e=({detail:e})=>this.setCommandPaletteConfig(e);this.props.bus.addEventListener("SET-CONFIG",e),v((()=>this.props.bus.removeEventListener("SET-CONFIG",e)))}this.keyId=1,this.race=new r,this.keepLast=new s,this._sessionId=e.lastSessionId++,this.DefaultCommandItem=T,this.activeElement=l("ui").activeElement,this.inputRef=a(),i("Enter",(()=>this.executeSelectedCommand()),{bypassEditableProtection:!0}),i("Control+Enter",(()=>this.executeSelectedCommand(!0)),{bypassEditableProtection:!0}),i("ArrowUp",(()=>this.selectCommandAndScrollTo("PREV")),{bypassEditableProtection:!0,allowRepeat:!0}),i("ArrowDown",(()=>this.selectCommandAndScrollTo("NEXT")),{bypassEditableProtection:!0,allowRepeat:!0}),w(window,"mousedown",this.onWindowMouseDown),this.state=y({}),this.root=b("root"),this.listboxRef=b("listbox"),g((()=>this.setCommandPaletteConfig(this.props.config)))}get commandsByCategory(){const e=[];for(const t of this.categoryKeys){const n=this.state.commands.filter(C(t,this.categoryKeys));n.length&&e.push({commands:n,keyId:t})}return e}async setCommandPaletteConfig(e){this.configByNamespace=e.configByNamespace||{},this.state.FooterComponent=e.FooterComponent,this.providersByNamespace={default:[]};for(const t of e.providers){const e=t.namespace||"default";e in this.providersByNamespace?this.providersByNamespace[e].push(t):this.providersByNamespace[e]=[t]}const{namespace:t,searchValue:n}=this.processSearchValue(e.searchValue||"");this.switchNamespace(t),this.state.searchValue=n,await this.race.add(this.search(n))}async setCommands(e,t={}){this.categoryKeys=["default"];const n=this.providersByNamespace[e].map((e=>{const{provide:n}=e;return n(this.env,t)}));let i=(await this.keepLast.add(Promise.all(n))).flat();const o=this.configByNamespace[e]||{};if(t.searchValue&&S.includes(e))i=u(t.searchValue,i,(e=>e.name));else if(o.categories){let e=[];this.categoryKeys=o.categories,this.categoryKeys.includes("default")||this.categoryKeys.push("default");for(const t of this.categoryKeys)e=e.concat(i.filter(C(t,this.categoryKeys)));i=e}this.state.commands=_(i.slice(0,100).map((e=>({...e,keyId:this.keyId++,splitName:D(e.name,t.searchValue)})))),this.selectCommand(this.state.commands.length?0:-1),this.mouseSelectionActive=!1,this.state.emptyMessage=(o.emptyMessage||x).toString()}selectCommand(e){-1===e||e>=this.state.commands.length?this.state.selectedCommand=null:this.state.selectedCommand=_(this.state.commands[e])}selectCommandAndScrollTo(e){this.mouseSelectionActive=!1;const t=this.state.commands.indexOf(this.state.selectedCommand);if(-1===t)return;let n;"NEXT"===e?n=t<this.state.commands.length-1?t+1:0:"PREV"===e&&(n=t>0?t-1:this.state.commands.length-1),this.selectCommand(n);const i=this.listboxRef.el.querySelector(`#o_command_${n}`);c(i,{scrollable:this.listboxRef.el})}onCommandClicked(e,t){e.preventDefault(),this.selectCommand(t);const n=h()?e.metaKey:e.ctrlKey;this.executeSelectedCommand(n)}async executeCommand(e){const t=await e.action();t?this.setCommandPaletteConfig(t):this.props.close()}async executeSelectedCommand(e){await this.searchValuePromise;const t=this.state.selectedCommand;t&&(e?t.href&&window.open(t.href,"_blank"):this.executeCommand(t))}onCommandMouseEnter(e){this.mouseSelectionActive?this.selectCommand(e):this.mouseSelectionActive=!0}async search(e){await this.setCommands(this.state.namespace,{searchValue:e,activeElement:this.activeElement,sessionId:this._sessionId}),this.inputRef.el&&this.inputRef.el.focus()}debounceSearch(e){const{namespace:t,searchValue:n}=this.processSearchValue(e);"default"!==t&&this.state.namespace!==t&&this.switchNamespace(t),this.state.searchValue=n,this.searchValuePromise=this.lastDebounceSearch(n).catch((()=>{this.searchValuePromise=null}))}onSearchInput(e){this.debounceSearch(e.target.value)}onKeyDown(e){"backspace"!==e.key.toLowerCase()||e.target.value.length||e.repeat||(this.switchNamespace("default"),this.state.searchValue="",this.searchValuePromise=this.lastDebounceSearch("").catch((()=>{this.searchValuePromise=null})))}onWindowMouseDown(e){this.root.el.contains(e.target)||this.props.close()}switchNamespace(e){this.lastDebounceSearch&&this.lastDebounceSearch.cancel();const t=this.configByNamespace[e]||{};this.lastDebounceSearch=d((e=>this.search(e)),t.debounceDelay||0),this.state.namespace=e,this.state.placeholder=t.placeholder||k.toString()}processSearchValue(e){let t="default";return e.length&&this.providersByNamespace[e[0]]&&(t=e[0],e=e.slice(1)),{namespace:t,searchValue:e}}get isMacOS(){return h()}get isMobileOS(){return p()}};return E.lastSessionId=0,E.template="web.CommandPalette",E.components={Dialog:n},t})),odoo.define("@web/core/commands/command_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{CommandPalette:i}=e("@web/core/commands/command_palette"),{Component:o,xml:s,EventBus:r}=e("@odoo/owl"),a=n.category("command_categories"),l=n.category("command_provider"),c=n.category("command_setup");class u extends o{setup(){this.elements=c.getEntries().map((e=>({namespace:e[0],name:e[1].name}))).filter((e=>e.name))}onClick(e){this.props.switchNamespace(e)}}u.template=s`
<span>
    <span class="fw-bolder text-primary">TIP</span>  search for
    <t t-foreach="elements" t-as="element" t-key="element.namespace">
        <t t-if="!(element_first || element_last)">, </t>
        <t t-if="element_last and !element_first"> and </t>
        <span class="o_namespace btn-link text-primary cursor-pointer" t-on-click="() => this.onClick(element.namespace)">
            <span t-out="element.namespace" class="fw-bolder text-primary"/><t t-out="element.name"/>
        </span>
    </t>
</span>
`;const d=t.commandService={dependencies:["dialog","hotkey","ui"],start(e,{dialog:t,hotkey:n,ui:o}){const s=new Map;let d=0,h=!1;const p=new r;function f(e={},t){const n={};for(const e of l.getAll()){const t=e.namespace||"default";n[t]||(n[t]={categories:[]})}for(const[e,t]of a.getEntries()){const i=t.namespace||"default";i in n&&n[i].categories.push(e)}for(const[e,{emptyMessage:t,debounceDelay:i,placeholder:o}]of c.getEntries())e in n&&(t&&(n[e].emptyMessage=t),void 0!==i&&(n[e].debounceDelay=i),o&&(n[e].placeholder=o));return m(e=Object.assign({configByNamespace:n,FooterComponent:u,providers:l.getAll()},e),t)}function m(e,n){h?p.trigger("SET-CONFIG",e):(h=!0,t.add(i,{config:e,bus:p},{onClose:()=>{h=!1,n&&n()}}))}return n.add("control+k",f,{bypassEditableProtection:!0,global:!0}),{add(t,i,r={}){const a=function(t,i){if(!t.name||!t.action||"function"!=typeof t.action)throw new Error("A Command must have a name and an action function.");const r=Object.assign({},t,i);if(r.hotkey){const i=async()=>{const n=e.services.command,i=await t.action();!h&&i&&n.openPalette(i)};r.removeHotkey=n.add(r.hotkey,i,{activeElement:r.activeElement,global:r.global,validate:r.isAvailable})}const a=d++;return s.set(a,r),i.activeElement||Promise.resolve().then((()=>{r.activeElement=o.activeElement})),a}({name:t,action:i},r);return()=>{!function(e){const t=s.get(e);t&&t.removeHotkey&&t.removeHotkey(),s.delete(e)}(a)}},getCommands:e=>[...s.values()].filter((t=>t.activeElement===e||t.global)),openMainPalette:f,openPalette:m}}};return n.category("services").add("command",d),t})),odoo.define("@web/core/commands/default_providers",(async function(e){"use strict";let t={};const{isMacOS:n}=e("@web/core/browser/feature_detection"),{useHotkey:i}=e("@web/core/hotkeys/hotkey_hook"),{_lt:o}=e("@web/core/l10n/translation"),{registry:s}=e("@web/core/registry"),{capitalize:r}=e("@web/core/utils/strings"),{getVisibleElements:a}=e("@web/core/utils/ui"),{DefaultCommandItem:l}=e("@web/core/commands/command_palette"),{Component:c}=e("@odoo/owl");s.category("command_setup").add("default",{emptyMessage:o("No command found"),placeholder:o("Search for a command...")});const u=t.HotkeyCommandItem=class extends c{setup(){i(this.props.hotkey,this.props.executeCommand)}getKeysToPress(e){const{hotkey:t}=e;let i=t.split("+");return n()&&(i=i.map((e=>e.replace("control","command"))).map((e=>e.replace("alt","control")))),i.map((e=>e.toUpperCase()))}};u.template="web.HotkeyCommandItem";const d=s.category("command_categories"),h=s.category("command_provider");return h.add("command",{provide:(e,t={})=>e.services.command.getCommands(t.activeElement).map((e=>(e.category=d.contains(e.category)?e.category:"default",e))).filter((e=>void 0===e.isAvailable||e.isAvailable())).map((e=>({Component:e.hotkey?u:l,action:e.action,category:e.category,name:e.name,props:{hotkey:e.hotkey,hotkeyOptions:e.hotkeyOptions}})))}),h.add("data-hotkeys",{provide:(e,t={})=>{const n=[],i=s.category("services").get("hotkey").overlayModifier;for(const o of a(t.activeElement,"[data-hotkey]:not(:disabled)")){const t=o.closest("[data-command-category]"),s=t?t.dataset.commandCategory:"default",a=o.title||o.dataset.bsOriginalTitle||o.dataset.tooltip||o.placeholder||o.innerText&&`${o.innerText.slice(0,50)}${o.innerText.length>50?"...":""}`||e._t("no description provided");n.push({Component:u,action:()=>{o.focus(),o.click()},category:s,name:r(a.trim().toLowerCase()),props:{hotkey:`${i}+${o.dataset.hotkey}`}})}return n}}),t})),odoo.define("@web/core/confirmation_dialog/confirmation_dialog",(async function(e){"use strict";let t={};const{Dialog:n}=e("@web/core/dialog/dialog"),{_lt:i}=e("@web/core/l10n/translation"),{useChildRef:o}=e("@web/core/utils/hooks"),{Component:s}=e("@odoo/owl"),r=t.ConfirmationDialog=class extends s{setup(){this.env.dialogData.close=()=>this._cancel(),this.modalRef=o(),this.isConfirmedOrCancelled=!1}async _cancel(){if(!this.isConfirmedOrCancelled){if(this.isConfirmedOrCancelled=!0,this.disableButtons(),this.props.cancel)try{await this.props.cancel()}catch(e){throw this.props.close(),e}this.props.close()}}async _confirm(){if(!this.isConfirmedOrCancelled){if(this.isConfirmedOrCancelled=!0,this.disableButtons(),this.props.confirm)try{await this.props.confirm()}catch(e){throw this.props.close(),e}this.props.close()}}disableButtons(){if(this.modalRef.el)for(const e of[...this.modalRef.el.querySelectorAll(".modal-footer button")])e.disabled=!0}};r.template="web.ConfirmationDialog",r.components={Dialog:n},r.props={close:Function,title:{validate:e=>"string"==typeof e||"object"==typeof e&&"function"==typeof e.toString,optional:!0},body:String,confirm:{type:Function,optional:!0},confirmLabel:{type:String,optional:!0},cancel:{type:Function,optional:!0},cancelLabel:{type:String,optional:!0}},r.defaultProps={confirmLabel:i("Ok"),cancelLabel:i("Cancel"),title:i("Confirmation")};const a=t.AlertDialog=class extends r{};return a.template="web.AlertDialog",a.props={...r.props,contentClass:{type:String,optional:!0}},a.defaultProps={...r.defaultProps,title:i("Alert")},t})),odoo.define("@web/core/context",(async function(e){"use strict";let t={};const{evaluateExpr:n}=e("@web/core/py_js/py");return t.makeContext=function(e,t){const i=Object.assign({},t),o={};for(let t of e)""!==t&&(t="string"==typeof t?n(t,i):t,Object.assign(o,t),Object.assign(i,o));return o},t})),odoo.define("@web/core/datepicker/datepicker",(async function(e){"use strict";let t={};const{Component:n,onMounted:i,onWillUnmount:o,onWillUpdateProps:s,useExternalListener:r,useRef:a,useState:l}=e("@odoo/owl"),{isMobileOS:c}=e("@web/core/browser/feature_detection"),{formatDate:u,formatDateTime:d,luxonToMoment:h,luxonToMomentFormat:p,momentToLuxon:f,parseDate:m,parseDateTime:g}=e("@web/core/l10n/dates"),{localization:v}=e("@web/core/l10n/localization"),{useAutofocus:b}=e("@web/core/utils/hooks"),{pick:y}=e("@web/core/utils/objects"),{DateTime:_}=luxon;let w=0;function k(e,t){return e&&t?Number(e)===Number(t):e===t}function x(e,t){return(...n)=>{const i=[t,null];try{i[0]=e(...n)}catch(e){i[1]=e}return i}}const S=t.DatePicker=class extends n{setup(){this.rootRef=a("root"),this.inputRef=a("input"),this.hiddenInputRef=a("hiddenInput"),this.state=l({warning:!1}),this.datePickerId="o_datepicker_"+w++,this.isPickerOpen=!1,this.isPickerChanged=!1,this.pickerDate=this.props.date,this.ignorePickerEvents=!0,this.initFormat(),this.setDateAndFormat(this.props),b(),r(window,"click",this.onWindowClick,{capture:!0}),r(window,"scroll",this.onWindowScroll,{capture:!0}),i(this.onMounted),s(this.onWillUpdateProps),o(this.onWillUnmount)}onMounted(){this.bootstrapDateTimePicker(this.props),this.updateInput(this.date),this.addPickerListener("show",(()=>{this.isPickerOpen=!0,this.inputRef.el.select()})),this.addPickerListener("change",(({date:e})=>{if(e&&this.isPickerOpen){const{locale:t}=this.getOptions();this.isPickerChanged=!0,this.pickerDate=f(e).setLocale(t),this.updateInput(this.pickerDate)}})),this.addPickerListener("hide",(()=>{this.isPickerOpen=!1,this.onDateChange(),this.isPickerChanged=!1})),this.addPickerListener("error",(()=>!1)),this.ignorePickerEvents=!1}onWillUpdateProps(e){this.ignorePickerEvents=!0,this.setDateAndFormat(e);const t=this.props.revId!==e.revId||Object.entries(y(e,"date","format")).some((([e,t])=>!k(this.props[e],t)));t&&!k(this.pickerDate,e.date)&&(e.date?this.bootstrapDateTimePicker("date",h(e.date)):this.bootstrapDateTimePicker("clear")),t&&this.updateInput(this.date),this.isPickerOpen&&(this.bootstrapDateTimePicker("hide"),this.bootstrapDateTimePicker("show")),this.ignorePickerEvents=!1}onWillUnmount(){window.$(this.rootRef.el).off(),this.bootstrapDateTimePicker("destroy")}addPickerListener(e,t){return window.$(this.rootRef.el).on(`${e}.datetimepicker`,(e=>!this.ignorePickerEvents&&t(e)))}getOptions(){return{format:this.format,locale:this.props.locale||this.date&&this.date.locale}}initFormat(){this.defaultFormat=v.dateFormat,this.formatValue=x(u,""),this.parseValue=x(m,!1),this.isLocal=!1}setDateAndFormat({date:e,locale:t,format:n}){this.date=e&&t?e.setLocale(t):e,this.format=n||this.defaultFormat,this.staticFormat="yyyy-MM-dd"}updateInput(e){e=e||!1;const t=this.getOptions(),[n,i]=this.formatValue(e,t);return i||(this.inputRef.el.value=n,[this.hiddenInputRef.el.value]=this.formatValue(e,{...t,format:this.staticFormat}),this.props.onUpdateInput(n)),n}bootstrapDateTimePicker(e,...t){if("object"==typeof e){const t={...e,date:this.date||null,format:p(this.staticFormat),locale:e.locale||this.date&&this.date.locale};for(const e in t)t[e]instanceof _&&(t[e]=h(t[e]));e=t}window.$(this.rootRef.el).datetimepicker(e,...t)}onDateChange(){const[e,t]=this.isPickerChanged?[this.pickerDate,null]:this.parseValue(this.inputRef.el.value,this.getOptions());this.state.warning=e&&e>_.local(),t||k(this.date,e)?this.updateInput(this.date):this.props.onDateTimeChanged(e),this.pickerDate&&this.inputRef.el.select()}onInputChange(){this.onDateChange()}onInputInput(e){return this.isPickerChanged=!1,this.props.onInput(e)}onInputKeydown(e){switch(e.key){case"Escape":this.isPickerOpen&&(e.preventDefault(),e.stopPropagation(),this.bootstrapDateTimePicker("hide"),this.inputRef.el.select());break;case"Tab":this.bootstrapDateTimePicker("hide");break;case"Enter":this.onInputChange()}}onWindowClick({target:e}){e.closest(".bootstrap-datetimepicker-widget")||(this.rootRef.el.contains(e)?this.bootstrapDateTimePicker("toggle"):this.bootstrapDateTimePicker("hide"))}onWindowScroll(e){c()||e.target===this.inputRef.el||this.bootstrapDateTimePicker("hide")}};S.defaultProps={calendarWeeks:!0,icons:{clear:"fa fa-delete",close:"fa fa-check primary",date:"fa fa-calendar",down:"fa fa-chevron-down",next:"fa fa-chevron-right",previous:"fa fa-chevron-left",time:"fa fa-clock-o",today:"fa fa-calendar-check-o",up:"fa fa-chevron-up"},inputId:"",maxDate:_.fromObject({year:9999,month:12,day:31}),minDate:_.fromObject({year:1e3}),useCurrent:!1,widgetParent:"body",onInput:()=>{},onUpdateInput:()=>{},revId:0},S.props={onDateTimeChanged:Function,date:{type:[_,{value:!1}],optional:!0},warn_future:{type:Boolean,optional:!0},buttons:{type:Object,shape:{showClear:Boolean,showClose:Boolean,showToday:Boolean},optional:!0},calendarWeeks:{type:Boolean,optional:!0},format:{type:String,optional:!0},icons:{type:Object,shape:{clear:String,close:String,date:String,down:String,next:String,previous:String,time:String,today:String,up:String},optional:!0},inputId:{type:String,optional:!0},keyBinds:{validate:e=>"object"==typeof e||null===e,optional:!0},locale:{type:String,optional:!0},maxDate:{type:_,optional:!0},minDate:{type:_,optional:!0},readonly:{type:Boolean,optional:!0},useCurrent:{type:Boolean,optional:!0},widgetParent:{type:String,optional:!0},daysOfWeekDisabled:{type:Array,optional:!0},placeholder:{type:String,optional:!0},onInput:{type:Function,optional:!0},onUpdateInput:{type:Function,optional:!0},revId:{type:Number,optional:!0}},S.template="web.DatePicker";return(t.DateTimePicker=class extends S{initFormat(){this.defaultFormat=v.dateTimeFormat,this.formatValue=x(d,""),this.parseValue=x(g,!1),this.isLocal=!0}setDateAndFormat(e){super.setDateAndFormat(e),this.staticFormat+=` ${/h/.test(this.format)?"hh":"HH"}:mm:ss`}}).defaultProps={...S.defaultProps,buttons:{showClear:!1,showClose:!0,showToday:!1}},t})),odoo.define("@web/core/dialog/dialog_container",(async function(e){"use strict";let t={};const{ErrorHandler:n,WithEnv:i}=e("@web/core/utils/components"),{Component:o,xml:s}=e("@odoo/owl"),r=t.DialogContainer=class extends o{handleError(e,t){t.props.close(),Promise.resolve().then((()=>{throw e}))}};return r.components={ErrorHandler:n,WithEnv:i},r.template=s`
    <div class="o_dialog_container" t-att-class="{'modal-open': Object.keys(props.dialogs).length > 0}">
        <div>
            <t t-foreach="Object.values(props.dialogs)" t-as="dialog" t-key="dialog.id">
                <ErrorHandler onError="(error) => this.handleError(error, dialog)">
                    <WithEnv env="{ dialogData: dialog.dialogData }">
                        <t t-component="dialog.class" t-props="dialog.props"/>
                    </WithEnv>
                </ErrorHandler>
            </t>
        </div>
    </div>
`,t})),odoo.define("@web/core/dialog/dialog_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{DialogContainer:i}=e("@web/core/dialog/dialog_container"),{markRaw:o,reactive:s}=e("@odoo/owl"),r=t.dialogService={start(e){const t=s({});let r=0;return n.category("main_components").add("DialogContainer",{Component:i,props:{dialogs:t}}),{add:function(e,n,i={}){for(const e of Object.values(t))e.dialogData.isActive=!1;const s=++r;function a(){t[s]&&(delete t[s],Object.values(t).forEach(((e,t,n)=>{e.dialogData.isActive=t===n.length-1})),i.onClose&&i.onClose())}const l={id:s,class:e,props:o({...n,close:a}),dialogData:{isActive:!0,close:a,id:s}},c={top:window.scrollY,left:window.scrollX};return l.dialogData.scrollToOrigin=()=>{Object.keys(t).length||window.scrollTo(c)},t[s]=l,a},closeAll:function(){for(const e in t)t[e].dialogData.close()}}}};return n.category("services").add("dialog",r),t})),odoo.define("@web/core/domain",(async function(e){"use strict";let t={};const{shallowEqual:n}=e("@web/core/utils/arrays"),{evaluate:i,formatAST:o,parseExpr:s}=e("@web/core/py_js/py"),{toPyValue:r}=e("@web/core/py_js/py_utils"),a=t.InvalidDomainError=class extends Error{},l=t.Domain=class e{static combine(t,n){if(0===t.length)return new e([]);const i=t[0]instanceof e?t[0]:new e(t[0]);if(1===t.length)return i;const o=e.combine(t.slice(1),n),s=new e([]),r=i.ast.value,a=o.ast.value,l="AND"===n?"&":"|",c={type:4,value:r.concat(a)};return s.ast=d(c,l),s}static and(t){return e.combine(t,"AND")}static or(t){return e.combine(t,"OR")}static not(t){const n=new e(t);return n.ast.value.unshift({type:1,value:"!"}),n}constructor(t=[]){if(t instanceof e)return new e(t.toString());{const e="string"==typeof t?s(t):{type:4,value:t.map((e=>{switch(e){case"!":case"&":case"|":return{type:1,value:e};default:return{type:10,value:e.map(r)}}}))};this.ast=d(e)}}contains(e){return function(e,t){if(0===t.length)return!0;const n=function(e){const t=h.bind(null,e);return{"!":e=>!t(e),"&":(e,n)=>t(e)&&t(n),"|":(e,n)=>t(e)||t(n)}}(e),i=Array.from(t).reverse(),o=[];for(const e of i)if(e in n){const t=n[e],i=o.splice(-t.length);o.push(t(...i))}else o.push(e);return h(e,o.pop())}(e,i(this.ast,e))}toString(){return o(this.ast)}toList(e){return i(this.ast,e)}},c=new l([[1,"=",1]]),u=new l([[0,"=",1]]);function d(e,t="&"){if(4!==e.type){if(10!==e.type)throw new a("Invalid domain AST");{const t=e.value;if(-1===t.findIndex((e=>10===e.type))||!t.every((e=>10===e.type||1===e.type)))throw new a("Invalid domain AST")}}if(0===e.value.length)return e;let n=1;for(const t of e.value)1!==t.type||"&"!==t.value&&"|"!==t.value?1===t.type&&"!"===t.value||n--:n++;const i=e.value.slice();for(;n<0;)n++,i.unshift({type:1,value:t});if(n>0)throw new a(`invalid domain ${o(e)} (missing ${n} segment(s))`);return{type:4,value:i}}function h(e,t){if("boolean"==typeof t)return t;const[i,o,s]=t;if("string"==typeof i){const t=i.split(".");if(t.length>=2)return h(e[t[0]],[t.slice(1).join("."),o,s])}const r="number"==typeof i?i:e[i];switch(o){case"=?":if([!1,null].includes(s))return!0;case"=":case"==":return Array.isArray(r)&&Array.isArray(s)?n(r,s):r===s;case"!=":case"<>":return!h(e,[i,"==",s]);case"<":return r<s;case"<=":return r<=s;case">":return r>s;case">=":return r>=s;case"in":{const e=Array.isArray(s)?s:[s];return(Array.isArray(r)?r:[r]).some((t=>e.includes(t)))}case"not in":{const e=Array.isArray(s)?s:[s];return!(Array.isArray(r)?r:[r]).some((t=>e.includes(t)))}case"like":return!1!==r&&r.indexOf(s)>=0;case"=like":return!1!==r&&new RegExp(s.replace(/%/g,".*")).test(r);case"ilike":return!1!==r&&r.toLowerCase().indexOf(s.toLowerCase())>=0;case"=ilike":return!1!==r&&new RegExp(s.replace(/%/g,".*"),"i").test(r)}throw new a("could not match domain")}return l.TRUE=c,l.FALSE=u,t})),odoo.define("@web/core/domain_selector/domain_selector",(async function(e){"use strict";let t={};const{Domain:n}=e("@web/core/domain"),{DomainSelectorRootNode:i}=e("@web/core/domain_selector/domain_selector_root_node"),{Component:o}=e("@odoo/owl"),s=t.DomainSelector=class extends o{setup(){this.nextNodeId=0}buildTree(){try{const e={parent:null,index:0,domain:new n(this.props.value).toList(),get currentElement(){return e.domain[e.index]},next(){e.index++},getFullDomain:()=>t.computeDomain().toString()},t=this.makeRootNode(e);return e.parent=t,this.traverseNode(e),e.parent}catch(e){return!1}}traverseNode(e,t=!1){e.index<e.domain.length&&("!"===e.currentElement?(e.next(),this.traverseNode(e,!t)):"string"==typeof e.currentElement&&["&","|"].includes(e.currentElement)?this.traverseBranchNode(e,t):this.traverseLeafNode(e,t))}traverseBranchNode(e,t){if("branch"!==e.parent.type||e.parent.operator!==e.currentElement){const n=this.makeBranchNode(e,e.currentElement,[],t);e.parent.operands.push(n),e=Object.assign(Object.create(e),{parent:n})}e.next(),this.traverseNode(e),e.next(),this.traverseNode(e)}traverseLeafNode(e,t){const n=e.currentElement,[i,o,s]=n,r=this.makeLeafNode(e,o,[i,s],t);e.parent.operands.push(r)}makeBranchNode(e,t,i,o){const s=()=>this.props.update(e.getFullDomain()),r=this.makeFakeNode.bind(this);return{type:"branch",id:this.nextNodeId++,operator:t,operands:i,computeDomain(){let e=n.combine(this.operands.map((e=>e.computeDomain())),"&"===this.operator?"AND":"OR");return o&&(e=n.not(e)),e},update(e){this.operator=e,s()},insert(t){const n=r(e,t),i=e.parent.operands;i.splice(i.indexOf(this)+1,0,n),s()},delete(){const t=e.parent.operands;t.splice(t.indexOf(this),1),s()}}}makeLeafNode(e,t,i,o){const s=()=>this.props.update(e.getFullDomain()),r=this.makeFakeNode.bind(this);return{type:"leaf",id:this.nextNodeId++,operator:t,operands:i,computeDomain(){let e=new n([[this.operands[0],this.operator,this.operands[1]]]);return o&&(e=n.not(e)),e},update(e){"fieldName"in e&&(this.operands[0]=e.fieldName),"operator"in e&&(this.operator=e.operator),"value"in e&&(this.operands[1]=e.value),s()},insert(t){const n=r(e,t),i=e.parent.operands;i.splice(i.indexOf(this)+1,0,n),s()},delete(){const t=e.parent.operands;t.splice(t.indexOf(this),1),s()}}}makeRootNode(e){const t=(...e)=>this.props.update(...e),i=this.makeFakeNode.bind(this);return{type:"root",id:this.nextNodeId++,operator:"&",operands:[],computeDomain(){return n.combine(this.operands.map((e=>e.computeDomain())),"AND")},update(e,n){"string"==typeof e?t(e,n):this.operands.length&&this.operands[0].update(e)},insert(n){const o=i(e,n);if(e.parent){const t=e.parent.operands;t.splice(t.indexOf(this)+1,0,o)}else this.operands.push(o);t(e.getFullDomain())},delete(){}}}makeFakeNode(e,t){const[n,i,o]=this.props.defaultLeafValue;return"branch"===t?this.makeBranchNode(e,"&"===e.parent.operator?"|":"&",[this.makeLeafNode(e,i,[n,o]),this.makeLeafNode(e,i,[n,o])]):this.makeLeafNode(e,i,[n,o])}resetDomain(){this.props.update("[]")}};return Object.assign(s,{template:"web._DomainSelector",components:{DomainSelectorRootNode:i},props:{className:{type:String,optional:!0},resModel:String,value:String,debugValue:{type:String,optional:!0},readonly:{type:Boolean,optional:!0},update:{type:Function,optional:!0},isDebugMode:{type:Boolean,optional:!0},defaultLeafValue:{type:Array,optional:!0}},defaultProps:{readonly:!0,update:()=>{},isDebugMode:!1,defaultLeafValue:["id","=",1]}}),t})),odoo.define("@web/core/domain_selector/domain_selector_branch_node",(async function(e){"use strict";let t={};const{DomainSelectorBranchOperator:n}=e("@web/core/domain_selector/domain_selector_branch_operator"),{DomainSelectorControlPanel:i}=e("@web/core/domain_selector/domain_selector_control_panel"),{DomainSelectorLeafNode:o}=e("@web/core/domain_selector/domain_selector_leaf_node"),{Component:s,useRef:r}=e("@odoo/owl"),a=t.DomainSelectorBranchNode=class extends s{setup(){this.root=r("root")}onHoverDeleteNodeBtn(e){this.root.el.classList.toggle("o_hover_btns",e)}onHoverInsertLeafNodeBtn(e){this.root.el.classList.toggle("o_hover_add_node",e)}onHoverInsertBranchNodeBtn(e){this.root.el.classList.toggle("o_hover_add_node",e),this.root.el.classList.toggle("o_hover_add_inset_node",e)}};return a.template="web.DomainSelectorBranchNode",a.components={DomainSelectorBranchNode:a,DomainSelectorBranchOperator:n,DomainSelectorControlPanel:i,DomainSelectorLeafNode:o},t})),odoo.define("@web/core/domain_selector/domain_selector_branch_operator",(async function(e){"use strict";let t={};const{Dropdown:n}=e("@web/core/dropdown/dropdown"),{DropdownItem:i}=e("@web/core/dropdown/dropdown_item"),{Component:o}=e("@odoo/owl"),s=t.DomainSelectorBranchOperator=class extends o{onOperatorSelected(e){this.props.node.update(e)}};return s.components={Dropdown:n,DropdownItem:i},s.template="web.DomainSelectorBranchOperator",s.props={node:Object,readonly:Boolean,showCaret:{type:Boolean,optional:!0}},t})),odoo.define("@web/core/domain_selector/domain_selector_control_panel",(async function(e){"use strict";let t={};const{Component:n,toRaw:i}=e("@odoo/owl"),o=t.DomainSelectorControlPanel=class extends n{deleteNode(){this.props.node.delete()}insertNode(e){i(this.props.node).insert(e)}onEnterDeleteNodeBtn(){this.props.onHoverDeleteNodeBtn(!0)}onLeaveDeleteNodeBtn(){this.props.onHoverDeleteNodeBtn(!1)}onEnterInsertLeafNodeBtn(){this.props.onHoverInsertLeafNodeBtn(!0)}onLeaveInsertLeafNodeBtn(){this.props.onHoverInsertLeafNodeBtn(!1)}onEnterInsertBranchNodeBtn(){this.props.onHoverInsertBranchNodeBtn(!0)}onLeaveInsertBranchNodeBtn(){this.props.onHoverInsertBranchNodeBtn(!1)}};return o.template="web.DomainSelectorControlPanel",o.props={node:Object,onHoverDeleteNodeBtn:Function,onHoverInsertLeafNodeBtn:Function,onHoverInsertBranchNodeBtn:Function},t})),odoo.define("@web/core/domain_selector/domain_selector_leaf_node",(async function(e){"use strict";let t={};const{useModelField:n}=e("@web/core/model_field_selector/model_field_hook"),{ModelFieldSelector:i}=e("@web/core/model_field_selector/model_field_selector"),{registry:o}=e("@web/core/registry"),{DomainSelectorControlPanel:s}=e("@web/core/domain_selector/domain_selector_control_panel"),{DomainSelectorDefaultField:r}=e("@web/core/domain_selector/fields/domain_selector_default_field"),{Component:a,onWillStart:l,onWillUpdateProps:c,useRef:u}=e("@odoo/owl"),d=t.DomainSelectorLeafNode=class extends a{setup(){this.root=u("root"),this.modelField=n(),this.fieldInfo={type:"integer",string:"ID"},l((async()=>{this.fieldInfo=await this.loadField(this.props.resModel,this.props.node.operands[0])})),c((async e=>{this.fieldInfo=await this.loadField(e.resModel,e.node.operands[0])}))}get displayedOperator(){const e=this.getOperatorInfo(this.props.node.operator);return e?e.label:"?"}get isValueHidden(){const e=this.getOperatorInfo(this.props.node.operator);return!!e&&e.hideValue}async loadField(e,t){const n=await this.modelField.loadChain(e,t);return!n[n.length-1].field&&n.length>1?n[n.length-2].field:n[n.length-1].field||{type:"integer",string:"ID"}}findOperator(e,t){return e.find((e=>e.matches({field:this.fieldInfo,value:this.props.node.operands[1],operator:t})))}getOperators(e){const t=e.getOperators();return this.findOperator(t,this.props.node.operator)?t:t.concat(this.findOperator(o.category("domain_selector/operator").getAll(),this.props.node.operator))}getFieldComponent(e){return o.category("domain_selector/fields").get(e,r)}getOperatorInfo(e){const t=this.findOperator(this.getFieldComponent(this.fieldInfo.type).getOperators(),e);return t||this.findOperator(o.category("domain_selector/operator").getAll(),this.props.node.operator)}async onFieldChange(e){const t={fieldName:e},n=await this.loadField(this.props.resModel,e),i=this.getFieldComponent(n.type);if(Object.assign(t,i.onDidTypeChange(n)),!this.findOperator(i.getOperators(),this.props.node.operator)){const e=i.getOperators()[0];t.operator=e.value,Object.assign(t,e.onDidChange(this.getOperatorInfo(this.props.node.operator),(()=>i.onDidTypeChange(this.fieldInfo))))}this.props.node.update(t)}onOperatorChange(e){const t=this.getFieldComponent(this.fieldInfo.type),n=t.getOperators()[parseInt(e.target.value,10)],i={operator:n.value};Object.assign(i,n.onDidChange(this.getOperatorInfo(this.props.node.operator),(()=>t.onDidTypeChange(this.fieldInfo)))),this.props.node.update(i)}onHoverDeleteNodeBtn(e){this.root.el.classList.toggle("o_hover_btns",e)}onHoverInsertLeafNodeBtn(e){this.root.el.classList.toggle("o_hover_add_node",e)}onHoverInsertBranchNodeBtn(e){this.root.el.classList.toggle("o_hover_add_node",e),this.root.el.classList.toggle("o_hover_add_inset_node",e)}};return Object.assign(d,{template:"web.DomainSelectorLeafNode",components:{DomainSelectorControlPanel:s,ModelFieldSelector:i}}),t})),odoo.define("@web/core/domain_selector/domain_selector_operators",(async function(e){"use strict";const{_lt:t}=e("@web/core/l10n/translation"),{registry:n}=e("@web/core/registry");function i(e){return function(t,n){return this.category!==t.category?e(n):{}}}const o=n.category("domain_selector/operator");return o.add("=",{category:"equality",label:"=",value:"=",onDidChange:i((e=>e())),matches({operator:e,value:t}){return e===this.value&&"boolean"!=typeof t}}),o.add("!=",{category:"equality",label:t("is not ="),value:"!=",onDidChange:i((e=>e())),matches({operator:e,value:t}){return e===this.value&&"boolean"!=typeof t}}),o.add(">",{category:"comparison",label:">",value:">",onDidChange:i((e=>e())),matches:function({operator:e}){return e===this.value}}),o.add(">=",{category:"comparison",label:">=",value:">=",onDidChange:i((e=>e())),matches:function({operator:e}){return e===this.value}}),o.add("<",{category:"comparison",label:"<",value:"<",onDidChange:i((e=>e())),matches:function({operator:e}){return e===this.value}}),o.add("<=",{category:"comparison",label:"<=",value:"<=",onDidChange:i((e=>e())),matches:function({operator:e}){return e===this.value}}),o.add("ilike",{category:"like",label:t("contains"),value:"ilike",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("not ilike",{category:"like",label:t("does not contain"),value:"not ilike",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("like",{category:"like",label:t("like"),value:"like",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("not like",{category:"like",label:t("not like"),value:"not like",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("=like",{category:"like",label:t("=like"),value:"=like",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("=ilike",{category:"like",label:t("=ilike"),value:"=ilike",onDidChange:i((()=>({value:""}))),matches:function({operator:e}){return e===this.value}}),o.add("child_of",{category:"relation",label:t("child of"),value:"child_of",onDidChange:i((()=>({value:1}))),matches:function({operator:e}){return e===this.value}}),o.add("parent_of",{category:"relation",label:t("parent of"),value:"parent_of",onDidChange:i((()=>({value:1}))),matches:function({operator:e}){return e===this.value}}),o.add("in",{category:"in",label:t("in"),value:"in",onDidChange:i((()=>({value:[]}))),matches:function({operator:e}){return e===this.value}}),o.add("not in",{category:"in",label:t("not in"),value:"not in",onDidChange:i((()=>({value:[]}))),matches:function({operator:e}){return e===this.value}}),o.add("set",{category:"set",label:t("is set"),value:"set",hideValue:!0,onDidChange:()=>({operator:"!=",value:!1}),matches:({operator:e,value:t})=>"!="===e&&"boolean"==typeof t}),o.add("not set",{category:"set",label:t("is not set"),value:"not set",hideValue:!0,onDidChange:()=>({operator:"=",value:!1}),matches:({operator:e,value:t})=>"="===e&&"boolean"==typeof t}),{}})),odoo.define("@web/core/domain_selector/domain_selector_root_node",(async function(e){"use strict";let t={};const{DomainSelectorBranchNode:n}=e("@web/core/domain_selector/domain_selector_branch_node"),{DomainSelectorBranchOperator:i}=e("@web/core/domain_selector/domain_selector_branch_operator"),{DomainSelectorLeafNode:o}=e("@web/core/domain_selector/domain_selector_leaf_node"),{Component:s}=e("@odoo/owl"),r=t.DomainSelectorRootNode=class extends s{get hasNode(){return this.props.node.operands.length>0}get node(){return this.props.node.operands[0]}insertNode(e){this.props.node.insert(e)}onOperatorSelected(e){this.props.node.update(e.detail.payload.operator)}onChange(e){this.props.node.update(e.target.value,!0)}};return r.template="web.DomainSelectorRootNode",r.components={DomainSelectorBranchNode:n,DomainSelectorBranchOperator:i,DomainSelectorLeafNode:o},t})),odoo.define("@web/core/domain_selector/fields/domain_selector_boolean_field",(async function(e){"use strict";let t={};const{_lt:n}=e("@web/core/l10n/translation"),{registry:i}=e("@web/core/registry"),{Component:o}=e("@odoo/owl"),s=i.category("domain_selector/fields"),r=t.DomainSelectorBooleanField=class extends o{onChange(e){this.props.update({value:"1"===e.target.value})}};return Object.assign(r,{template:"web.DomainSelectorBooleanField",onDidTypeChange:()=>({value:!0}),getOperators:()=>[{category:"equality",label:n("is"),value:"=",onDidChange(){},matches({operator:e}){return e===this.value}},{category:"equality",label:n("is not"),value:"!=",onDidChange(){},matches({operator:e}){return e===this.value}}]}),s.add("boolean",r),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_datetime_field",(async function(e){"use strict";let t={};const{DatePicker:n,DateTimePicker:i}=e("@web/core/datepicker/datepicker"),{deserializeDate:o,deserializeDateTime:s,serializeDate:r,serializeDateTime:a}=e("@web/core/l10n/dates"),{registry:l}=e("@web/core/registry"),{Component:c}=e("@odoo/owl"),u=l.category("domain_selector/fields"),d=l.category("domain_selector/operator"),h=t.DomainSelectorDateTimeField=class extends c{get component(){const{DatePicker:e,DateTimePicker:t}=this.constructor.components;return"date"===this.props.field.type?e:t}get deserializedValue(){const e="date"===this.props.field.type?o:s;return this.props.value?e(this.props.value):luxon.DateTime.local()}onChange(e){if(!this.deserializedValue.isValid&&!e)return;const t="date"===this.props.field.type?r:a;this.props.update({value:t(e||luxon.DateTime.local())})}};return Object.assign(h,{template:"web.DomainSelectorDateTimeField",components:{DatePicker:n,DateTimePicker:i},onDidTypeChange:e=>({value:("date"===e.type?r:a)(luxon.DateTime.local())}),getOperators:()=>["=","!=",">","<",">=","<=","set","not set"].map((e=>d.get(e)))}),u.add("date",h),u.add("datetime",h),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_default_field",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{DomainSelectorFieldInput:i}=e("@web/core/domain_selector/fields/domain_selector_field_input"),{Component:o}=e("@odoo/owl"),s=n.category("domain_selector/operator"),r=t.DomainSelectorDefaultField=class extends o{};return Object.assign(r,{template:"web.DomainSelectorDefaultField",components:{DomainSelectorFieldInput:i},onDidTypeChange:()=>({value:""}),getOperators:()=>s.getAll()}),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_field_input",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{Component:i}=e("@odoo/owl"),o=n.category("parsers");return(t.DomainSelectorFieldInput=class extends i{parseValue(e){const t=o.get(this.props.field.type,(e=>e));try{return t(e)}catch(t){return e}}onChange(e){this.props.update({value:this.parseValue(e.target.value)})}}).template="web.DomainSelectorFieldInput",t})),odoo.define("@web/core/domain_selector/fields/domain_selector_field_input_with_tags",(async function(e){"use strict";let t={};const{Component:n,useRef:i}=e("@odoo/owl");return(t.DomainSelectorFieldInputWithTags=class extends n{setup(){this.inputRef=i("input")}removeTag(e){const t=[...this.props.value];t.splice(e,1),this.props.update({value:t})}addTag(e){this.props.update({value:this.props.value.concat(e)})}onBtnClick(){const e=this.inputRef.el.value;this.inputRef.el.value="",this.addTag(e)}}).template="web.DomainSelectorFieldInputWithTags",t})),odoo.define("@web/core/domain_selector/fields/domain_selector_number_field",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{DomainSelectorFieldInput:i}=e("@web/core/domain_selector/fields/domain_selector_field_input"),{Component:o}=e("@odoo/owl"),s=n.category("domain_selector/fields"),r=n.category("domain_selector/operator"),a=t.DomainSelectorNumberField=class extends o{};return Object.assign(a,{template:"web.DomainSelectorNumberField",components:{DomainSelectorFieldInput:i},onDidTypeChange:()=>({value:0}),getOperators:()=>["=","!=",">","<",">=","<=","ilike","not ilike","set","not set"].map((e=>r.get(e)))}),s.add("integer",a),s.add("float",a),s.add("monetary",a),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_relation_field",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{DomainSelectorFieldInput:i}=e("@web/core/domain_selector/fields/domain_selector_field_input"),{Component:o}=e("@odoo/owl"),s=n.category("domain_selector/operator"),r=t.DomainSelectorRelationField=class extends o{};return Object.assign(r,{template:"web.DomainSelectorRelationField",components:{DomainSelectorFieldInput:i},onDidTypeChange:()=>({value:"0"}),getOperators:()=>["=","!=","ilike","not ilike","set","not set"].map((e=>s.get(e)))}),n.category("domain_selector/fields").add("one2many",r).add("many2one",r).add("many2many",r),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_selection_field",(async function(e){"use strict";let t={};const{evaluateExpr:n}=e("@web/core/py_js/py"),{formatAST:i,toPyValue:o}=e("@web/core/py_js/py_utils"),{registry:s}=e("@web/core/registry"),{Component:r}=e("@odoo/owl"),a=s.category("domain_selector/fields"),l=s.category("domain_selector/operator"),c=t.DomainSelectorSelectionField=class extends r{get options(){return[[!1,""],...this.props.field.selection.filter((e=>!this.props.value.includes(e[0])))]}get formattedValue(){const e=o(this.props.value);return i(e)}onChange(e){this.props.update({value:e.target.value})}onChangeMulti(e){this.props.update({value:n(e.target.value)})}};return Object.assign(c,{template:"web.DomainSelectorSelectionField",onDidTypeChange:e=>({value:e.selection[0][0]}),getOperators:()=>["=","!=","set","not set"].map((e=>l.get(e)))}),a.add("selection",c),t})),odoo.define("@web/core/domain_selector/fields/domain_selector_text_field",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{DomainSelectorFieldInput:i}=e("@web/core/domain_selector/fields/domain_selector_field_input"),{DomainSelectorFieldInputWithTags:o}=e("@web/core/domain_selector/fields/domain_selector_field_input_with_tags"),{Component:s}=e("@odoo/owl"),r=n.category("domain_selector/fields"),a=n.category("domain_selector/operator"),l=t.DomainSelectorTextField=class extends s{};return Object.assign(l,{template:"web.DomainSelectorTextField",components:{DomainSelectorFieldInput:i,DomainSelectorFieldInputWithTags:o},onDidTypeChange:()=>({value:""}),getOperators:()=>["=","!=","ilike","not ilike","set","not set","in","not in"].map((e=>a.get(e)))}),r.add("char",l),r.add("html",l),r.add("text",l),t})),odoo.define("@web/core/domain_selector_dialog/domain_selector_dialog",(async function(e){"use strict";let t={};const{Dialog:n}=e("@web/core/dialog/dialog"),{DomainSelector:i}=e("@web/core/domain_selector/domain_selector"),{_t:o}=e("@web/core/l10n/translation"),{Component:s,useState:r}=e("@odoo/owl"),a=t.DomainSelectorDialog=class extends s{setup(){this.state=r({value:this.props.initialValue})}get dialogTitle(){return o("Domain")}get domainSelectorProps(){return{className:this.props.className,resModel:this.props.resModel,readonly:this.props.readonly,isDebugMode:this.props.isDebugMode,defaultLeafValue:this.props.defaultLeafValue,value:this.state.value,update:e=>{this.state.value=e}}}async onSave(){await this.props.onSelected(this.state.value),this.props.close()}onDiscard(){this.props.close()}};return a.template="web.DomainSelectorDialog",a.components={Dialog:n,DomainSelector:i},a.props={close:Function,className:{type:String,optional:!0},resModel:String,readonly:{type:Boolean,optional:!0},isDebugMode:{type:Boolean,optional:!0},defaultLeafValue:{type:Array,optional:!0},initialValue:{type:String,optional:!0},onSelected:{type:Function,optional:!0}},a.defaultProps={initialValue:"",onSelected:()=>{},readonly:!0,isDebugMode:!1},t})),odoo.define("@web/core/dropdown/dropdown",(async function(e){"use strict";let t={};const{useBus:n,useService:i}=e("@web/core/utils/hooks"),{usePosition:o}=e("@web/core/position_hook"),{useDropdownNavigation:s}=e("@web/core/dropdown/dropdown_navigation_hook"),{localization:r}=e("@web/core/l10n/localization"),{Component:a,EventBus:l,onWillStart:c,status:u,useEffect:d,useExternalListener:h,useRef:p,useState:f,useChildSubEnv:m}=e("@odoo/owl"),g={bottom:"dropdown",top:"dropup",left:"dropstart",right:"dropend"},v=t.DROPDOWN=Symbol("Dropdown"),b=t.Dropdown=class e extends a{setup(){this.state=f({open:this.props.startOpen,groupIsOpen:this.props.startOpen}),this.rootRef=p("root"),c((()=>{if(this.state.open&&this.props.beforeOpen)return this.props.beforeOpen()})),this.props.manualOnly||(h(window,"click",this.onWindowClicked,{capture:!0}),n(e.bus,"state-changed",(({detail:e})=>this.onDropdownStateChanged(e)))),this.ui=i("ui"),d((()=>{Promise.resolve().then((()=>{this.myActiveEl=this.ui.activeElement}))}),(()=>[])),this.parentDropdown=this.env[v],m({[v]:{close:this.close.bind(this),closeAllParents:()=>{this.close(),this.parentDropdown&&this.parentDropdown.closeAllParents()}}}),s();const t=this.props.position||(this.parentDropdown?"right-start":"bottom-start");let[a]=t.split("-");["left","right"].includes(a)&&"rtl"===r.direction&&(a="left"===a?"right":"left");const l={popper:"menuRef",position:t};if(this.directionCaretClass=g[a],this.togglerRef=p("togglerRef"),"parent"===this.props.toggler)d((()=>{const e=e=>{this.rootRef.el.contains(e.target)||this.toggle()};return-1===this.rootRef.el.parentElement.tabIndex&&(this.rootRef.el.parentElement.tabIndex=-1),this.rootRef.el.parentElement.addEventListener("click",e),()=>{this.rootRef.el.parentElement.removeEventListener("click",e)}}),(()=>[])),d((e=>{this.rootRef.el.parentElement.ariaExpanded=e?"true":"false"}),(()=>[this.state.open])),o((()=>this.rootRef.el.parentElement),l);else{const e=p("togglerRef");o((()=>e.el),l)}}async changeStateAndNotify(t){if(t.open&&this.props.beforeOpen&&(await this.props.beforeOpen(),"destroyed"===u(this)))return;Object.assign(this.state,t);const n={emitter:this,newState:{...this.state}};e.bus.trigger("state-changed",n)}close(){return this.changeStateAndNotify({open:!1,groupIsOpen:!1})}open(){return this.changeStateAndNotify({open:!0,groupIsOpen:!0})}toggle(){const e=!this.state.open;return this.changeStateAndNotify({open:e,groupIsOpen:e})}get showCaret(){return void 0===this.props.showCaret?this.parentDropdown:this.props.showCaret}onDropdownStateChanged(e){this.rootRef.el&&!this.rootRef.el.contains(e.emitter.rootRef.el)&&(e.emitter.rootRef.el.parentElement===this.rootRef.el.parentElement?(this.state.groupIsOpen=e.newState.groupIsOpen,this.state.open&&e.newState.open&&(this.state.open=!1)):this.state.open&&e.newState.open&&this.close())}onTogglerClick(){this.toggle()}onTogglerMouseEnter(){this.state.groupIsOpen&&!this.state.open&&(this.togglerRef.el.focus(),this.open())}onWindowClicked(e){if(!this.state.open)return;if(this.ui.activeElement!==this.myActiveEl)return;if(e.target.closest(".bootstrap-datetimepicker-widget"))return;("parent"===this.props.toggler?this.rootRef.el.parentElement:this.rootRef.el).contains(e.target)||this.close()}};return b.bus=new l,b.props={class:{type:String,optional:!0},toggler:{type:String,optional:!0,validate:e=>["parent"].includes(e)},skipTogglerTabbing:{type:Boolean,optional:!0},startOpen:{type:Boolean,optional:!0},manualOnly:{type:Boolean,optional:!0},menuClass:{type:String,optional:!0},beforeOpen:{type:Function,optional:!0},togglerClass:{type:String,optional:!0},hotkey:{type:String,optional:!0},tooltip:{type:String,optional:!0},title:{type:String,optional:!0},position:{type:String,optional:!0},slots:{type:Object,optional:!0},showCaret:{type:Boolean,optional:!0}},b.template="web.Dropdown",t})),odoo.define("@web/core/dropdown/dropdown_item",(async function(e){"use strict";let t={};const{DROPDOWN:n}=e("@web/core/dropdown/dropdown"),{Component:i}=e("@odoo/owl"),o={None:"none",ClosestParent:"closest",AllParents:"all"},s=t.DropdownItem=class extends i{onClick(e){const{href:t,onSelected:i,parentClosingMode:s}=this.props;t&&e.preventDefault(),i&&i();const r=this.env[n];if(!r)return;const{ClosestParent:a,AllParents:l}=o;switch(s){case a:r.close();break;case l:r.closeAllParents()}}get dataAttributes(){const{dataset:e}=this.props;if(this.props.dataset){const t=Object.entries(e).map((([e,t])=>[`data-${e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`,t]));return Object.fromEntries(t)}return{}}};return s.template="web.DropdownItem",s.props={onSelected:{type:Function,optional:!0},class:{type:[String,Object],optional:!0},parentClosingMode:{type:o,optional:!0},hotkey:{type:String,optional:!0},href:{type:String,optional:!0},slots:{type:Object,optional:!0},title:{type:String,optional:!0},dataset:{type:Object,optional:!0}},s.defaultProps={parentClosingMode:o.AllParents},t})),odoo.define("@web/core/dropdown/dropdown_navigation_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{browser:i}=e("@web/core/browser/browser"),{localization:o}=e("@web/core/l10n/localization"),{scrollTo:s}=e("@web/core/utils/scrolling"),{useComponent:r,useEffect:a,useRef:l}=e("@odoo/owl"),c="focus",u=[":scope > .dropdown-item",":scope > .dropdown"],d={FIRST:()=>0,LAST:e=>e.length-1,NEXT:(e,t)=>(t+1)%e.length,PREV:(e,t)=>(t<=0?e.length:t)-1};return t.useDropdownNavigation=function(){const e=r();if(e.parentDropdown&&"parent"===e.props.toggler)throw new Error("A nested Dropdown must use its standard toggler");const t=e.onTogglerClick.bind(e);e.onTogglerClick=n=>{e.parentDropdown&&!n.__fromDropdownNavigation||t()};const h=e.onTogglerMouseEnter.bind(e);e.onTogglerMouseEnter=()=>{e.parentDropdown||h()};let p=!0;const f=l("menuRef");let m=[];a((()=>{if(!e.state.open)return;const t=[],n=f.el.querySelectorAll(u.join());for(const e of n){const n=e.classList.contains("dropdown"),o=()=>e.classList.contains("show"),s=n?e.querySelector(":scope > .dropdown-toggle"):e;let r;const a=()=>{i.clearTimeout(r),r=i.setTimeout((()=>{if(o()){const e=new MouseEvent("click",{bubbles:!1});e.__fromDropdownNavigation=!0,s.dispatchEvent(e)}}),200)},l=(e=!1)=>{i.clearTimeout(r),r=i.setTimeout((()=>{if(!o()){const e=new MouseEvent("click",{bubbles:!1});e.__fromDropdownNavigation=!0,s.dispatchEvent(e)}}),e?0:200)},u=()=>{for(const t of m)t.el!==e&&(t.navTarget.classList.remove(c),t.isSubDropdown&&t.closeSubDropdown());s.classList.add(c),s.focus()},d={el:e,get isActive(){return s.classList.contains(c)},makeOnlyActive:u,navTarget:s,get isSubDropdownOpen(){return o()},isSubDropdown:n,closeSubDropdown:a,openSubDropdown:l};m.push(d);const h={mouseenter:()=>{p?(u(),n&&l()):p=!0}};for(const[e,t]of Object.entries(h))s.addEventListener(e,t);t.push([s,h])}return()=>{m=[],p=!0;for(const[e,n]of t)for(const[t,i]of Object.entries(n))e.removeEventListener(t,i)}}));const g=()=>m.find((e=>e.isActive)),v=e=>{if(m.length){if("string"==typeof e){const t=m.indexOf(g()),n=d[e](m,t);e=m[n]}e.makeOnlyActive(),s(e.el,{scrollable:e.el.parentElement})}};a((t=>{t&&e.parentDropdown&&v("FIRST")}),(()=>[e.state.open]));const b=n("hotkey"),y=()=>{const t="parent"===e.props.toggler?e.rootRef.el.parentElement:e.rootRef.el.querySelector(":scope > .dropdown-toggle");e.close().then((()=>{t.focus()}))},_=e.parentDropdown?y:()=>{},w=()=>{const e=g();e&&e.isSubDropdown&&e.openSubDropdown(!0)};let k=[];const x={home:()=>v("FIRST"),end:()=>v("LAST"),tab:()=>v("NEXT"),"shift+tab":()=>v("PREV"),arrowdown:()=>v("NEXT"),arrowup:()=>v("PREV"),arrowleft:"rtl"===o.direction?w:_,arrowright:"rtl"===o.direction?_:w,enter:()=>{const e=g();e&&(e.isSubDropdown?e.openSubDropdown(!0):e.navTarget.click())},escape:y};a((t=>{if(t){for(const[t,n]of Object.entries(x)){const i=()=>{m.some((e=>e.isSubDropdownOpen))||(p=!1,n.call(e))};k.push(b.add(t,i,{allowRepeat:!0}))}return()=>{for(const e of k)e();k=[]}}}),(()=>[e.state.open]))},t})),odoo.define("@web/core/errors/error_handlers",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{ConnectionLostError:i,RPCError:o}=e("@web/core/network/rpc_service"),{registry:s}=e("@web/core/registry"),{ClientErrorDialog:r,ErrorDialog:a,NetworkErrorDialog:l,RPCErrorDialog:c}=e("@web/core/errors/error_dialogs"),{UncaughtClientError:u,UncaughtCorsError:d,UncaughtPromiseError:h}=e("@web/core/errors/error_service"),p=s.category("error_handlers"),f=s.category("error_dialogs"),m=s.category("error_notifications");function g(e,t,n){if(!(t instanceof h))return!1;if(n instanceof o){t.unhandledRejectionEvent.preventDefault();const i=n.exceptionName;let o=n.Component;if(!o&&i){if(m.contains(i)){const t=m.get(i);return e.services.notification.add(t.message||n.data.message,t),!0}f.contains(i)&&(o=f.get(i))}if(!o&&n.data.context){const e=n.data.context.exception_class;f.contains(e)&&(o=f.get(e))}return e.services.dialog.add(o||c,{traceback:t.traceback,message:n.message,name:n.name,exceptionName:n.exceptionName,data:n.data,subType:n.subType,code:n.code,type:n.type}),!0}}t.rpcErrorHandler=g,p.add("rpcErrorHandler",g,{sequence:97});let v=null;function b(e,t,o){if(!(t instanceof h))return!1;if(o instanceof i){if(v)return!0;v=e.services.notification.add(e._t("Connection lost. Trying to reconnect..."),{sticky:!0});let t=2e3;return n.setTimeout((function i(){e.services.rpc("/web/webclient/version_info",{}).then((function(){v&&(v(),v=null),e.services.notification.add(e._t("Connection restored. You are back online."),{type:"info"})})).catch((()=>{t=1.5*t+500*Math.random(),n.setTimeout(i,t)}))}),t),!0}}t.lostConnectionHandler=b,p.add("lostConnectionHandler",b,{sequence:98});const y=new Map([[u,r],[h,r],[d,l]]);return p.add("defaultHandler",(function(e,t){const n=y.get(t.constructor)||a;return e.services.dialog.add(n,{traceback:t.traceback,message:t.message,name:t.name}),!0}),{sequence:100}),t})),odoo.define("@web/core/errors/error_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{_lt:i}=e("@web/core/l10n/translation"),{registry:o}=e("@web/core/registry"),{completeUncaughtError:s,getErrorTechnicalName:r}=e("@web/core/errors/error_utils"),{isIOS:a}=e("@web/core/browser/feature_detection"),{session:l}=e("@web/session"),c=t.UncaughtError=class extends Error{constructor(e){super(e),this.name=r(this),this.traceback=null}},u=t.UncaughtClientError=class extends c{constructor(e=i("Uncaught Javascript Error")){super(e)}},d=t.UncaughtPromiseError=class extends c{constructor(e=i("Uncaught Promise")){super(e),this.unhandledRejectionEvent=null}},h=t.UncaughtCorsError=class extends c{constructor(e=i("Uncaught CORS Error")){super(e)}},p=t.errorService={start(e){function t(i,s=!0){let r=i;for(;r instanceof Error&&"cause"in r;)r=r.cause;const a=e.services;if(a.dialog&&a.notification&&a.rpc){for(const t of o.category("error_handlers").getAll())if(t(e,i,r))break;i.event&&!i.event.defaultPrevented&&(i.event.preventDefault(),console.error(i.traceback))}else s&&n.setTimeout((()=>{t(i,!1)}),1e3)}n.addEventListener("error",(async n=>{const{colno:i,error:o,filename:r,lineno:c,message:d}=n;if(!o&&["ResizeObserver loop completed with undelivered notifications.","ResizeObserver loop limit exceeded"].includes(d))return;let p;if(r||c||i){if(p=new u,p.event=n,o instanceof Error){o.errorEvent=n;const t=e.debug&&e.debug.includes("assets");await s(p,o,t)}}else{if(a()&&l.is_frontend&&"assets"!==odoo.debug)return;p=new h,p.traceback=e._t("Unknown CORS error\n\nAn unknown CORS error occured.\nThe error probably originates from a JavaScript file served from a different origin.\n(Opening your browser console might give you a hint on the error.)")}p.cause=o,t(p)})),n.addEventListener("unhandledrejection",(async n=>{const i=n.reason,o=new d;if(o.unhandledRejectionEvent=n,o.event=n,i instanceof Error){i.errorEvent=n;const t=e.debug&&e.debug.includes("assets");await s(o,i,t)}o.cause=i,t(o)}))}};return o.category("services").add("error",p,{sequence:1}),t})),odoo.define("@web/core/errors/error_utils",(async function(e){"use strict";let t={};const{_loadJS:n}=e("@web/core/assets"),{isBrowserChrome:i}=e("@web/core/browser/feature_detection");function o(e){let t=a(e),n=e.cause;for(;n;)t+=`\n\nCaused by: ${n instanceof Error?a(n):n}`,n=n.cause;return t}async function s(e){if(e.annotatedTraceback)return e.annotatedTraceback;let t;e.errorEvent&&e.errorEvent.preventDefault();try{t=await l(e);let n=e.cause;for(;n;)t+=`\n\nCaused by: ${n instanceof Error?await l(n):n}`,n=n.cause}catch(n){console.warn("Failed to annotate traceback for error:",e,"failure reason:",n),t=o(e)}if(e.annotatedTraceback=t,e.errorEvent)throw e;return t}function r(e){return e.name!==Error.name?e.name:e.constructor.name}function a(e){let t=e.stack;const n=r(e);return i()?e.stack&&(t=e.stack.replace(/^[^:]*/g,n)):t=`${n}: ${e.message}\n${e.stack}`.replace(/\n/g,"\n    ").trim(),t}async function l(e){const t=a(e);try{await n("/web/static/lib/stacktracejs/stacktrace.js")}catch(e){return t}if(e.stack){const t=/ line (\d*) > (Function):(\d*)/gm,n=":$1";e.stack=e.stack.replace(t,n)}let i;try{i=await StackTrace.fromError(e)}catch(n){return console.warn("The following error could not be annotated:",e,n),t}const o=t.split("\n");""===o[o.length-1].trim()&&o.splice(-1);let s=0,r=0;for(;r<i.length;){const e=o[s];if(!e.match(/:\d+:\d+\)?$/)){s++;continue}const t=i[r],n=` (${t.fileName}:${t.lineNumber})`;o[s]=e+n,s++,r++}return o.join("\n")}return t.fullTraceback=o,t.fullAnnotatedTraceback=s,t.completeUncaughtError=async function(e,t,n=!1){e.name=function(e,t){const n=r(t),i=r(e);return n===Error.name?i:`${i} > ${n}`}(e,t),e.traceback=n?await s(t):o(t);t.message&&(e.message=`${e.message} > ${t.message}`);e.cause=t},t.getErrorTechnicalName=r,t.formatTraceback=a,t.annotateTraceback=l,t})),odoo.define("@web/core/file_input/file_input",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{checkFileSize:i}=e("@web/core/utils/files"),{Component:o,onMounted:s,useRef:r}=e("@odoo/owl"),a=t.FileInput=class extends o{setup(){this.http=n("http"),this.fileInputRef=r("file-input"),s((()=>{this.props.autoOpen&&this.onTriggerClicked()}))}get httpParams(){const{resId:e,resModel:t}=this.props,n={csrf_token:odoo.csrf_token,ufile:[...this.fileInputRef.el.files]};return t&&(n.model=t),void 0!==e&&(n.id=e),n}async uploadFiles(e){if(e.ufile&&e.ufile.length||e.file){const t=e.ufile&&e.ufile[0].size||e.file.size;if(!i(t,this.env.services.notification))return null}const t=await this.http.post(this.props.route,e,"text"),n=JSON.parse(t);if(n.error)throw new Error(n.error);return n}async onFileInputChange(){const e=await this.uploadFiles(this.httpParams);e&&this.props.onUpload(e)}async onTriggerClicked(){await this.props.beforeOpen()&&this.fileInputRef.el.click()}};return a.defaultProps={acceptedFileExtensions:"*",hidden:!1,multiUpload:!1,onUpload:()=>{},route:"/web/binary/upload_attachment",beforeOpen:async()=>!0},a.props={acceptedFileExtensions:{type:String,optional:!0},autoOpen:{type:Boolean,optional:!0},hidden:{type:Boolean,optional:!0},multiUpload:{type:Boolean,optional:!0},onUpload:{type:Function,optional:!0},beforeOpen:{type:Function,optional:!0},resId:{type:Number,optional:!0},resModel:{type:String,optional:!0},route:{type:String,optional:!0},"*":!0},a.template="web.FileInput",t})),odoo.define("@web/core/file_upload/file_upload_progress_bar",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{sprintf:i}=e("@web/core/utils/strings"),{ConfirmationDialog:o}=e("@web/core/confirmation_dialog/confirmation_dialog"),{Component:s}=e("@odoo/owl"),r=t.FileUploadProgressBar=class extends s{setup(){this.dialogService=n("dialog")}onCancel(){this.props.fileUpload.xhr&&this.dialogService.add(o,{body:i(this.env._t("Do you really want to cancel the upload of %s?"),this.props.fileUpload.title),confirm:()=>{this.props.fileUpload.xhr.abort()}})}};return r.props={fileUpload:{type:Object}},r.template="web.FileUploadProgressBar",t})),odoo.define("@web/core/file_upload/file_upload_progress_container",(async function(e){"use strict";let t={};const{Component:n}=e("@odoo/owl"),i=t.FileUploadProgressContainer=class extends n{};return i.template="web.FileUploadProgressContainer",i.props={Component:{optional:!1},shouldDisplay:{type:Function,optional:!0},fileUploads:{type:Object}},t})),odoo.define("@web/core/file_upload/file_upload_progress_record",(async function(e){"use strict";let t={};const{sprintf:n}=e("@web/core/utils/strings"),{FileUploadProgressBar:i}=e("@web/core/file_upload/file_upload_progress_bar"),{Component:o}=e("@odoo/owl"),s=t.FileUploadProgressRecord=class extends o{getProgressTexts(){const e=this.props.fileUpload,t=Math.round(100*e.progress);if(100===t)return{left:this.env._t("Processing..."),right:""};{const i=Math.round(e.loaded/1e6),o=Math.round(e.total/1e6);return{left:n(this.env._t("Uploading... (%s%)"),t),right:n(this.env._t("(%s/%sMB)"),i,o)}}}};s.components={FileUploadProgressBar:i};(t.FileUploadProgressKanbanRecord=class extends s{}).template="web.FileUploadProgressKanbanRecord";return(t.FileUploadProgressDataRow=class extends s{}).template="web.FileUploadProgressDataRow",t})),odoo.define("@web/core/file_upload/file_upload_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{sprintf:i}=e("@web/core/utils/strings"),{EventBus:o,reactive:s}=e("@odoo/owl"),r=t.fileUploadService={dependencies:["notification"],createXhr:()=>new window.XMLHttpRequest,start(e,{notificationService:t}){const n=s({});let r=1;const a=new o;return{bus:a,upload:async(o,l,c={})=>{const u=this.createXhr();u.open("POST",o);const d=new FormData;d.append("csrf_token",odoo.csrf_token);for(const e of l)d.append("ufile",e);c.buildFormData&&c.buildFormData(d);const h=s({id:r++,xhr:u,data:d,progress:0,loaded:0,total:0,state:"pending",title:1===l.length?l[0].name:i(e._t("%s Files"),l.length),type:1===l.length?l[0].type:void 0});return n[h.id]=h,u.upload.addEventListener("progress",(async e=>{h.progress=e.loaded/e.total,h.loaded=e.loaded,h.total=e.total,h.state="loading"})),u.addEventListener("load",(()=>{delete n[h.id],h.state="loaded",a.trigger("FILE_UPLOAD_LOADED",{upload:h})})),u.addEventListener("error",(async()=>{delete n[h.id],h.state="error",void 0!==c.displayErrorNotification&&c.displayErrorNotification&&t.add(e._t("An error occured while uploading."),{title:e._t("Error"),sticky:!0}),a.trigger("FILE_UPLOAD_ERROR",{upload:h})})),u.addEventListener("abort",(async()=>{delete n[h.id],h.state="abort",a.trigger("FILE_UPLOAD_ERROR",{upload:h})})),u.send(d),a.trigger("FILE_UPLOAD_ADDED",{upload:h}),h},uploads:n}}};return n.category("services").add("file_upload",r),t})),odoo.define("@web/core/macro",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{isVisible:i}=e("@web/core/utils/ui"),o=t.ACTION_HELPERS={click(e,t){e.dispatchEvent(new MouseEvent("mouseover")),e.dispatchEvent(new MouseEvent("mouseenter")),e.dispatchEvent(new MouseEvent("mousedown")),e.dispatchEvent(new MouseEvent("mouseup")),e.click(),e.dispatchEvent(new MouseEvent("mouseout")),e.dispatchEvent(new MouseEvent("mouseleave"))},text(e,t){this.click(e,t),e.value=t.value,e.dispatchEvent(new InputEvent("input",{bubbles:!0})),e.dispatchEvent(new InputEvent("change",{bubbles:!0}))}};class s extends Error{}class r{constructor(e){this.name=e.name||"anonymous",this.timeoutDuration=e.timeout||0,this.timeout=null,this.currentIndex=0,this.interval="interval"in e?Math.max(16,e.interval):500,this.isComplete=!1,this.steps=e.steps,this.onStep=e.onStep||(()=>{}),this.onError=e.onError,this.onTimeout=e.onTimeout,this.setTimer()}advance(){if(this.isComplete)return;const e=this.steps[this.currentIndex],t=e.trigger;if(t){let n=null;if("function"==typeof t){const e=this.safeCall(t);e instanceof HTMLElement&&(n=e)}"string"==typeof t&&(n=document.querySelector(t)),n&&i(n)&&this.advanceStep(n,e)}else this.advanceStep(null,e)}advanceStep(e,t){this.safeCall(this.onStep,e,t);const i=t.action;i in o?o[i](e,t):"function"==typeof i&&this.safeCall(i,e),this.currentIndex++,this.currentIndex===this.steps.length?(this.isComplete=!0,n.clearTimeout(this.timeout)):(this.setTimer(),this.advance())}safeCall(e,...t){if(!this.isComplete)try{return e(...t)}catch(e){this.handleError(e)}}setTimer(){this.timeoutDuration&&(n.clearTimeout(this.timeout),this.timeout=n.setTimeout((()=>{if(this.onTimeout){const e=this.currentIndex,t=this.steps[e];this.safeCall(this.onTimeout,t,e)}else{const e=new s("Step timeout");this.handleError(e)}}),this.timeoutDuration))}handleError(e){if(this.isComplete=!0,n.clearTimeout(this.timeout),this.onError){const t=this.currentIndex,n=this.steps[t];this.onError(e,n,t)}else console.error(e)}}t.MacroEngine=class{constructor(e=document.body){this.isRunning=!1,this.timeout=null,this.target=e,this.interval=1/0,this.macros=new Set,this.observer=new MutationObserver(this.delayedCheck.bind(this))}async activate(e){await Promise.resolve();const t=new r(e);this.interval=Math.min(this.interval,t.interval),this.macros.add(t),this.start()}start(){this.isRunning||(this.isRunning=!0,this.observer.observe(this.target,{attributes:!0,childList:!0,subtree:!0,characterData:!0})),this.delayedCheck()}stop(){this.isRunning&&(this.isRunning=!1,n.clearTimeout(this.timeout),this.timeout=null,this.observer.disconnect())}delayedCheck(){this.timeout&&n.clearTimeout(this.timeout),this.timeout=n.setTimeout(this.advanceMacros.bind(this),this.interval)}advanceMacros(){const e=[];for(const t of this.macros)t.advance(),t.isComplete&&e.push(t);if(e.length){for(const t of e)this.macros.delete(t);this.interval=1/0;for(const e of this.macros)this.interval=Math.min(this.interval,e.interval)}0===this.macros.size&&this.stop()}};return t})),odoo.define("@web/core/model_field_selector/model_field_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks");return t.useModelField=function(){const e=n("view"),t=t=>e.loadFields(t,{attributes:["store","searchable","type","string","relation","selection","related"]});return{loadModelFields:t,loadChain:async(e,n)=>{const i=n.length?n.split("."):[];let o={resModel:e,field:null};const s=[o];for(const e of i){const n=await t(o.resModel);Object.assign(o,{field:{...n[e],name:e}}),n[e].relation&&(o={resModel:n[e].relation,field:null},s.push(o))}return s}}},t})),odoo.define("@web/core/model_field_selector/model_field_selector",(async function(e){"use strict";let t={};const{useModelField:n}=e("@web/core/model_field_selector/model_field_hook"),{useUniquePopover:i}=e("@web/core/model_field_selector/unique_popover_hook"),{ModelFieldSelectorPopover:o}=e("@web/core/model_field_selector/model_field_selector_popover"),{Component:s,onWillStart:r,onWillUpdateProps:a}=e("@odoo/owl"),l=t.ModelFieldSelector=class extends s{setup(){this.popover=i(),this.modelField=n(),this.chain=[],r((async()=>{this.chain=await this.loadChain(this.props.resModel,this.props.fieldName)})),a((async e=>{this.chain=await this.loadChain(e.resModel,e.fieldName)}))}get fieldNameChain(){return this.getFieldNameChain(this.props.fieldName)}getFieldNameChain(e){return e.length?e.split("."):[]}async loadChain(e,t){if("01".includes(t))return[{resModel:e,field:{string:t}}];const n=this.getFieldNameChain(t);let i={resModel:e,field:null};const o=[i];for(const e of n){const t=await this.modelField.loadModelFields(i.resModel);Object.assign(i,{field:{...t[e],name:e}}),t[e].relation&&(i={resModel:t[e].relation,field:null},o.push(i))}return o}update(e){this.props.update(e.join("."))}onFieldSelectorClick(e){this.props.readonly||this.popover.add(e.currentTarget,this.constructor.components.Popover,{chain:this.chain,update:this.update.bind(this),showSearchInput:this.props.showSearchInput,isDebugMode:this.props.isDebugMode,loadChain:this.loadChain.bind(this),filter:this.props.filter,followRelations:this.props.followRelations},{closeOnClickAway:!0,popoverClass:"o_popover_field_selector"})}};return Object.assign(l,{template:"web._ModelFieldSelector",components:{Popover:o},props:{fieldName:String,resModel:String,readonly:{type:Boolean,optional:!0},showSearchInput:{type:Boolean,optional:!0},isDebugMode:{type:Boolean,optional:!0},update:{type:Function,optional:!0},filter:{type:Function,optional:!0},followRelations:{type:Boolean,optional:!0}},defaultProps:{readonly:!0,isDebugMode:!1,showSearchInput:!0,update:()=>{},filter:()=>!0,followRelations:!0}}),t})),odoo.define("@web/core/model_field_selector/model_field_selector_popover",(async function(e){"use strict";let t={};const{sortBy:n}=e("@web/core/utils/arrays"),{useModelField:i}=e("@web/core/model_field_selector/model_field_hook"),{fuzzyLookup:o}=e("@web/core/utils/search"),{useAutofocus:s}=e("@web/core/utils/hooks"),{Component:r,onWillStart:a}=e("@odoo/owl"),l=t.ModelFieldSelectorPopover=class extends r{setup(){this.chain=Array.from(this.props.chain),this.modelField=i(),this.unfilteredFields={},this.fields={},this.fieldKeys=[],this.currentActiveFieldId=0,this.searchValue="",this.defaultValue="",this.isDefaultValueVisible=!1,this.fullFieldName=this.fieldNameChain.join("."),this.env.isSmall||(s(),s({refName:"autofocusDefaultValue",selectAll:!0})),a((async()=>{await this.loadFields()}))}get currentActiveField(){return this.fieldKeys[this.currentActiveFieldId]}get currentNode(){return this.chain[this.chain.length-1]}get currentFieldName(){const e=this.chain.filter((e=>e.field));return e.length?e[e.length-1].field.string:""}get fieldNameChain(){return this.chain.filter((e=>e.field)).map((e=>e.field.name))}async loadFields(){this.unfilteredFields=await this.modelField.loadModelFields(this.currentNode.resModel),this.fields={...this.unfilteredFields},this.fieldKeys=this.sortedKeys(this.fields);for(let e of this.fieldKeys){const t=this.fields[e];t.searchable&&this.props.filter(t)||delete this.fields[e]}this.fieldKeys=this.sortedKeys(this.fields)}sortedKeys(e){const t=Object.keys(e);return n(t,(t=>e[t].string))}async update(){const e=this.fieldNameChain;this.fullFieldName=e.join("."),await this.props.update(e),await this.loadFields(),this.render()}async onInputKeydown(e){switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),this.currentActiveFieldId>0&&(this.currentActiveFieldId--,await this.render());break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),this.currentActiveFieldId<this.fieldKeys.length-1&&(this.currentActiveFieldId++,await this.render());break;case"ArrowLeft":e.preventDefault(),e.stopPropagation(),this.onPreviousBtnClick();break;case"Escape":e.preventDefault(),e.stopPropagation(),this.props.close();break;case"Enter":case"ArrowRight":if(e.preventDefault(),e.stopPropagation(),this.isDefaultValueVisible)this.selectDefaultValue(!0);else{const e={...this.fields[this.currentActiveField],name:this.currentActiveField};this.onFieldSelected(e)}}}onSearch(e){this.searchValue=e.target.value;let t=this.sortedKeys(this.fields);this.searchValue&&(t=o(this.searchValue,t,(e=>this.fields[e].string))),this.fieldKeys=t,this.render()}onDefaultValue(e){this.defaultValue=e.target.value,this.render()}onPreviousBtnClick(){this.searchValue="",null===this.currentNode.field&&this.chain.pop(),this.currentNode.field=null,this.update()}onFieldSelected(e){this.searchValue="",this.currentActiveFieldId=0,this.currentNode.field=e,e.relation&&this.props.followRelations?(this.chain.push({resModel:e.relation,field:null}),this.update()):this.props.needDefaultValue?(this.isDefaultValueVisible=!0,this.render(),this.update()):(this.update(),this.props.close(),this.props.validate(this.fieldNameChain,this.defaultValue))}selectDefaultValue(e){e||(this.defaultValue=""),this.props.close(),this.update(),this.props.validate(this.fieldNameChain,this.defaultValue)}async onFieldNameChange(e){this.fullFieldName=e.target.value.replace(/\s+/g,"");const{resModel:t}=this.props.chain[0];try{this.chain=await this.props.loadChain(t,this.fullFieldName),this.update()}catch(e){this.chain=[{resModel:t,field:null}],await this.props.update([]),this.render()}}};return l.defaultProps={validate:()=>{},needDefaultValue:!1,isDebugMode:!1,followRelations:!0},l.props={chain:Array,update:Function,showSearchInput:Boolean,isDebugMode:{type:Boolean,optional:!0},loadChain:Function,filter:Function,close:Function,followRelations:{type:Boolean,optional:!0},needDefaultValue:{type:Boolean,optional:!0},validate:{type:Function,optional:!0}},l.template="web.ModelFieldSelectorPopover",t})),odoo.define("@web/core/model_field_selector/unique_popover_hook",(async function(e){"use strict";let t={};const{usePopover:n}=e("@web/core/popover/popover_hook");return t.useUniquePopover=function(){const e=n();let t=null;return Object.assign(Object.create(e),{add:(n,i,o,s)=>(t&&t(),t=e.add(n,i,o,s),()=>{t(),t=null})})},t})),odoo.define("@web/core/model_selector/model_selector",(async function(e){"use strict";let t={};const{AutoComplete:n}=e("@web/core/autocomplete/autocomplete"),{useService:i}=e("@web/core/utils/hooks"),{fuzzyLookup:o}=e("@web/core/utils/search"),{_t:s}=e("@web/core/l10n/translation"),{Component:r,onWillStart:a}=e("@odoo/owl"),l=t.ModelSelector=class extends r{setup(){this.orm=i("orm"),a((async()=>{this.props.models?this.models=await this.orm.call("ir.model","display_name_for",[this.props.models]):this.models=await this._fetchAvailableModels(),this.models=this.models.map((e=>({label:e.display_name,technical:e.model,classList:{[`o_model_selector_${e.model}`]:1}})))}))}get placeholder(){return s("Search a Model...")}get sources(){return[this.optionsSource]}get optionsSource(){return{placeholder:s("Loading..."),options:this.loadOptionsSource.bind(this)}}onSelect(e){this.props.onModelSelected({label:e.label,technical:e.technical})}filterModels(e){return e?o(e,this.models,(e=>e.technical+e.label)).slice(0,8):this.models.slice(0,8)}loadOptionsSource(e){const t=this.filterModels(e);return t.length||t.push({label:s("No records"),classList:"o_m2o_no_result",unselectable:!0}),t}async _fetchAvailableModels(){return await this.orm.call("ir.model","get_available_models")||[]}};return l.template="web.ModelSelector",l.components={AutoComplete:n},l.props={onModelSelected:Function,id:{type:String,optional:!0},value:{type:String,optional:!0},models:{type:Array,optional:!0}},t})),odoo.define("@web/core/network/download",(async function(e){"use strict";let t={};const{_lt:n}=e("@web/core/l10n/translation"),{makeErrorFromResponse:i,ConnectionLostError:o}=e("@web/core/network/rpc_service"),{browser:s}=e("@web/core/browser/browser"),r=/%([0-9A-Fa-f]{2})/g,a=/[^\x20-\x7e\xa0-\xff]/g,l=/\\([\u0000-\u007f])/g,c=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,u=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,d=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function h(e){const t=u.exec(e);if(!t)throw new TypeError("invalid extended field value");const n=t[1].toLowerCase(),i=t[2];switch(n){case"iso-8859-1":return i.replace(r,p).replace(a,"?");case"utf-8":return decodeURIComponent(i);default:throw new TypeError("unsupported charset in extended field")}}function p(e,t){return String.fromCharCode(parseInt(t,16))}function f(e,t){this.type=e,this.parameters=t}function m(e,t,i){let o,s,r=window,a="application/octet-stream",l=i||a,c=e,u=!t&&!i&&c,d=document.createElement("a"),h=function(e){return String(e)},p=r.Blob||r.MozBlob||r.WebKitBlob||h,f=t||"download";if(p=p.call?p.bind(r):Blob,"true"===String(this)&&(c=[c,l],l=c[0],c=c[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){let e=new XMLHttpRequest;return e.open("GET",u,!0),b(e),setTimeout((()=>{e.send()}),0),e}if(/^data:[\w+\-]+\/[\w+\-]+[,;]/.test(c)){if(!(c.length>2096103.424&&p!==h))return navigator.msSaveBlob?navigator.msSaveBlob(m(c),f):g(c);c=m(c),l=c.type||a}function m(e){let t=e.split(/[:;,]/),n=t[1],i=("base64"===t[2]?atob:decodeURIComponent)(t.pop()),o=i.length,s=0,r=new Uint8Array(o);for(;s<o;++s)r[s]=i.charCodeAt(s);return new p([r],{type:n})}function g(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerText=n("downloading..."),d.style.display="none",document.body.appendChild(d),setTimeout((()=>{d.click(),document.body.removeChild(d),!0===t&&setTimeout((()=>{r.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return e=e.replace(/^data:([\w\/\-+]+)/,a),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;let i=document.createElement("iframe");document.body.appendChild(i),t||(e=`data:${e.replace(/^data:([\w\/\-+]+)/,a)}`),i.src=e,setTimeout((()=>{document.body.removeChild(i)}),333)}if(o=c instanceof p?c:new p([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(o,f);if(r.URL)g(r.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===h)try{return g(`data:${l};base64,${r.btoa(o)}`)}catch(e){return g(`data:${l},${encodeURIComponent(o)}`)}s=new FileReader,s.onload=function(){g(this.result)},s.readAsDataURL(o)}return!0}function g(e,t,n){return g._download(e,t,n)}function v(e){return v._download(e)}function b(e,{onSuccess:t=(()=>{}),onFailure:n=(()=>{})}={}){e.responseType="blob",e.onload=()=>{const s=e.response.type,r=(e.getResponseHeader("Content-Disposition")||"").replace(/;$/,""),a=r?function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");let t=d.exec(e);if(!t)throw new TypeError("invalid type format");let n=t[0].length;const i=t[1].toLowerCase();let o;const s=[],r={};let a;for(n=c.lastIndex=";"===t[0].substr(-1)?n-1:n;t=c.exec(e);){if(t.index!==n)throw new TypeError("invalid parameter format");if(n+=t[0].length,o=t[1].toLowerCase(),a=t[2],-1!==s.indexOf(o))throw new TypeError("invalid duplicate parameter");s.push(o),o.indexOf("*")+1!==o.length?"string"!=typeof r[o]&&('"'===a[0]&&(a=a.substr(1,a.length-2).replace(l,"$1")),r[o]=a):(o=o.slice(0,-1),a=h(a),r[o]=a)}if(-1!==n&&n!==e.length)throw new TypeError("invalid parameter format");return new f(i,r)}(r).parameters.filename:null;if(200!==e.status||"text/html"===s&&!a)if(502===e.status)n(new o);else{const t=new FileReader;t.onload=()=>{const o=t.result,s=(new DOMParser).parseFromString(o,"text/html"),r=0===s.body.children.length?s.body.childNodes:s.body.children;let a;try{const e=r[1]||r[0];a=JSON.parse(e.textContent)}catch{a={message:"Arbitrary Uncaught Python Exception",data:{debug:`${e.status}\n${r.length>0?r[0].textContent:""}\n                                ${r.length>1?r[1].textContent:""}`}}}a=i(a),n(a)},t.readAsText(e.response)}else m(e.response,a,s),t(a)},e.onerror=()=>{n(new o)}}return t.downloadFile=g,g._download=m,t.download=v,v._download=e=>new Promise(((t,n)=>{const i=new s.XMLHttpRequest;let o;Object.prototype.hasOwnProperty.call(e,"form")?(i.open(e.form.method,e.form.action),o=new FormData(e.form)):(i.open("POST",e.url),o=new FormData,Object.entries(e.data).forEach((e=>{const[t,n]=e;o.append(t,n)}))),o.append("token","dummy-because-api-expects-one"),odoo.csrf_token&&o.append("csrf_token",odoo.csrf_token),b(i,{onSuccess:t,onFailure:n}),i.send(o)})),t.configureBlobDownloadXHR=b,t})),odoo.define("@web/core/network/http_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry");function i(e){if(502===e.status)throw new Error("Failed to fetch")}const o=t.httpService={start:()=>({async get(e,t="json"){const n=await fetch(e,{method:"GET"});return i(n),n[t]()},async post(e,t={},n="json"){const o=new FormData;for(const e in t){const n=t[e];if(Array.isArray(n)&&n.length)for(const t of n)o.append(e,t);else o.append(e,n)}const s={body:o,method:"POST"},r=await fetch(e,s);return i(r),r[n]()}})};return n.category("services").add("http",o),t})),odoo.define("@web/core/notebook/notebook",(async function(e){"use strict";let t={};const{scrollTo:n}=e("@web/core/utils/scrolling"),{Component:i,onWillDestroy:o,onWillUpdateProps:s,useEffect:r,useRef:a,useState:l}=e("@odoo/owl"),c=t.Notebook=class extends i{setup(){this.activePane=a("activePane"),this.anchorTarget=null,this.pages=this.computePages(this.props),this.state=l({currentPage:null}),this.state.currentPage=this.computeActivePage(this.props.defaultPage,!0);const e=this.onAnchorClicked.bind(this);this.env.bus.addEventListener("SCROLLER:ANCHOR_LINK_CLICKED",e),r((()=>{if(this.props.onPageUpdate(this.state.currentPage),this.anchorTarget){const e=this.activePane.el.querySelector(`#${this.anchorTarget}`);n(e,{isAnchor:!0}),this.anchorTarget=null}}),(()=>[this.state.currentPage])),s((e=>{const t=this.props.defaultPage!==e.defaultPage||!this.defaultVisible;this.pages=this.computePages(e),this.state.currentPage=this.computeActivePage(e.defaultPage,t)})),o((()=>{this.env.bus.removeEventListener("SCROLLER:ANCHOR_LINK_CLICKED",e)}))}get navItems(){return this.pages.filter((e=>e[1].isVisible))}get page(){const e=this.pages.find((e=>e[0]===this.state.currentPage))[1];return e.Component&&e}onAnchorClicked(e){if(!this.props.anchors)return;const t=e.detail.detail.id.substring(1);this.props.anchors[t]&&this.state.currentPage!==this.props.anchors[t].target&&(e.preventDefault(),e.detail.detail.originalEv.preventDefault(),this.anchorTarget=t,this.state.currentPage=this.props.anchors[t].target)}activatePage(e){this.state.currentPage=e}computePages(e){if(!e.slots&&!e.pages)return[];if(e.pages)for(const t of e.pages)t.isVisible=!0;const t=[],n=[];for(const[i,o]of Object.entries({...e.slots,...e.pages})){const e=o.id||i;o.index?n.push([e,o]):t.push([e,o])}for(const e of n)t.splice(e[1].index,0,e);return t}computeActivePage(e,t){if(!this.pages.length)return null;const n=this.pages.filter((e=>e[1].isVisible)).map((e=>e[0]));if(e)if(n.includes(e)){if(this.defaultVisible=!0,t)return e}else this.defaultVisible=!1;const i=this.state.currentPage;return!i||i&&!n.includes(i)?n[0]:i}};return c.template="web.Notebook",c.defaultProps={className:"",orientation:"horizontal",onPageUpdate:()=>{}},c.props={slots:{type:Object,optional:!0},pages:{type:Object,optional:!0},class:{optional:!0},className:{type:String,optional:!0},anchors:{type:Object,optional:!0},defaultPage:{type:String,optional:!0},orientation:{type:String,optional:!0},onPageUpdate:{type:Function,optional:!0}},t})),odoo.define("@web/core/orm_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),i=t.x2ManyCommands={CREATE:0,create:(e,t)=>(delete t.id,[i.CREATE,e||!1,t]),UPDATE:1,update:(e,t)=>(delete t.id,[i.UPDATE,e,t]),DELETE:2,delete:e=>[i.DELETE,e,!1],FORGET:3,forget:e=>[i.FORGET,e,!1],LINK_TO:4,linkTo:e=>[i.LINK_TO,e,!1],DELETE_ALL:5,deleteAll:()=>[i.DELETE_ALL,!1,!1],REPLACE_WITH:6,replaceWith:e=>[i.REPLACE_WITH,!1,e]};function o(e,t,n){if(!Array.isArray(n)||n.some((e=>typeof e!==t)))throw new Error(`Invalid ${e} list: ${n}`)}function s(e,t){if("object"!=typeof t||null===t||Array.isArray(t))throw new Error(`${e} should be an object`)}function r(e,t){if(!Array.isArray(t))throw new Error(`${e} should be an array`)}const a=t.ORM=class{constructor(e,t){this.rpc=e,this.user=t,this._silent=!1}get silent(){return Object.assign(Object.create(this),{_silent:!0})}call(e,t,n=[],i={}){!function(e){if("string"!=typeof e||0===e.length)throw new Error(`Invalid model name: ${e}`)}(e);const o=`/web/dataset/call_kw/${e}/${t}`,s=Object.assign({},this.user.context,i.context||{}),r={model:e,method:t,args:n,kwargs:Object.assign({},i,{context:s})};return this.rpc(o,r,{silent:this._silent})}create(e,t,n={}){r("records",t);for(const e of t)s("record",e);return this.call(e,"create",t,n)}nameGet(e,t,n={}){return o("ids","number",t),t.length?this.call(e,"name_get",[t],n):Promise.resolve([])}read(e,t,n,i={}){return o("ids","number",t),n&&o("fields","string",n),t.length?this.call(e,"read",[t,n],i):Promise.resolve([])}readGroup(e,t,n,i,s={}){return r("domain",t),o("fields","string",n),o("groupby","string",i),this.call(e,"read_group",[],{...s,domain:t,fields:n,groupby:i})}search(e,t,n={}){return r("domain",t),this.call(e,"search",[t],n)}searchRead(e,t,n,i={}){return r("domain",t),n&&o("fields","string",n),this.call(e,"search_read",[],{...i,domain:t,fields:n})}searchCount(e,t,n={}){return r("domain",t),this.call(e,"search_count",[t],n)}unlink(e,t,n={}){return o("ids","number",t),!t.length||this.call(e,"unlink",[t],n)}webReadGroup(e,t,n,i,s={}){return r("domain",t),o("fields","string",n),o("groupby","string",i),this.call(e,"web_read_group",[],{...s,groupby:i,domain:t,fields:n})}webSearchRead(e,t,n,i={}){return r("domain",t),o("fields","string",n),this.call(e,"web_search_read",[],{...i,domain:t,fields:n})}write(e,t,n,i={}){return o("ids","number",t),s("data",n),this.call(e,"write",[t,n],i)}},l=t.ormService={dependencies:["rpc","user"],async:["call","create","nameGet","read","readGroup","search","searchRead","unlink","webSearchRead","write"],start:(e,{rpc:t,user:n})=>new a(t,n)};return n.category("services").add("orm",l),t})),odoo.define("@web/core/pager/pager",(async function(e){"use strict";let t={};const{useAutofocus:n}=e("@web/core/utils/hooks"),{clamp:i}=e("@web/core/utils/numbers"),{Component:o,useExternalListener:s,useState:r}=e("@odoo/owl"),a=t.Pager=class extends o{setup(){this.state=r({isEditing:!1,isDisabled:!1}),this.inputRef=n(),s(document,"mousedown",this.onClickAway,{capture:!0})}get minimum(){return this.props.offset+1}get maximum(){return Math.min(this.props.offset+this.props.limit,this.props.total)}get value(){const e=[this.minimum];return this.props.limit>1&&e.push(this.maximum),e.join("-")}get isSinglePage(){return!this.props.updateTotal&&1===this.minimum&&this.maximum===this.props.total}async navigate(e){let t=this.props.offset+this.props.limit*e,n=this.props.total;this.props.updateTotal&&t<0&&(n=await this.props.updateTotal()),t>=n?this.props.updateTotal||(t=0):t<0&&1===this.props.limit?t=n-1:t<0&&this.props.limit>1&&(t=n-(n%this.props.limit||this.props.limit)),this.update(t,this.props.limit,!0)}async parse(e){let[t,n]=e.trim().split(/\s*[-\s,;]\s*/);return t=parseInt(t,10),n=n?parseInt(n,10):t,this.props.updateTotal?{minimum:t-1,maximum:n}:{minimum:i(t,1,this.props.total)-1,maximum:i(n,1,this.props.total)}}async setValue(e){const{minimum:t,maximum:n}=await this.parse(e);!isNaN(t)&&!isNaN(n)&&t<n&&this.update(t,n-t)}async update(e,t,n){this.state.isDisabled=!0,await this.props.onUpdate({offset:e,limit:t},n),this.state.isDisabled=!1,this.state.isEditing=!1}async updateTotal(){this.state.isDisabled||(this.state.isDisabled=!0,await this.props.updateTotal(),this.state.isDisabled=!1)}onClickAway(e){e.target!==this.inputRef.el&&(this.state.isEditing=!1)}onInputBlur(){this.state.isEditing=!1}onInputChange(e){this.setValue(e.target.value),this.state.isDisabled||e.preventDefault()}onInputKeydown(e){switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),this.setValue(e.currentTarget.value);break;case"Escape":e.preventDefault(),e.stopPropagation(),this.state.isEditing=!1}}onValueClick(){!this.props.isEditable||this.state.isEditing||this.state.isDisabled||(this.inputRef.el&&this.inputRef.el.focus(),this.state.isEditing=!0)}};return a.template="web.Pager",a.defaultProps={isEditable:!0,withAccessKey:!0},a.props={offset:Number,limit:Number,total:Number,onUpdate:Function,isEditable:{type:Boolean,optional:!0},withAccessKey:{type:Boolean,optional:!0},updateTotal:{type:Function,optional:!0}},t})),odoo.define("@web/core/popover/popover",(async function(e){"use strict";let t={};const{usePosition:n}=e("@web/core/position_hook"),{Component:i}=e("@odoo/owl"),o=t.Popover=class extends i{setup(){n(this.props.target,{onPositioned:this.props.onPositioned||this.onPositioned.bind(this),position:this.props.position})}onPositioned(e,{direction:t,variant:n}){const i=`${t[0]}${n[0]}`;e.classList=["o_popover popover mw-100 shadow-sm",`bs-popover-${{top:"top",bottom:"bottom",left:"start",right:"end"}[t]}`,`o-popover-${t}`,`o-popover--${i}`].join(" "),this.props.popoverClass&&e.classList.add(...this.props.popoverClass.split(" "));const o=e.firstElementChild;switch(o.className="popover-arrow",i){case"tm":case"bm":o.classList.add("start-0","end-0","mx-auto");break;case"lm":case"rm":o.classList.add("top-0","bottom-0","my-auto");break;case"ts":case"bs":o.classList.add("end-auto");break;case"te":case"be":o.classList.add("start-auto");break;case"ls":case"rs":o.classList.add("bottom-auto");break;case"le":case"re":o.classList.add("top-auto")}}};return o.template="web.PopoverWowl",o.defaultProps={position:"bottom"},o.props={id:{optional:!0,type:Number},popoverClass:{optional:!0,type:String},position:{type:String,validate:e=>["top","bottom","left","right"].includes(e),optional:!0},onPositioned:{type:Function,optional:!0},target:{validate:e=>e&&"object"==typeof e&&(e instanceof HTMLElement||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.HTMLElement)},slots:{type:Object,optional:!0,shape:{default:{optional:!0}}}},t})),odoo.define("@web/core/popover/popover_container",(async function(e){"use strict";let t={};const{Popover:n}=e("@web/core/popover/popover"),{Component:i,onWillDestroy:o,useExternalListener:s,useState:r,xml:a}=e("@odoo/owl");class l extends i{setup(){if(this.state=r({displayed:!1}),this.target.isConnected){s(window,"click",this.onClickAway,{capture:!0});const e=new MutationObserver(this.onTargetMutate.bind(this));e.observe(this.target.parentElement,{childList:!0}),o((()=>{e.disconnect()}))}else this.onTargetMutate()}get popoverProps(){return{id:this.props.id,target:this.target,position:this.props.position,popoverClass:this.props.popoverClass,onPositioned:this.props.onPositioned}}get popoverComponentProps(){return{close:this.props.close,...this.props.props}}get target(){return"string"==typeof this.props.target?document.querySelector(this.props.target):this.props.target}onClickAway(e){this.target.contains(e.target)||e.target.closest(`.o_popover[popover-id="${this.props.id}"]`)||this.props.preventClose&&this.props.preventClose(e)||this.props.closeOnClickAway&&this.props.close()}onTargetMutate(){const e=this.target;e&&e.parentElement||this.props.close()}}l.components={Popover:n},l.defaultProps={alwaysDisplayed:!1,closeOnClickAway:!0},l.template=a`
    <Popover t-props="popoverProps">
        <t t-component="props.Component" t-props="popoverComponentProps"/>
    </Popover>
`;const c=t.PopoverContainer=class extends i{setup(){this.props.bus.addEventListener("UPDATE",this.render.bind(this))}};return c.components={PopoverController:l},c.template=a`
    <div class="o_popover_container">
        <t t-foreach="Object.values(props.popovers)" t-as="popover" t-key="popover.id">
            <PopoverController t-props="popover" />
        </t>
    </div>
`,t})),odoo.define("@web/core/popover/popover_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{onWillUnmount:i,status:o,useComponent:s}=e("@odoo/owl");return t.usePopover=function(){const e=new Set,t=n("popover"),r=s();return i((function(){for(const t of e)t();e.clear()})),{add(n,i,s,a={}){const l=Object.create(a);l.onClose=function(){e.delete(c),a.onClose&&"destroyed"!==o(r)&&a.onClose()};const c=t.add(n,i,s,l);return e.add(c),c}}},t})),odoo.define("@web/core/popover/popover_service",(async function(e){"use strict";let t={};const{registry:n}=e("@web/core/registry"),{PopoverContainer:i}=e("@web/core/popover/popover_container"),{EventBus:o}=e("@odoo/owl"),s=t.popoverService={start(){let e=0;const t={},s=new o;return n.category("main_components").add("PopoverContainer",{Component:i,props:{bus:s,popovers:t}}),{add:function(n,i,o,r={}){const a=++e,l=()=>function(e){if(e in t){const n=t[e];n.onClose&&n.onClose(),delete t[e],s.trigger("UPDATE")}}(a),c={id:a,target:n,Component:i,props:o,close:l,onClose:r.onClose,position:r.position,onPositioned:r.onPositioned,popoverClass:r.popoverClass,closeOnClickAway:r.closeOnClickAway,preventClose:r.preventClose};return t[a]=c,s.trigger("UPDATE"),l}}}};return n.category("services").add("popover",s),t})),odoo.define("@web/core/position_hook",(async function(e){"use strict";let t={};const{throttleForAnimation:n}=e("@web/core/utils/timing"),{EventBus:i,onWillDestroy:o,onWillUnmount:s,useChildSubEnv:r,useComponent:a,useEffect:l,useExternalListener:c,useRef:u}=e("@odoo/owl"),{localization:d}=e("@web/core/l10n/localization"),h={t:"top",r:"right",b:"bottom",l:"left"},p={s:"start",m:"middle",e:"end"},f={top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},m={start:"sme",middle:"mse",end:"ems"},g={popper:"popper",margin:0,position:"bottom"};function v(e,t,n){n={container:document.documentElement,...n},t.style.position="fixed",t.style.top="0px",t.style.left="0px";const i=function(e,t,{container:n,margin:i,position:o}){const[s,r="middle"]=o.split("-"),a=f[s],l=m[r],c=getComputedStyle(t),{marginTop:u,marginLeft:d,marginRight:g,marginBottom:v}=c,b=parseFloat(u),y=parseFloat(d),_=parseFloat(g),w=parseFloat(v),k=t.getBoundingClientRect(),x=e.getBoundingClientRect(),S=n.getBoundingClientRect(),C=n===document.firstElementChild,D={t:x.top-w-i-k.height,b:x.bottom+b+i,r:x.right+y+i,l:x.left-_-i-k.width},T={vs:x.left+y,vm:x.left+x.width/2-k.width/2,ve:x.right-_-k.width,hs:x.top+b,hm:x.top+x.height/2-k.height/2,he:x.bottom-w-k.height};function E(e=a[0],t=l[0],i=!1){const o=["t","b"].includes(e),s=D[e],r=T[(o?"v":"h")+t];if(i){const[e,t]=o?[k.height,k.width]:[k.width,k.height];let[i,a]=o?[S.top,S.bottom]:[S.left,S.right],[l,c]=o?[S.left,S.right]:[S.top,S.bottom];C&&(o?(i+=n.scrollTop,a+=n.scrollTop):(l+=n.scrollTop,c+=n.scrollTop));const u=Math.ceil(s)<Math.floor(i)||Math.floor(s+e)>Math.ceil(a),d=Math.ceil(r)<Math.floor(l)||Math.floor(r+t)>Math.ceil(c);if(u||d)return null}const c=o?{top:s,left:r}:{top:r,left:s};return{top:c.top-k.top,left:c.left-k.left,direction:h[e],variant:p[t]}}for(const e of a)for(const t of l){const n=E(e,t,!0);if(n)return n}return E()}(e,t,n),{top:o,left:s}=i;t.style.top=`${o}px`,t.style.left=`${s}px`,n.onPositioned&&n.onPositioned(t,i)}t.reposition=v;const b=Symbol("position-bus");return t.usePosition=function(e,t){t={...g,...t};const{popper:h,position:p}=t;let[f,m="middle"]=p.split("-");"rtl"===d.direction&&(["bottom","top"].includes(f)?"middle"!==m&&(m="start"===m?"end":"start"):f="left"===f?"right":"left",t.position=[f,m].join("-"));const y=u(h),_="function"==typeof e?e:()=>e,w=a(),k=w.env[b]||new i;if(k.on("update",w,(()=>{const e=_();y.el&&e&&v(e,y.el,t)})),o((()=>k.off("update",w))),l((()=>k.trigger("update"))),!(b in w.env)){r({[b]:k});const e=n((()=>k.trigger("update")));c(document,"scroll",e,{capture:!0}),c(document,"load",e,{capture:!0}),c(window,"resize",e),s(e.cancel)}},t})),odoo.define("@web/core/py_js/py",(async function(e){"use strict";let t={};const{evaluate:n}=e("@web/core/py_js/py_interpreter"),{parse:i}=e("@web/core/py_js/py_parser"),{tokenize:o}=e("@web/core/py_js/py_tokenizer");{const{evaluate:n}=e("@web/core/py_js/py_interpreter");Object.assign(t,{evaluate:n})}{const{parse:n}=e("@web/core/py_js/py_parser");Object.assign(t,{parse:n})}{const{tokenize:n}=e("@web/core/py_js/py_tokenizer");Object.assign(t,{tokenize:n})}{const{formatAST:n}=e("@web/core/py_js/py_utils");Object.assign(t,{formatAST:n})}function s(e){const t=o(e);return i(t)}return t.parseExpr=s,t.evaluateExpr=function(e,t={}){const i=s(e);return n(i,t)},t})),odoo.define("@web/core/py_js/py_builtin",(async function(e){"use strict";let t={};const{PyDate:n,PyDateTime:i,PyRelativeDelta:o,PyTime:s,PyTimeDelta:r}=e("@web/core/py_js/py_date");t.BUILTINS={bool(e){switch(typeof e){case"number":return 0!==e;case"string":return""!==e;case"boolean":return e;case"object":return null!==e&&(!e.isTrue||e.isTrue())}return!0},time:{strftime:e=>i.now().strftime(e)},context_today:()=>n.today(),get current_date(){return this.today},get today(){return n.today().strftime("%Y-%m-%d")},get now(){return i.now().strftime("%Y-%m-%d %H:%M:%S")},datetime:{time:s,timedelta:r,datetime:i,date:n},relativedelta:o,true:!0,false:!1};return t})),odoo.define("@web/core/py_js/py_date",(async function(e){"use strict";let t={};const{parseArgs:n}=e("@web/core/py_js/py_parser"),i=t.AssertionError=class extends Error{},o=t.ValueError=class extends Error{},s=t.NotSupportedError=class extends Error{};function r(e){return String(e).padStart(2,"0")}function a(e){return String(e).padStart(4,"0")}function l(e,t,n){let i=e%t;return(i>0&&t<0||i<0&&t>0)&&(i+=t),n(Math.floor(e/t),i)}function c(e,t="AssertionError"){if(!e)throw new i(t)}const u=[null,31,28,31,30,31,30,31,31,30,31,30,31],d=[null];for(let e=0,t=1;t<u.length;++t)d.push(e),e+=u[t];function h(e,t){return 2===t&&p(e)?29:u[t]}function p(e){return e%4==0&&(e%100!=0||e%400==0)}function f(e){const t=e-1;return 365*t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400)}function m(e,t,n){const i=h(e,t);if(!(1<=n&&n<=i))throw new o(`day must be in 1..${i}`);return f(e)+function(e,t){const n=t>2&&p(e);return d[t]+(n?1:0)}(e,t)+n}const g=f(401),v=f(101),b=f(5);function y(e,t,n,i,o,s,r){i=i||0,o=o||0,s=s||0,((r=r||0)<0||r>999999)&&l(r,1e6,(function(e,t){r=t,s+=e})),(s<0||s>59)&&l(s,60,(function(e,t){s=t,o+=e})),(o<0||o>59)&&l(o,60,(function(e,t){o=t,i+=e})),(i<0||i>23)&&l(i,24,(function(e,t){i=t,n+=e})),(t<1||t>12)&&l(t-1,12,(function(n,i){t=i+1,e+=n}));const a=h(e,t);if(n<1||n>a)if(0===n)--t>0?n=h(e,t):(--e,t=12,n=31);else if(n==a+1)++t,n=1,t>12&&(t=1,++e);else{const i=function(e){let t,n,i,o,s;l(--e,g,(function(e,r){t=e,l(r,v,(function(e,t){n=e,l(t,b,(function(e,t){i=e,l(t,365,(function(e,t){o=e,s=t}))}))}))})),e=s;const r=400*t+1+100*n+4*i+o;if(4==o||100==n)return c(0===s),{year:r-1,month:12,day:31};const a=3===o&&(24!==i||3==n);c(a==p(r));let h=e+50>>5,f=d[h]+(h>2&&a?1:0);return f>e&&(--h,f-=u[h]+(2===h&&a?1:0)),{year:r,month:h,day:1+(e-=f)}}(m(e,t,1)+(n-1));e=i.year,t=i.month,n=i.day}return{year:e,month:t,day:n,hour:i,minute:o,second:s,microsecond:r}}const _=t.PyDate=class e{static today(){return this.convertDate(new Date)}static convertDate(t){const n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return new e(n,i,o)}constructor(e,t,n){this.year=e,this.month=t,this.day=n}static create(...t){const{year:i,month:o,day:s}=n(t,["year","month","day"]);return new e(i,o,s)}add(t){const n=y(this.year,this.month,this.day+t.days);return new e(n.year,n.month,n.day)}isEqual(t){return t instanceof e&&(this.year===t.year&&this.month===t.month&&this.day===t.day)}strftime(e){return e.replace(/%([A-Za-z])/g,((e,t)=>{switch(t){case"Y":return a(this.year);case"m":return r(this.month);case"d":return r(this.day)}throw new o(`No known conversion for ${e}`)}))}substract(t){if(t instanceof M)return this.add(t.negate());if(t instanceof e)return M.create(this.toordinal()-t.toordinal());throw s()}toJSON(){return this.strftime("%Y-%m-%d")}toordinal(){return m(this.year,this.month,this.day)}},w=t.PyDateTime=class e{static now(){return this.convertDate(new Date)}static convertDate(t){const n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),s=t.getHours(),r=t.getMinutes(),a=t.getSeconds();return new e(n,i,o,s,r,a,0)}static create(...t){const i=n(t,["year","month","day","hour","minute","second","microsecond"]),o=i.year,s=i.month,r=i.day,a=i.hour||0,l=i.minute||0,c=i.second||0,u=i.micro/1e3||0;return new e(o,s,r,a,l,c,u)}static combine(...t){const{date:i,time:o}=n(t,["date","time"]);return e.create(i.year,i.month,i.day,o.hour,o.minute,o.second)}constructor(e,t,n,i,o,s,r){this.year=e,this.month=t,this.day=n,this.hour=i,this.minute=o,this.second=s,this.microsecond=r}add(t){const n=y(this.year,this.month,this.day+t.days,this.hour,this.minute,this.second+t.seconds,this.microsecond+t.microseconds);return new e(n.year,n.month,n.day,n.hour,n.minute,n.second,n.microsecond)}isEqual(t){return t instanceof e&&(this.year===t.year&&this.month===t.month&&this.day===t.day&&this.hour===t.hour&&this.minute===t.minute&&this.second===t.second&&this.microsecond===t.microsecond)}strftime(e){return e.replace(/%([A-Za-z])/g,((e,t)=>{switch(t){case"Y":return a(this.year);case"m":return r(this.month);case"d":return r(this.day);case"H":return r(this.hour);case"M":return r(this.minute);case"S":return r(this.second)}throw new o(`No known conversion for ${e}`)}))}substract(e){return this.add(e.negate())}toJSON(){return this.strftime("%Y-%m-%d %H:%M:%S")}to_utc(){const e=new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second),t=M.create({minutes:e.getTimezoneOffset()});return this.add(t)}},k=(t.PyTime=class e extends _{static create(...t){const i=n(t,["hour","minute","second"]),o=i.hour||0,s=i.minute||0,r=i.second||0;return new e(o,s,r)}constructor(e,t,n){const i=new Date;super(i.getFullYear(),i.getMonth(),i.getDate()),this.hour=e,this.minute=t,this.second=n}strftime(e){return e.replace(/%([A-Za-z])/g,((e,t)=>{switch(t){case"Y":return a(this.year);case"m":return r(this.month+1);case"d":return r(this.day);case"H":return r(this.hour);case"M":return r(this.minute);case"S":return r(this.second)}throw new o(`No known conversion for ${e}`)}))}toJSON(){return this.strftime("%H:%M:%S")}},[31,59,90,120,151,181,212,243,273,304,334,366]),x=["year","month","day","hour","minute","second"],S="years months weeks days hours minutes seconds microseconds leapdays".split(" "),C="year month day hour minute second microsecond weekday nlyearday yearday".split(" "),D=["dt1","dt2"],T=(t.PyRelativeDelta=class e{static create(...t){const i=n(t,D);if("dt1"in i)throw new Error("relativedelta(dt1, dt2) is not supported for now");for(const e of x)if(e in i){const t=i[e];c(t>=0,`${e} ${t} is out of range`)}for(const e of S)i[e]=i[e]||0;for(const e of C)i[e]=e in i?i[e]:null;i.days+=7*i.weeks;let o=0;if(i.nlyearday?o=i.nlyearday:i.yearday&&(o=i.yearday,o>59&&(i.leapDays=-1)),o)for(let e=0;e<k.length;e++)if(o<=k[e]){i.month=e+1,i.day=0===e?o:o-k[e-1];break}return new e(i)}static add(e,t){if(!(e instanceof _||e instanceof w))throw s();const n=y((t.year||e.year)+t.years,(t.month||e.month)+t.months,t.day||e.day,t.hour||e.hour||0,t.minute||e.minute||0,t.second||e.seconds||0,t.microseconds||e.microseconds||0),i=new w(n.year,n.month,n.day,n.hour,n.minute,n.second,n.microsecond);let o=0;t.leapDays&&i.month>2&&p(i.year)&&(o=t.leapDays);const r=i.add(M.create({days:t.days+o,hours:t.hours,minutes:t.minutes,seconds:t.seconds,microseconds:t.microseconds})),a=!Boolean(r.hour||r.minute||r.second||r.microsecond)&&e instanceof _?new _(r.year,r.month,r.day):r;if(null!==t.weekday){const e=t.weekday+1,n=(7-new Date(a.year,a.month-1,a.day).getDay()+e)%7;return a.add(new M(n,0,0))}return a}static substract(t,n){return e.add(t,n.negate())}constructor(e={},t=1){this.years=t*e.years,this.months=t*e.months,this.days=t*e.days,this.hours=t*e.hours,this.minutes=t*e.minutes,this.seconds=t*e.seconds,this.microseconds=t*e.microseconds,this.leapDays=e.leapDays,this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=e.second,this.microsecond=e.microsecond,this.weekday=e.weekday}negate(){return new e(this,-1)}isEqual(e){throw new s}},"weeks days hours minutes seconds milliseconds microseconds".split(" "));function E(e){const t=e%1;return[t<0?t+1:t,Math.floor(e)]}const M=t.PyTimeDelta=class e{static create(...t){const i=n(t,["days","seconds","microseconds"]);for(const e of T)i[e]=i[e]||0;let o=0,s=0,r=0;const a=i.days+7*i.weeks;let c=i.seconds+60*i.minutes+3600*i.hours,u=i.microseconds+1e3*i.milliseconds;const[d,h]=E(a);o=h;let p=0;if(d){const[e,t]=E(24*d*3600);s=t,p=e}const[f,m]=E(c);c=m;const g=f+p;return l(c,86400,((e,t)=>{o+=e,s+=t})),u+=1e6*g,l(u,1e6,((e,t)=>{l(e,86400,((e,n)=>{o+=e,s+=n,r+=Math.round(t)}))})),new e(o,s,r)}constructor(e,t,n){this.days=e,this.seconds=t,this.microseconds=n}add(t){return e.create({days:this.days+t.days,seconds:this.seconds+t.seconds,microseconds:this.microseconds+t.microseconds})}divide(t){const n=1e6*(24*this.days*3600+this.seconds)+this.microseconds;return e.create({microseconds:Math.floor(n/t)})}isEqual(t){return t instanceof e&&(this.days===t.days&&this.seconds===t.seconds&&this.microseconds===t.microseconds)}isTrue(){return 0!==this.days||0!==this.seconds||0!==this.microseconds}multiply(t){return e.create({days:t*this.days,seconds:t*this.seconds,microseconds:t*this.microseconds})}negate(){return e.create({days:-this.days,seconds:-this.seconds,microseconds:-this.microseconds})}substract(t){return e.create({days:this.days-t.days,seconds:this.seconds-t.seconds,microseconds:this.microseconds-t.microseconds})}total_seconds(){return 86400*this.days+this.seconds+this.microseconds/1e6}};return t})),odoo.define("@web/core/py_js/py_interpreter",(async function(e){"use strict";let t={};const{BUILTINS:n}=e("@web/core/py_js/py_builtin"),{NotSupportedError:i,PyDate:o,PyDateTime:s,PyRelativeDelta:r,PyTime:a,PyTimeDelta:l}=e("@web/core/py_js/py_date"),{PY_DICT:c,toPyDict:u}=e("@web/core/py_js/py_utils"),{parseArgs:d}=e("@web/core/py_js/py_parser"),h=t.EvaluationError=class extends Error{},p=n.bool;function f(e){switch(typeof e){case"object":return null===e?1:Array.isArray(e)?5:3;case"number":return 2;case"string":return 4}throw new h("Unknown type: "+typeof e)}function m(e,t){if("number"==typeof e&&"number"==typeof t)return e<t;"boolean"==typeof e&&(e=e?1:0),"boolean"==typeof t&&(t=t?1:0);const n=f(e),i=f(t);return n===i?e<t:n<i}function g(e,t){return typeof e!=typeof t?"boolean"==typeof e&&"number"==typeof t?t===(e?1:0):"number"==typeof e&&"boolean"==typeof t&&e===(t?1:0):e instanceof Object&&e.isEqual?e.isEqual(t):e===t}function v(e,t){return(Array.isArray(t)||"string"==typeof t&&"string"==typeof e)&&t.includes(e)}const b={get:e=>(...t)=>{const{key:n,defValue:i}=d(t,["key","defValue"]);return n in e?e[n]:i||null}};function y(e,t={}){const d=new Set;let f;const _=Object.create(t);return Object.defineProperty(_,"context",{get:()=>(f||(f=u(t)),f)}),function e(t){switch(t.type){case 0:case 1:case 2:return t.value;case 5:if(t.value in _)return _[t.value];if(t.value in n)return n[t.value];throw new h(`Name '${t.value}' is not defined`);case 3:return null;case 6:return function(e,t){const n=y(e.right,t);switch(e.op){case"-":return n instanceof Object&&n.negate?n.negate():-n;case"+":return n;case"not":return!p(n)}throw new h(`Unknown unary operator: ${e.op}`)}(t,_);case 7:return function(e,t){const n=y(e.left,t),a=y(e.right,t);switch(e.op){case"+":{const e=n instanceof r;if(e||a instanceof r){const t=e?a:n,i=e?n:a;return r.add(t,i)}const t=n instanceof l,c=a instanceof l;if(t&&c)return n.add(a);if(t){if(a instanceof o||a instanceof s)return a.add(n);throw i()}if(c){if(n instanceof o||n instanceof s)return n.add(a);throw i()}return n+a}case"-":if(a instanceof r)return r.substract(n,a);if(a instanceof l){if(n instanceof l)return n.substract(a);if(n instanceof o||n instanceof s)return n.substract(a);throw i()}return n instanceof o?n.substract(a):n-a;case"*":{const e=n instanceof l;if(e||a instanceof l){const t=e?a:n;return(e?n:a).multiply(t)}return n*a}case"/":return n/a;case"%":return n%a;case"//":return n instanceof l?n.divide(a):Math.floor(n/a);case"**":return n**a;case"==":return g(n,a);case"<>":case"!=":return!g(n,a);case"<":return m(n,a);case">":return m(a,n);case">=":return g(n,a)||m(a,n);case"<=":return g(n,a)||m(n,a);case"in":return v(n,a);case"not in":return!v(n,a)}throw new h(`Unknown binary operator: ${e.op}`)}(t,_);case 14:{const n=e(t.left);return"and"===t.op?p(n)?e(t.right):n:p(n)?n:e(t.right)}case 4:case 10:return t.value.map(e);case 11:{const n={};for(const i in t.value)n[i]=e(t.value[i]);return d.add(n),n}case 8:{const n=e(t.fn),i=t.args.map(e),c={};for(const n in t.kwargs)c[n]=e(t.kwargs[n]);return n===o||n===s||n===a||n===r||n===l?n.create(...i,c):n(...i,c)}case 12:return e(t.target)[e(t.key)];case 13:return p(e(t.condition))?e(t.ifTrue):e(t.ifFalse);case 15:{const n=e(t.obj);if(d.has(n)||Object.isPrototypeOf.call(c,n))return b[t.key](n);const i=n[t.key];return"function"!=typeof i||(u=i).prototype&&u.prototype.constructor.name?i:i.bind(n)}}var u;throw new h(`AST of type ${t.type} cannot be evaluated`)}(e)}return t.evaluate=y,t})),odoo.define("@web/core/py_js/py_parser",(async function(e){"use strict";let t={};const{binaryOperators:n,comparators:i}=e("@web/core/py_js/py_tokenizer"),o=t.ParserError=class extends Error{},s=new Set(i),r=new Set(n.concat(i));function a(e){switch(e){case"=":return 10;case"if":return 20;case"in":case"not in":case"is":case"is not":case"<":case"<=":case">":case">=":case"<>":case"==":case"!=":return 60;case"or":return 30;case"and":return 40;case"not":return 50;case"|":return 70;case"^":return 80;case"&":return 90;case"<<":case">>":return 100;case"+":case"-":return 110;case"*":case"/":case"//":case"%":return 120;case"**":return 140;case".":case"(":case"[":return 150}return 0}function l(e){return 2===e.type?a(e.value):0}function c(e,t){return 2===e.type&&e.value===t}function u(e,t,n){if(2===t.type){if(r.has(t.value)){let i=d(n,l(t));if("and"===t.value||"or"===t.value)return{type:14,op:t.value,left:e,right:i};if("."===t.value){if(5===i.type)return{type:15,obj:e,key:i.value};throw new o("invalid obj lookup")}let r={type:7,op:t.value,left:e,right:i};for(;s.has(t.value)&&n[0]&&2===n[0].type&&s.has(n[0].value);){const e=n.shift();r={type:14,op:"and",left:r,right:{type:7,op:e.value,left:i,right:d(n,l(e))}},i=r.right.right}return r}switch(t.value){case"(":{const t=[],i={};for(;n[0]&&!c(n[0],")");){const e=d(n,0);9===e.type?i[e.name.value]=e.value:t.push(e),n[0]&&c(n[0],",")&&n.shift()}if(!n[0]||!c(n[0],")"))throw new o("parsing error");return n.shift(),{type:8,fn:e,args:t,kwargs:i}}case"=":if(5===e.type)return{type:9,name:e,value:d(n,10)};break;case"[":{const t=d(n);if(!n[0]||!c(n[0],"]"))throw new o("parsing error");return n.shift(),{type:12,target:e,key:t}}case"if":{const t=d(n);if(!n[0]||!c(n[0],"else"))throw new o("parsing error");n.shift();return{type:13,condition:t,ifTrue:e,ifFalse:d(n)}}}}throw new o("Token cannot be parsed")}function d(e,t=0){let n=function(e,t){switch(e.type){case 0:return{type:0,value:e.value};case 1:return{type:1,value:e.value};case 4:return"None"===e.value?{type:3}:{type:2,value:"True"===e.value};case 3:return{type:5,value:e.value};case 2:switch(e.value){case"-":case"+":case"~":return{type:6,op:e.value,right:d(t,130)};case"not":return{type:6,op:e.value,right:d(t,50)};case"(":{const e=[];let n=!1;for(;t[0]&&!c(t[0],")");){if(e.push(d(t,0)),!t[0])throw new o("parsing error");if(t[0]&&c(t[0],","))n=!0,t.shift();else if(!c(t[0],")"))throw new o("parsing error")}if(!t[0]||!c(t[0],")"))throw new o("parsing error");return t.shift(),n=n||0===e.length,n?{type:10,value:e}:e[0]}case"[":{const e=[];for(;t[0]&&!c(t[0],"]");)if(e.push(d(t,0)),t[0])if(c(t[0],","))t.shift();else if(!c(t[0],"]"))throw new o("parsing error");if(!t[0]||!c(t[0],"]"))throw new o("parsing error");return t.shift(),{type:4,value:e}}case"{":{const e={};for(;t[0]&&!c(t[0],"}");){const n=d(t,0);if(1!==n.type&&0!==n.type||!t[0]||!c(t[0],":"))throw new o("parsing error");t.shift();const i=d(t,0);e[n.value]=i,c(t[0],",")&&t.shift()}if(!t.shift())throw new o("parsing error");return{type:11,value:e}}}}throw new o("Token cannot be parsed")}(e.shift(),e);for(;e[0]&&l(e[0])>t;)n=u(n,e.shift(),e);return n}return t.bp=a,t.parse=function(e){if(e.length)return d(e,0);throw new o("Missing token")},t.parseArgs=function(e,t){const n=e[e.length-1],i="object"==typeof n?e.slice(0,-1):e,o="object"==typeof n?n:{};for(const[e,n]of i.entries())o[t[e]]=n;return o},t})),odoo.define("@web/core/py_js/py_tokenizer",(async function(e){"use strict";let t={};const n=t.TokenizerError=class extends Error{},i={"\\":"\\",'"':'"',"'":"'",a:"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function o(e,t){const o=[];let s;for(var r=0;r<e.length;++r)if("\\"===e[r]){var a=e[r+1];if(a in i)o.push(i[a]),++r;else{switch(a){case"\n":++r;continue;case"N":if(!t)break;throw new n("SyntaxError: \\N{} escape not implemented");case"u":if(!t)break;var l=e.slice(r+2,r+6);if(!/[0-9a-f]{4}/i.test(l))throw new n(["SyntaxError: (unicode error) 'unicodeescape' codec"," can't decode bytes in position ",r,"-",r+4,": truncated \\uXXXX escape"].join(""));s=parseInt(l,16),o.push(String.fromCharCode(s)),r+=5;continue;case"U":if(!t)break;throw new n("SyntaxError: \\U escape not implemented");case"x":var c=e.slice(r+2,r+4);if(!/[0-9a-f]{2}/i.test(c)){if(!t)throw new n("ValueError: invalid \\x escape");throw new n(["SyntaxError: (unicode error) 'unicodeescape'"," codec can't decode bytes in position ",r,"-",r+2,": truncated \\xXX escape"].join(""))}s=parseInt(c,16),o.push(String.fromCharCode(s)),r+=3;continue;default:if(!/[0-8]/.test(a))break;var u=/[0-8]{1,3}/g;u.lastIndex=r+1;var d=u.exec(e)[0];s=parseInt(d,8),o.push(String.fromCharCode(s)),r+=d.length;continue}o.push("\\")}}else o.push(e[r]);return o.join("")}const s=new Set(["None","False","True"]),r=t.comparators=["in","not","not in","is","is not","<","<=",">",">=","<>","!=","=="],a=t.binaryOperators=["or","and","|","^","&","<<",">>","+","-","*","/","//","%","~","**","."],l=t.unaryOperators=["-"],c=new Set(["(",")","[","]","{","}",":",",","if","else","lambda","=",...r,...a,...l]);function u(...e){return"("+e.join("|")+")"}const d="[a-zA-Z_]\\w*",h="[ \\f\\t]*",p="[eE][+-]?\\d+",f=u(`\\d+\\.\\d*(${p})?`,`\\.\\d+(${p})?`),m=u(f,`\\d+${p}`),g=u(m,"\\d+(L|l)?"),v=u("\\*\\*=?",">>=?","<<=?","<>","!=","//=?","[+\\-*/%&|^=<>]=?","~"),b=u(v,"[\\[\\]\\(\\)\\{\\}]","[:;.,`@]"),y=u("([uU])?'([^\n'\\\\]*(?:\\\\.[^\n'\\\\]*)*)'",'([uU])?"([^\n"\\\\]*(?:\\\\.[^\n"\\\\]*)*)"'),_=h+u(g,b,y,d),w=new RegExp("^"+g+"$"),k=new RegExp("^"+y+"$"),x=new RegExp("^"+d+"$"),S=new RegExp("^"+h);return t.tokenize=function(e){const t=[],i=e.length;let r=0,a=0;const l=new RegExp(_,"g");for(;l.lastIndex<i;){const i=l.exec(e);if(!i){if(/^\s+$/.test(e.slice(a)))break;throw new n("Failed to tokenize <<"+e+">> at index "+(a||0)+"; parsed so far: "+t)}if(i.index>a&&e.slice(a,i.index).trim())throw new n("Invalid expression");r=i.index,a=l.lastIndex;let d=e.slice(r,a).replace(S,"");if(w.test(d))t.push({type:0,value:parseFloat(d)});else if(k.test(d)){var u=k.exec(d);t.push({type:1,value:o(void 0!==u[3]?u[3]:u[5],!(!u[2]&&!u[4]))})}else if(c.has(d))"in"===d&&t.length>0&&"not"===t[t.length-1].value?(d="not in",t.pop()):"not"===d&&t.length>0&&"is"===t[t.length-1].value&&(d="is not",t.pop()),t.push({type:2,value:d});else if(s.has(d))t.push({type:4,value:d});else{if(!x.test(d))throw new n("Invalid expression");t.push({type:3,value:d})}}return t},t})),odoo.define("@web/core/py_js/py_utils",(async function(e){"use strict";let t={};const{bp:n}=e("@web/core/py_js/py_parser"),{PyDate:i,PyDateTime:o}=e("@web/core/py_js/py_date");t.toPyValue=function e(t){switch(typeof t){case"string":return{type:1,value:t};case"number":return{type:0,value:t};case"boolean":return{type:2,value:t};case"object":if(Array.isArray(t))return{type:4,value:t.map(e)};if(null===t)return{type:3};if(t instanceof Date)return{type:1,value:o.convertDate(t)};if(t instanceof i||t instanceof o)return{type:1,value:t};{const n={};for(const i in t)n[i]=e(t[i]);return{type:11,value:n}}default:throw new Error("Invalid type")}},t.formatAST=function e(t,i=0){switch(t.type){case 3:return"None";case 1:return JSON.stringify(t.value);case 0:return String(t.value);case 2:return t.value?"True":"False";case 4:return`[${t.value.map(e).join(", ")}]`;case 6:return"not"===t.op?"not "+e(t.right,50):t.op+e(t.right,130);case 7:{const o=n(t.op),s=`${e(t.left,o)} ${t.op} ${e(t.right,o)}`;return o<i?`(${s})`:s}case 11:{const n=[];for(const i in t.value)n.push(`"${i}": ${e(t.value[i])}`);return"{"+n.join(", ")+"}"}case 10:return`(${t.value.map(e).join(", ")})`;case 5:return t.value;case 12:return`${e(t.target)}[${e(t.key)}]`;case 13:{const{ifTrue:n,condition:i,ifFalse:o}=t;return`${e(n)} if ${e(i)} else ${e(o)}`}case 14:{const o=n(t.op),s=`${e(t.left,o)} ${t.op} ${e(t.right,o)}`;return o<i?`(${s})`:s}case 15:return`${e(t.obj,150)}.${t.key}`;case 8:{const n=t.args.map(e),i=[];for(const n in t.kwargs)i.push(`${n} = ${e(t.kwargs[n])}`);const o=n.concat(i).join(", ");return`${e(t.fn)}(${o})`}}throw new Error("invalid expression: "+t)};const s=t.PY_DICT=Object.create(null);return t.toPyDict=function(e){return new Proxy(e,{getPrototypeOf:()=>s})},t})),odoo.define("@web/core/scroller_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),{scrollTo:o}=e("@web/core/utils/scrolling"),s=t.scrollerService={start(e){n.addEventListener("click",(t=>{const n=t.target.closest("a");if(!n)return;const i=n.attributes.getNamedItem("disable_anchor");if(i&&"true"===i.value)return;const s=n.attributes.getNamedItem("href");if(s&&"#"===s.value[0]){if(1===s.value.length)return void t.preventDefault();let n=null;try{n=document.querySelector(`.o_content #${s.value.substr(1)}`)}catch(e){}const i=new CustomEvent("anchor-link-clicked",{detail:{element:n,id:s.value,originalEv:t}});e.bus.trigger("SCROLLER:ANCHOR_LINK_CLICKED",i),n&&!i.defaultPrevented&&(t.preventDefault(),o(n,{isAnchor:!0}))}}))}};return i.category("services").add("scroller",s),t})),odoo.define("@web/core/signature/name_and_signature",(async function(e){"use strict";let t={};const{isMobileOS:n}=e("@web/core/browser/feature_detection"),{Dropdown:i}=e("@web/core/dropdown/dropdown"),{DropdownItem:o}=e("@web/core/dropdown/dropdown_item"),{useService:s}=e("@web/core/utils/hooks"),{pick:r}=e("@web/core/utils/objects"),{renderToString:a}=e("@web/core/utils/render"),{getDataURLFromFile:l}=e("@web/core/utils/urls"),{Component:c,useState:u,onWillStart:d,useRef:h,useEffect:p}=e("@odoo/owl");let f=0;const m=t.NameAndSignature=class extends c{setup(){this.rpc=s("rpc"),this.htmlId=f++,this.defaultName=this.props.signature.name||"",this.currentFont=0,this.drawTimeout=null,this.state=u({signMode:this.props.mode||(this.props.noInputName&&!this.defaultName?"draw":"auto"),showSignatureArea:!(!this.props.noInputName&&!this.defaultName),showFontList:!1}),this.signNameInputRef=h("signNameInput");const e=h("signInputLoad");p((e=>{e&&e.click()}),(()=>[e.el])),d((async()=>{this.fonts=await this.rpc(`/web/sign/get_fonts/${this.props.defaultFont}`)})),this.signatureRef=h("signature"),p((e=>{e&&(this.$signatureField=$(".o_web_sign_signature"),this.$signatureField.on("change",(()=>{this.props.signature.isSignatureEmpty=this.isSignatureEmpty})),this.jSignature(),this.resetSignature(),this.props.signature.getSignatureImage=()=>this.jSignature("getData","image"),"auto"===this.state.signMode&&this.drawCurrentName())}),(()=>[this.signatureRef.el]))}drawCurrentName(){const e=this.fonts[this.currentFont],t=this.getCleanedName(),n=this.signatureRef.el.querySelector("canvas"),i=this.getSVGText(e,t,n.width,n.height);this.printImage(i)}focusName(){!n()&&this.signNameInputRef.el&&this.signNameInputRef.el.focus()}getCleanedName(){const e=this.props.signature.name;return"initial"===this.props.signatureType&&e?e.split(" ").map((function(e){return e[0]})).join(".")+".":e}getSVGText(e,t,n,i){const o=a("web.sign_svg_text",{width:n,height:i,font:e,text:t,type:this.props.signatureType,color:this.props.fontColor});return"data:image/svg+xml,"+encodeURI(o)}getSVGTextFont(e){const t=parseInt(100*this.props.displaySignatureRatio);return this.getSVGText(e,this.getCleanedName(),t,100)}jSignature(){return this.$signatureField.jSignature(...arguments)}async onChangeSignLoadInput(e){var t=e.target.files[0];if(void 0===t)return!1;if("image"!==t.type.substr(0,5))return this.jSignature("reset"),this.state.loadIsInvalid=!0,!1;this.state.loadIsInvalid=!1;const n=await l(t);this.printImage(n)}onClickSignAutoSelectStyle(){this.state.showFontList=!0}onClickSignDrawClear(){this.jSignature("reset")}onInputSignName(e){this.props.signature.name=e.target.value,this.state.showSignatureArea||!this.getCleanedName()?"auto"===this.state.signMode&&this.drawCurrentName():this.state.showSignatureArea=!0}onSelectFont(e){this.currentFont=this.fonts[e],this.drawCurrentName()}printImage(e){const t=new Image;t.onload=()=>{clearTimeout(this.drawTimeout),this.drawTimeout=setTimeout((()=>{let e=0,n=0;const i=t.width/t.height,o=this.signatureRef.el;if(!o)return;const s=o.querySelector("canvas"),a=s.getContext("2d");t.width/s.width>t.height/s.height?(e=s.width,n=parseInt(e/i)):(n=s.height,e=parseInt(n*i)),this.jSignature("reset");const l=r(a,"shadowOffsetX","shadowOffsetY");return Object.assign(a,{shadowOffsetX:0,shadowOffsetY:0}),a.drawImage(t,0,0,t.width,t.height,(s.width-e)/2,(s.height-n)/2,e,n),Object.assign(a,l),this.props.signature.isSignatureEmpty=this.isSignatureEmpty,this.isSignatureEmpty}),0)},t.src=e}resetSignature(){const{width:e,height:t}=this.resizeSignature();this.$signatureField.empty().jSignature({"decor-color":"#D1D0CE","background-color":"rgba(255,255,255,0)","show-stroke":!1,color:this.props.fontColor,lineWidth:2,width:e,height:t}),this.emptySignature=this.jSignature("getData"),this.setMode(this.state.signMode,!0),this.focusName()}resizeSignature(){this.signatureRef.el.style.width="unset";const e=this.signatureRef.el.clientWidth,t=parseInt(e/this.props.displaySignatureRatio);return this.state.signature={width:e,height:t},Object.assign(this.signatureRef.el.querySelector("canvas").style,{width:e,height:t}),{width:e,height:t}}async setMode(e,t){!0!==t&&e===this.signMode||(this.state.signMode=e,this.jSignature("draw"===this.state.signMode?"enable":"disable"),this.jSignature("reset"),"auto"===this.state.signMode&&this.drawCurrentName())}get isSignatureEmpty(){const e=this.jSignature("getData");return!e||!this.emptySignature||this.emptySignature===e}get loadIsInvalid(){return"load"===this.state.signMode&&this.state.loadIsInvalid}get signatureStyle(){const{signature:e}=this.state;return e?`width: ${e.width}px; height: ${e.height}px`:""}};return m.template="web.NameAndSignature",m.components={Dropdown:i,DropdownItem:o},m.props={signature:{type:Object},defaultFont:{type:String,optional:!0},displaySignatureRatio:{type:Number,optional:!0},fontColor:{type:String,optional:!0},signatureType:{type:String,optional:!0},noInputName:{type:Boolean,optional:!0},mode:{type:String,optional:!0}},m.defaultProps={defaultFont:"",displaySignatureRatio:3,fontColor:"DarkBlue",signatureType:"signature",noInputName:!1},t})),odoo.define("@web/core/signature/signature_dialog",(async function(e){"use strict";let t={};const{Dialog:n}=e("@web/core/dialog/dialog"),{NameAndSignature:i}=e("@web/core/signature/name_and_signature"),{Component:o,useState:s}=e("@odoo/owl"),r=t.SignatureDialog=class extends o{setup(){this.title=this.env._t("Adopt Your Signature"),this.signature=s({name:this.props.defaultName,isSignatureEmpty:!0})}onClickConfirm(){this.props.uploadSignature({name:this.signature.name,signatureImage:this.signature.getSignatureImage()}),this.props.close()}get nameAndSignatureProps(){return{...this.props.nameAndSignatureProps,signature:this.signature}}};return r.template="web.SignatureDialog",r.components={Dialog:n,NameAndSignature:i},r.defaultProps={defaultName:""},t})),odoo.define("@web/core/tooltip/tooltip",(async function(e){"use strict";let t={};const{Component:n}=e("@odoo/owl"),i=t.Tooltip=class extends n{};return i.template="web.Tooltip",i.props={close:Function,tooltip:{type:String,optional:!0},template:{type:String,optional:!0},info:{optional:!0}},t})),odoo.define("@web/core/tooltip/tooltip_hook",(async function(e){"use strict";let t={};const{useService:n}=e("@web/core/utils/hooks"),{useEffect:i,useRef:o}=e("@odoo/owl");return t.useTooltip=function(e,t){const s=n("tooltip"),r=o(e);i((e=>s.add(e,t)),(()=>[r.el]))},t})),odoo.define("@web/core/tooltip/tooltip_service",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser"),{registry:i}=e("@web/core/registry"),{Tooltip:o}=e("@web/core/tooltip/tooltip"),{hasTouch:s}=e("@web/core/browser/feature_detection"),{whenReady:r}=e("@odoo/owl"),a=t.tooltipService={dependencies:["popover"],start(e,{popover:t}){let i,a,l,c=null;const u=new Map;function d(){n.clearTimeout(i),a&&a()}function h(e,{tooltip:s="",template:r,info:l,position:u,delay:h=400}){c=e,d(),(s||r)&&(i=n.setTimeout((()=>{c.isConnected&&(a=t.add(c,o,{tooltip:s,template:r,info:l},{position:u}),c.title="")}),h))}function p(e){if(u.has(e))h(e,u.get(e));else if(e.matches("[data-tooltip], [data-tooltip-template]")){const t=e.dataset,n={tooltip:t.tooltip,template:t.tooltipTemplate,position:t.tooltipPosition};t.tooltipInfo&&(n.info=JSON.parse(t.tooltipInfo)),t.tooltipDelay&&(n.delay=parseInt(t.tooltipDelay,10)),h(e,n)}}function f(e){p(e.target)}function m(e){c===e.target&&d()}function g(e){l=!0,p(e.target)}return r((()=>{if(n.setInterval((()=>{c&&(!document.body.contains(c)||s()&&!l)&&d()}),200),s())return document.body.addEventListener("touchstart",g),document.body.addEventListener("touchend",(e=>{e.target.matches("[data-tooltip], [data-tooltip-template]")&&(e.target.dataset.tooltipTouchTapToShow||(l=!1))})),void document.body.addEventListener("touchcancel",(e=>{e.target.matches("[data-tooltip], [data-tooltip-template]")&&(e.target.dataset.tooltipTouchTapToShow||(l=!1))}));document.body.addEventListener("mouseenter",f,{capture:!0}),document.body.addEventListener("mouseleave",m,{capture:!0})})),{add:(e,t)=>(u.set(e,t),()=>{u.delete(e),c===e&&d()})}}};return i.category("services").add("tooltip",a),t})),odoo.define("@web/core/utils/arrays",(async function(e){"use strict";let t={};function n(){const e=Array.prototype.slice.call(arguments);if(0===e.length)return[void 0];const t=e[0].map((function(e){return[e]}));if(1===e.length)return t;const i=n.apply(null,e.slice(1));return t.reduce((function(e,t){return e.concat(i.map((function(e){return t.concat(e)})))}),[])}function i(e){if(!e)return e=>e;switch(typeof e){case"string":return t=>t[e];case"function":return e;default:throw new Error(`Expected criterion of type 'string' or 'function' and got '${typeof e}'`)}}return t.intersection=function(e,t){return e.filter((e=>t.includes(e)))},t.groupBy=function(e,t){const n=i(t),o={};for(const t of e){const e=String(n(t));e in o||(o[e]=[]),o[e].push(t)}return o},t.sortBy=function(e,t,n="asc"){const o=i(t);return e.slice().sort(((e,t)=>{const i=o(e),s=o(t);let r;return r=isNaN(i)&&isNaN(s)?i>s?1:i<s?-1:0:i-s,"asc"===n?r:-r}))},t.symmetricalDifference=function(e,t){return e.filter((e=>!t.includes(e))).concat(t.filter((t=>!e.includes(t))))},t.cartesian=function(){const e=Array.prototype.slice.call(arguments);return 0===e.length?[void 0]:1===e.length?e[0]:n.apply(null,e)},t.shallowEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},t.sections=function(e){const t=[];for(let n=0;n<e.length+1;n++)t.push(e.slice(0,n));return t},t.unique=function(e){return Array.from(new Set(e))},t})),odoo.define("@web/core/utils/binary",(async function(e){"use strict";let t={};return t.isBinarySize=function(e){return/^\d+(\.\d*)? [^0-9]+$/.test(e)},t.toBase64Length=function(e){return Math.ceil(4*e/3)},t})),odoo.define("@web/core/utils/concurrency",(async function(e){"use strict";let t={};t.KeepLast=class{constructor(){this._id=0}add(e){this._id++;const t=this._id;return new Promise(((n,i)=>{e.then((e=>{this._id===t&&n(e)})).catch((e=>{this._id===t&&i(e)}))}))}},t.Mutex=class{constructor(){this._lock=Promise.resolve(),this._queueSize=0,this._unlockedProm=void 0,this._unlock=void 0}async exec(e){this._queueSize++,this._unlockedProm||(this._unlockedProm=new Promise((e=>{this._unlock=()=>{e(),this._unlockedProm=void 0}})));const t=()=>Promise.resolve(e()).finally((()=>{0==--this._queueSize&&this._unlock()}));return this._lock=this._lock.then(t,t),this._lock}getUnlockedDef(){return this._unlockedProm||Promise.resolve()}},t.Race=class{constructor(){this.currentProm=null,this.currentPromResolver=null,this.currentPromRejecter=null}add(e){return this.currentProm||(this.currentProm=new Promise(((e,t)=>{this.currentPromResolver=t=>{this.currentProm=null,this.currentPromResolver=null,this.currentPromRejecter=null,e(t)},this.currentPromRejecter=e=>{this.currentProm=null,this.currentPromResolver=null,this.currentPromRejecter=null,t(e)}}))),e.then(this.currentPromResolver).catch(this.currentPromRejecter),this.currentProm}getCurrentProm(){return this.currentProm}},t.Deferred=class{constructor(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return Object.assign(n,{resolve:e,reject:t})}};return t})),odoo.define("@web/core/utils/draggable",(async function(e){"use strict";let t={};const{makeDraggableHook:n}=e("@web/core/utils/draggable_hook_builder");t.useDraggable=n({name:"useDraggable",onDragStart({ctx:e,helpers:t}){t.execHandler("onDragStart",{element:e.currentElement})},onDrag({ctx:e,helpers:t}){t.execHandler("onDrag",{element:e.currentElement})},onDragEnd({ctx:e,helpers:t}){t.execHandler("onDragEnd",{element:e.currentElement})},onDrop({ctx:e,helpers:t}){t.execHandler("onDrop",{element:e.currentElement})}});return t})),odoo.define("@web/core/utils/draggable_hook_builder",(async function(e){"use strict";let t={};const{clamp:n}=e("@web/core/utils/numbers"),{debounce:i,setRecurringAnimationFrame:o}=e("@web/core/utils/timing"),{useEffect:s,useEnv:r,useExternalListener:a,onWillUnmount:l,reactive:c}=e("@odoo/owl"),u={enable:["boolean","function"],ref:["object"],elements:["string"],handle:["string","function"],ignore:["string","function"],cursor:["string"],edgeScrolling:["object","function"]},d={enable:!0,edgeScrolling:{speed:10,threshold:30}},h=["ref","elements"];function p(e,t={}){const n=e.getBoundingClientRect();if(t.adjust){const t=getComputedStyle(e),[i,o,s,r]=["padding-left","padding-right","padding-top","padding-bottom"].map((e=>{return n=t.getPropertyValue(e),Number(n.endsWith("px")?n.slice(0,-2):n);var n}));n.x+=i,n.y+=s,n.width-=i+o,n.height-=s+r}return n}function f(e){if(!e)return null;if(e.scrollWidth>e.clientWidth){const t=getComputedStyle(e).getPropertyValue("overflow");if(/\bauto\b|\bscroll\b/.test(t))return e}return f(e.parentElement)}function m(e){if(!e)return null;if(e.scrollHeight>e.clientHeight){const t=getComputedStyle(e).getPropertyValue("overflow");if(/\bauto\b|\bscroll\b/.test(t))return e}return m(e.parentElement)}return t.makeDraggableHook=function(e={}){const t=e.name||"useAnonymousDraggable",g={...u,...e.acceptedParams},v={...d,...e.defaultParams},b=e=>new Error(`Error in hook ${t}: ${e}.`);return{[t](t){const u=(e,t)=>{const n=e.getAttribute("style");E.push((()=>n?e.setAttribute("style",n):e.removeAttribute("style")));for(const n in t)e.style[n]=t[n]},d=()=>{var e;D.dragging=!0,[M.currentScrollParentX,M.currentScrollParentY]=[f(e=M.currentContainer),m(e)];const[t]=S();for(const e of M.ref.el.querySelectorAll(M.elementSelector))e!==M.currentElement&&u(e,{"pointer-events":"auto"});M.offset.x-=t.x,M.offset.y-=t.y,u(M.currentElement,{position:"fixed","pointer-events":"none","z-index":1e3,width:`${t.width}px`,height:`${t.height}px`,left:`${t.x}px`,top:`${t.y}px`});const n={"pointer-events":"none","user-select":"none"};if(M.cursor&&(n.cursor=M.cursor),u(document.body,n),(M.currentScrollParentX||M.currentScrollParentY)&&M.edgeScrolling.enabled){const e=o(w);E.push(e)}_("onDragStart")},y=(e,t)=>{for(D.dragging&&(t||(_("onDragEnd"),e||_("onDrop"))),_("onCleanup");E.length;)E.pop()();M.currentContainer=null,M.currentElement=null,M.currentElementRect=null,M.origin=null,M.currentScrollParentX=null,M.currentScrollParentY=null,D.dragging=!1},_=(t,n)=>{"function"==typeof e[t]&&e[t]({ctx:M,helpers:T,...n})},w=e=>{const[t,,i,o]=S(),{speed:s,threshold:r}=M.edgeScrolling,a=s/16*e,l={};if(i){const e=i.x+i.width;t.x-i.x<r?l.x=[t.x-i.x,-1]:e-t.x-t.width<r&&(l.x=[e-t.x-t.width,1])}if(o){const e=o.y+o.height;t.y-o.y<r?l.y=[t.y-o.y,-1]:e-t.y-t.height<r&&(l.y=[e-t.y-t.height,1])}const c=([e,t])=>(1-n(e,0,r)/r)*a*t;l.y&&M.currentScrollParentY.scrollBy({top:c(l.y)}),l.x&&M.currentScrollParentX.scrollBy({left:c(l.x)})},k=e=>{x(e),y(!0),0!==e.button||!M.enabled||!e.target.closest(M.fullSelector)||M.ignoreSelector&&e.target.closest(M.ignoreSelector)||(e.preventDefault(),M.currentContainer=M.ref.el,M.currentElement=e.target.closest(M.elementSelector),M.origin={x:e.clientX,y:e.clientY},Object.assign(M.offset,M.mouse),_("onWillStartDrag"))},x=e=>{M.mouse.x=e.clientX,M.mouse.y=e.clientY},S=()=>{const e=p(M.currentContainer,{adjust:!0});e.width=M.currentContainer.scrollWidth,e.height=M.currentContainer.scrollHeight;let t=null,n=null;if(M.edgeScrolling.enabled){if(M.currentScrollParentX){t=p(M.currentScrollParentX,{adjust:!0});const n=Math.min(e.left+M.currentContainer.scrollWidth,t.right);e.x=Math.max(e.x,t.x),e.width=n-e.x}if(M.currentScrollParentY){n=p(M.currentScrollParentY,{adjust:!0});const t=Math.min(e.top+M.currentContainer.scrollHeight,n.bottom);e.y=Math.max(e.y,n.y),e.height=t-e.y}}return M.currentElementRect=p(M.currentElement),[M.currentElementRect,e,t,n]},C=r(),D=c({dragging:!1});for(const e in g){if(t[e]&&!g[e].includes(typeof t[e]))throw b(`invalid type for property "${e}" in parameters`);if(!t[e]&&h.includes(e))throw b(`missing required property "${e}" in parameters`)}const T={addListener:(e,t,n,i)=>{e.addEventListener(t,n,i),E.push((()=>e.removeEventListener(t,n,i)))},addStyle:u,execHandler:(e,n)=>{if("function"==typeof t[e])try{t[e]({...M.mouse,...n})}catch(e){throw y(!0,!0),e}}},E=[],M={ref:t.ref,ignoreSelector:null,fullSelector:null,cursor:null,currentContainer:null,currentElement:null,currentElementRect:null,scrollParent:null,enabled:!1,mouse:{x:0,y:0},offset:{x:0,y:0},edgeScrolling:{enabled:!0},pixelsTolerance:10};s(((...e)=>{const t={...v,...Object.fromEntries(e)};if(M.enabled=Boolean(M.ref.el&&!C.isSmall&&t.enable),!M.enabled)return;if(M.elementSelector=t.elements,!M.elementSelector)throw b(`no value found by "elements" selector: ${M.elementSelector}`);const n=[M.elementSelector];M.cursor=t.cursor||null,t.handle&&n.push(t.handle),t.ignore&&(M.ignoreSelector=t.ignore),M.fullSelector=n.join(" "),Object.assign(M.edgeScrolling,t.edgeScrolling),_("onComputeParams",{params:t})}),(()=>(e=>{const t={enable:!0};for(const n in g)n in e&&(t[n]=e[n],"function"==typeof e[n]&&(t[n]=t[n]()));return Object.entries(t)})(t))),s((e=>{if(e)return e.addEventListener("mousedown",k),()=>e.removeEventListener("mousedown",k)}),(()=>[M.ref.el]));const O=i((e=>{if(M.enabled&&M.currentElement&&(D.dragging||(e=>M.origin&&Math.hypot(e.clientX-M.origin.x,e.clientY-M.origin.y)>=M.pixelsTolerance)(e)&&d(),x(e),D.dragging)){const[e,t]=S();M.currentElement.style.left=`${n(M.mouse.x-M.offset.x,t.x,t.x+t.width-e.width)}px`,M.currentElement.style.top=`${n(M.mouse.y-M.offset.y,t.y,t.y+t.height-e.height)}px`,_("onDrag")}}),"animationFrame",!0);return a(window,"mousemove",O),a(window,"mouseup",(e=>{x(e),y(!1)})),a(window,"keydown",(e=>{if(M.enabled&&D.dragging)switch(e.key){case"Escape":case"Tab":!function(e){e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()}(e),y(!0)}}),!0),l((()=>y(!0))),D}}[t]},t})),odoo.define("@web/core/utils/files",(async function(e){"use strict";let t={};const{humanNumber:n}=e("@web/core/utils/numbers"),{session:i}=e("@web/session"),{_t:o}=e("@web/core/l10n/translation"),{sprintf:s}=e("@web/core/utils/strings");return t.checkFileSize=function(e,t){const r=i.max_file_upload_size||134217728;if(e>r)return t&&t.add(s(o("The selected file (%sB) is over the maximum allowed file size (%sB)."),n(e),n(r)),{type:"danger"}),!1;return!0},t})),odoo.define("@web/core/utils/objects",(async function(e){"use strict";let t={};return t.shallowEqual=function(e,t){const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((n=>e[n]===t[n]))},t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},t.omit=function(e,...t){const n={},i=new Set(t);for(const t in e)i.has(t)||(n[t]=e[t]);return n},t.pick=function(e,...t){return Object.fromEntries(t.filter((t=>t in e)).map((t=>[t,e[t]])))},t})),odoo.define("@web/core/utils/patch",(async function(e){"use strict";let t={};const n=new WeakMap;function i(e,t,i,o={}){if("string"!=typeof t)throw new Error("Incorrect use of patch: second argument should be the patchName");const s=Boolean(o.pure);n.has(e)||n.set(e,{original:{},patches:[]});const r=n.get(e);if(r.patches.some((e=>e.name===t)))throw new Error(`Class ${e.name} already has a patch ${t}`);r.patches.push({name:t,patch:i,pure:s});for(const n in i){let o=null,s=e;do{o=Object.getOwnPropertyDescriptor(s,n),s=Object.getPrototypeOf(s)}while(!o&&s);let l=Object.getOwnPropertyDescriptor(i,n);if(Object.hasOwnProperty.call(r.original,n)||(r.original[n]=Object.getOwnPropertyDescriptor(e,n)),o){const e=`${n} (patch ${t})`;o.value&&"function"==typeof l.value&&(l={...o,value:l.value},a("value",o,l,e)),(l.get||l.set)&&(o.get||o.set)&&(l={...o,get:l.get||o.get,set:l.set||o.set},o.get&&"function"==typeof l.get&&a("get",o,l,e),o.set&&"function"==typeof l.set&&a("set",o,l,e))}Object.defineProperty(e,n,l)}function a(e,t,n,i){const o=t[e],r=n[e];n[e]=s?r:{[i](...e){let t;this&&(t=this._super,Object.defineProperty(this,"_super",{value:o.bind(this),configurable:!0,writable:!0}));const n=r.call(this,...e);return this&&Object.defineProperty(this,"_super",{value:t,configurable:!0,writable:!0}),n}}[i]}}return t.patch=i,t.unpatch=function(e,t){const o=n.get(e);if(!o.patches.some((e=>e.name===t)))throw new Error(`Class ${e.name} does not have any patch ${t}`);n.delete(e);for(const t in o.original)void 0===o.original[t]?delete e[t]:Object.defineProperty(e,t,o.original[t]);for(const n of o.patches)n.name!==t&&i(e,n.name,n.patch,{pure:n.pure})},t})),odoo.define("@web/core/utils/render",(async function(e){"use strict";let t={};const{blockDom:n,markup:i}=e("@odoo/owl");function o(e,t={}){const i=o.app;if(!i)throw new Error("an app must be configured before using renderToString");const s=i.getTemplate(e)(t,{}),r=document.createElement("div");return n.mount(s,r),r.innerHTML}return t.renderToString=o,t.renderToMarkup=function(e,t={}){return i(o(e,t))},t})),odoo.define("@web/core/utils/scrolling",(async function(e){"use strict";let t={};return t.scrollTo=function e(t,n={scrollable:null,isAnchor:!1}){function i(e){return null==e?null:e.scrollHeight>e.clientHeight&&e.clientHeight>0?e:i(e.parentNode)}const o=n.scrollable?n.scrollable:i(t.parentNode);if(o){const s=o.getBoundingClientRect().bottom,r=o.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom,l=t.getBoundingClientRect().top;if(a>s&&!n.isAnchor)o.scrollTop+=l-s+Math.ceil(t.getBoundingClientRect().height);else if((l<r||n.isAnchor)&&(o.scrollTop-=r-l,n.isAnchor)){const t=i(o.parentNode);t&&e(o,{isAnchor:!0,scrollable:t})}}},t})),odoo.define("@web/core/utils/search",(async function(e){"use strict";let t={};const{unaccent:n}=e("@web/core/utils/strings");function i(e,t){let i=0,o=0;const s=t.length;let r=0;e=n(e,!1),t=n(t,!1);for(let n=0;n<s;n++)t[n]===e[r]?(r++,o+=100+o-n/200):o=0,i+=o;return r===e.length?i:0}return t.fuzzyLookup=function(e,t,n){const o=[];return t.forEach((t=>{const s=i(e,n(t));s>0&&o.push({score:s,elem:t})})),o.sort(((e,t)=>t.score-e.score)),o.map((e=>e.elem))},t.fuzzyTest=function(e,t){return 0!==i(e,t)},t})),odoo.define("@web/core/utils/sortable",(async function(e){"use strict";let t={};const{makeDraggableHook:n}=e("@web/core/utils/draggable_hook_builder");t.useSortable=n({name:"useSortable",acceptedParams:{groups:["string","function"],connectGroups:["boolean","function"]},defaultParams:{connectGroups:!1,currentGroup:null,edgeScrolling:{speed:20,threshold:60},ghostElement:null,groupSelector:null},onComputeParams({ctx:e,params:t}){e.groupSelector=t.groups||null,e.groupSelector&&(e.fullSelector=[e.groupSelector,e.fullSelector].join(" ")),e.connectGroups=t.connectGroups},onDragStart({ctx:e,helpers:t}){const n=n=>{const i=n.currentTarget;if(e.connectGroups||!e.groupSelector||e.currentGroup===i.closest(e.groupSelector)){const t=e.ghostElement.compareDocumentPosition(i);2===t?i.before(e.ghostElement):4===t&&i.after(e.ghostElement)}t.execHandler("onElementEnter",{element:i})},i=e=>{const n=e.currentTarget;t.execHandler("onElementLeave",{element:n})},o=n=>{const i=n.currentTarget;i.appendChild(e.ghostElement),t.execHandler("onGroupEnter",{group:i})},s=e=>{const n=e.currentTarget;t.execHandler("onGroupLeave",{group:n})},{width:r,height:a}=e.currentElementRect;if(e.ghostElement=e.currentElement.cloneNode(!1),e.ghostElement.style=`visibility: hidden; display: block; width: ${r}px; height:${a}px;`,e.connectGroups&&e.groupSelector)for(const n of e.ref.el.querySelectorAll(e.groupSelector))t.addListener(n,"mouseenter",o),t.addListener(n,"mouseleave",s),t.addStyle(n,{"pointer-events":"auto"});for(const o of e.ref.el.querySelectorAll(e.elementSelector))o!==e.currentElement&&o!==e.ghostElement&&(t.addListener(o,"mouseenter",n),t.addListener(o,"mouseleave",i));e.currentElement.after(e.ghostElement),t.execHandler("onDragStart",{element:e.currentElement,group:e.currentGroup})},onDragEnd({ctx:e,helpers:t}){t.execHandler("onDragEnd",{element:e.currentElement,group:e.currentGroup})},onDrop({ctx:e,helpers:t}){const n=e.ghostElement.previousElementSibling,i=e.ghostElement.nextElementSibling;n!==e.currentElement&&i!==e.currentElement&&t.execHandler("onDrop",{element:e.currentElement,group:e.currentGroup,previous:n,next:i,parent:e.groupSelector&&e.ghostElement.closest(e.groupSelector)})},onWillStartDrag({ctx:e}){e.groupSelector&&(e.currentGroup=e.currentElement.closest(e.groupSelector),e.connectGroups||(e.currentContainer=e.currentGroup))},onCleanup({ctx:e}){e.ghostElement&&e.ghostElement.remove(),e.currentGroup=null,e.ghostElement=null}});return t})),odoo.define("@web/core/utils/urls",(async function(e){"use strict";let t={};const{browser:n}=e("@web/core/browser/browser");function i(e){return Object.entries(e).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t||"")}`)).join("&")}function o(e){if(e)e=e.replace(/\/+$/,"");else{const{host:t,protocol:i}=n.location;e=`${i}//${t}`}return e}return t.objectToUrlEncodedString=i,t.getOrigin=o,t.url=function(e,t,n={}){const s=o(n.origin);if(!e)return s;let r=i(t||{});r=r.length>0?`?${r}`:r;let a=["http://","https://","//"].some((t=>e.length>=t.length&&e.slice(0,t.length)===t));return a=a?"":s,`${a}${e}${r}`},t.getDataURLFromFile=function(e){if(!e)return Promise.reject();return new Promise(((t,n)=>{const i=new FileReader;i.addEventListener("load",(()=>{"data:"===i.result?t(`data:${e.type};base64,`):t(i.result)})),i.addEventListener("abort",n),i.addEventListener("error",n),i.readAsDataURL(e)}))},t})),odoo.define("@web/core/utils/xml",(async function(e){"use strict";let t={};const{nbsp:n}=e("@web/core/utils/strings"),i=new DOMParser,o=i.parseFromString("<templates/>","text/xml");t.XMLParser=class{parse(){}visitXML(e,t){const n=e=>{if(e){let i=!1;const o=()=>{for(const t of e.children)n(t);i=!0};!1===t(e,o)||i||o()}},i="string"==typeof e?this.parseXML(e):e;n(i)}parseXML(e){const t=e.replace(/&amp;nbsp;/g,n),o=i.parseFromString(t,"text/xml");if(o.getElementsByTagName("parsererror").length>0)throw new Error(`An error occured while parsing ${e}: ${o.getElementsByTagName("parsererror")}`);return o.documentElement}};return t.append=function(e,t){const n=Array.isArray(t)?t:[t];return e.append(...n.filter(Boolean)),e},t.combineAttributes=function(e,t,n,i=" "){const o=[];e.hasAttribute(t)&&o.push(e.getAttribute(t));n=(n=Array.isArray(n)?n:[n]).filter((e=>!!e)),o.push(...n),e.setAttribute(t,o.join(i))},t.createElement=function(e,...t){const n=o.createElement(e);for(const e of t)if(e)if(Symbol.iterator in e)n.append(...e);else if("object"==typeof e)for(const t in e)n.setAttribute(t,e[t]);return n},t.createTextNode=function(e){return o.createTextNode(e)},t.extractAttributes=function(e,t){const n=Object.create(null);for(const i of t)n[i]=e.getAttribute(i)||"",e.removeAttribute(i);return n},t.getTag=function(e,t=!1){const n=e&&e.nodeName||"";return t?n.toLowerCase():n},t.setAttributes=function(e,t){for(const[n,i]of Object.entries(t))e.setAttribute(n,i)},t})),odoo.define("web.Dialog",(function(e){"use strict";var t=e("web.core"),n=e("web.dom"),i=e("web.Widget");const o=e("web.OwlDialog");var s=t.qweb,r=t._t,a=i.extend({tagName:"main",custom_events:_.extend({},i.prototype.custom_events,{focus_control_button:"_onFocusControlButton",close_dialog:"_onCloseDialog"}),events:_.extend({},i.prototype.events,{"keydown .modal-footer button":"_onFooterButtonKeyDown"}),init:function(e,n){var i=this;this._super(e),this._opened=new Promise((function(e){i._openedResolver=e})),this.on_attach_callback&&(this._opened=this.opened(this.on_attach_callback)),n=_.defaults(n||{},{title:r("Odoo"),subtitle:"",size:"large",fullscreen:!1,dialogClass:"",$content:!1,buttons:[{text:r("Ok"),close:!0}],technical:!0,$parentNode:$(document.body.querySelector(".o_dialog_container")),backdrop:"static",renderHeader:!0,renderFooter:!0,onForceClose:!1}),this.$content=n.$content,this.title=n.title,this.subtitle=n.subtitle,this.fullscreen=n.fullscreen,this.dialogClass=n.dialogClass,this.size=n.size,this.buttons=n.buttons,this.technical=n.technical,this.$parentNode=n.$parentNode,this.backdrop=n.backdrop,this.renderHeader=n.renderHeader,this.renderFooter=n.renderFooter,this.onForceClose=n.onForceClose,t.bus.on("close_dialogs",this,this.destroy.bind(this))},willStart:function(){var e=this;return this._super.apply(this,arguments).then((function(){switch(e.$modal=$(s.render("web.DialogWidget",{fullscreen:e.fullscreen,title:e.title,subtitle:e.subtitle,technical:e.technical,renderHeader:e.renderHeader,renderFooter:e.renderFooter})),e.size){case"extra-large":e.$modal.find(".modal-dialog").addClass("modal-xl");break;case"large":e.$modal.find(".modal-dialog").addClass("modal-lg");break;case"small":e.$modal.find(".modal-dialog").addClass("modal-sm")}e.renderFooter&&(e.$footer=e.$modal.find(".modal-footer"),e.set_buttons(e.buttons)),e.$modal.on("hidden.bs.modal",_.bind(e.destroy,e))}))},renderElement:function(){this._super(),this.$content&&this.setElement(this.$content),this.$el.addClass("modal-body "+this.dialogClass)},set_buttons:function(e){this._setButtonsTo(this.$footer,e)},set_title:function(e,t){this.title=e||"",void 0!==t&&(this.subtitle=t||"");var n=this.$modal.find(".modal-title").first(),i=n.find(".o_subtitle").detach();return n.html(this.title),i.html(this.subtitle).appendTo(n),this},opened:function(e){return e?this._opened.then(e):this._opened},open:function(e){$(".tooltip").remove();var n=this;return this.appendTo($("<div/>")).then((function(){if(n.isDestroyed())return;n.$modal.find(".modal-body").replaceWith(n.$el),n.$modal.attr("open",!0),n.$parentNode&&n.$modal.appendTo(n.$parentNode);const i=n.$modal[0];new Modal(i,{backdrop:n.backdrop,keyboard:!1}).show(),n._openedResolver(),e&&e.shouldFocusButtons&&n._onFocusControlButton(),o.display(n),t.bus.trigger("legacy_dialog_opened",n)})),n},close:function(){this.destroy()},destroy:function(e){if(this.__closed||(this.__closed=!0,this.trigger("closed",e)),this.isDestroyed())return;this.el&&(o.hide(this),t.bus.trigger("legacy_dialog_destroyed",this)),this.onForceClose&&this.onForceClose();var n=this._focusOnClose();this._super(),$(".tooltip").remove(),this.$modal&&(this.on_detach_callback&&this.on_detach_callback(),this.$modal.modal("hide"),this.$modal.remove());const i=$('.modal[role="dialog"]').filter(":visible").filter(this._isBlocking);i.length&&(n||i.last().focus(),$("body").addClass("modal-open"))},rebindButtonBehavior:function(){this.$footer.on("keydown",this._onFooterButtonKeyDown)},_focusOnClose:function(){return!1},_setButtonsTo(e,t){var i=this;e.empty(),_.each(t,(function(o){var s=n.renderButton({attrs:{class:o.classes||(t.length>1?"btn-secondary":"btn-primary"),disabled:o.disabled,"data-hotkey":o.hotkey},icon:o.icon,text:o.text});s.on("click",(function(e){var t;o.click&&(t=o.click.call(i,e)),o.close&&(i.onForceClose=!1,Promise.resolve(t).then(i.close.bind(i)))})),i.technical?e.append(s):e.prepend(s)}))},_isBlocking:(e,t)=>!0,_onCloseDialog:function(e){e.stopPropagation(),this.close()},_onFocusControlButton:function(e){this.$footer&&(e&&e.stopPropagation(),this.$footer.find(".btn-primary:visible:first()").focus())},_onFooterButtonKeyDown:function(e){if(e.which===$.ui.keyCode.TAB)if(!e.shiftKey&&e.target.classList.contains("btn-primary")){e.preventDefault();var t=$(e.target);t.tooltip({delay:{show:200,hide:0},title:function(){return s.render("FormButton.tooltip",{title:t.text().toUpperCase()})},trigger:"manual"}),t.tooltip("show")}}});return a.alert=function(e,t,n){var i=[{text:r("Ok"),close:!0,click:n&&n.confirm_callback}];return new a(e,_.extend({size:"medium",buttons:i,$content:$("<main/>",{role:"alert",text:t}),title:r("Alert"),onForceClose:n&&(n.onForceClose||n.confirm_callback)},n)).open({shouldFocusButtons:!0})},a.confirm=function(e,t,n){let i=!1;function o(e){const t=n&&n[e];return function(){if(i)return Promise.reject();i=!0;const e=t&&t.apply(this,arguments);return Promise.resolve(e).guardedCatch((()=>{i=!1})),e}}var s=[{text:r("Ok"),classes:"btn-primary",close:!0,click:o("confirm_callback")},{text:r("Cancel"),close:!0,click:o("cancel_callback")}];return new a(e,_.extend({size:"medium",buttons:s,$content:$("<main/>",{role:"alert",text:t}),title:r("Confirmation"),onForceClose:n&&(n.onForceClose||n.cancel_callback)},n)).open({shouldFocusButtons:!0})},a.safeConfirm=function(e,t,i){var o,s=n.renderCheckbox({text:i&&i.securityMessage||r("I am sure about this.")}).addClass("mb0"),l=$("<div/>",{class:"alert alert-"+(i&&i.securityLevel||"warning")+" mt8 mb0"}).prepend(s);i&&i.$content?(o=i.$content,delete i.$content):o=$("<div>",{text:t}),o=$("<main/>",{role:"alert"}).append(o,l);var c=[{text:r("Ok"),classes:"btn-primary o_safe_confirm_button",close:!0,click:i&&i.confirm_callback,disabled:!0},{text:r("Cancel"),close:!0,click:i&&i.cancel_callback}],u=new a(e,_.extend({size:"medium",buttons:c,$content:o,title:r("Confirmation"),onForceClose:i&&(i.onForceClose||i.cancel_callback)},i));return u.opened((function(){var e=u.$footer.find(".o_safe_confirm_button");l.on("click",'input[type="checkbox"]',(function(t){e.prop("disabled",!$(t.currentTarget).prop("checked"))}))})),u.open()},a})),odoo.define("web.OwlDialog",(function(e){"use strict";const{useRef:t,onMounted:n,onWillUnmount:i}=owl,o={"extra-large":"modal-xl",large:"modal-lg",small:"modal-sm"},{renderToString:s}=e("@web/core/utils/render"),{LegacyComponent:r}=e("@web/legacy/legacy_component");class a extends r{setup(){this.modalRef=t("modal"),this.dialogRef=t("dialog"),this.footerRef=t("modal-footer"),this.props.dialogAPI&&(this.props.dialogAPI.close=this._close.bind(this)),n((()=>{if(this.constructor.display(this),this.env.bus.on("close_dialogs",this,this._close),this.props.renderFooter){let e=this.footerRef.el.querySelector(".btn.btn-primary");e||(e=this.footerRef.el.querySelector(".btn")),e||(e=this.footerRef.el.querySelector("button")),e&&(this.mainButton=e,this.mainButton.addEventListener("keydown",this._onMainButtonKeydown.bind(this)),this.mainButton.focus())}this._removeTooltips(),this.env.bus.trigger("owl_dialog_mounted",this)})),i((()=>{this.env.bus.trigger("owl_dialog_willunmount",this),this.env.bus.off("close_dialogs",this,this._close),this._removeTooltips(),this.constructor.hide(this)}))}get size(){return o[this.props.size]}_close(){this.props.onClosed&&this.props.onClosed(),this.trigger("dialog-closed")}_removeTooltips(){for(const e of document.querySelectorAll(".tooltip"))e.remove()}_onBackdropClick(e){this.props.backdrop&&e.target===e.currentTarget&&("static"===this.props.backdrop?this.mainButton&&this.mainButton.focus():this._close())}_onClick(e){this.props.stopClicks&&e.stopPropagation()}_onDialogClosed(){this.props.onClosed&&this.props.onClosed()}_onFocus(){this.mainButton&&this.mainButton.focus()}_onMainButtonKeydown(e){"Tab"!==e.key||e.shiftKey||(e.preventDefault(),$(this.mainButton).tooltip({delay:{show:200,hide:0},title:()=>s("web.DialogButton.tooltip",{title:this.mainButton.innerText.toUpperCase()}),trigger:"manual"}).tooltip("show"))}static display(e){const t=this.displayed[this.displayed.length-1];if(t){const e=t.modalRef?t.modalRef.el:t.$modal[0];e.classList.add("o_inactive_modal"),e.removeAttribute("tabindex")}this.displayed.push(e),document.body.classList.add("modal-open")}static hide(e){this.displayed.splice(this.displayed.indexOf(e),1);const t=this.displayed[this.displayed.length-1];let n;t?(t.el?(t.el.focus(),n=t.$modal[0]):t.modalRef?(t.modalRef.el.focus(),n=t.modalRef.el):(t.dialogRef.el.focus(),n=t.dialogRef.el),n.classList.remove("o_inactive_modal"),n.setAttribute("tabindex","-1")):document.body.classList.remove("modal-open")}}return a.displayed=[],a.defaultProps={backdrop:"static",renderFooter:!0,renderHeader:!0,size:"large",stopClicks:!0,technical:!0,title:"Odoo"},a.props={backdrop:{validate:e=>["static",!0,!1].includes(e),optional:!0},contentClass:{type:String,optional:1},fullscreen:{type:Boolean,optional:1},onClosed:{type:Function,optional:1},renderFooter:{type:Boolean,optional:!0},renderHeader:{type:Boolean,optional:!0},size:{validate:e=>["extra-large","large","medium","small"].includes(e),optional:!0},stopClicks:{type:Boolean,optional:!0},subtitle:{type:String,optional:1},technical:{type:Boolean,optional:!0},title:{type:String,optional:!0},dialogAPI:{type:Object,optional:1},slots:{type:Object,optional:1,shape:{default:{optional:1},buttons:{optional:1}}}},a.template="web.OwlDialog",a})),odoo.define("web.framework",(function(e){"use strict";var t=e("web.core"),n=e("web.ajax"),i=e("web.Widget");const{sprintf:o}=e("web.utils");var s=t._t,r=i.extend({template:"Throbber",start:function(){this.start_time=(new Date).getTime(),this.act_message()},act_message:function(){var e=this;setTimeout((function(){if(!e.isDestroyed()){var t,n=((new Date).getTime()-e.start_time)/1e3;_.each([[0,s("Loading...")],[20,s("Still loading...")],[60,s("Still loading...<br />Please be patient.")],[120,s("Don't leave yet,<br />it's still loading...")],[300,s("You may not believe it,<br />but the application is actually loading...")],[420,s("Take a minute to get a coffee,<br />because it's loading...")],[3600,s("Maybe you should consider reloading the application by pressing F5...")]],(function(e){n>=e[0]&&(t=e[1])})),e.$(".oe_throbber_message").html(t),e.act_message()}}),1e3)}});$.blockUI&&($.blockUI.defaults.baseZ=1100,$.blockUI.defaults.message='<div class="openerp oe_blockui_spin_container" style="background-color: transparent;">',$.blockUI.defaults.css.border="0",$.blockUI.defaults.css["background-color"]="");var a=[];function l(e,t){var i=function(){var t=(""+window.location).split("#")[0],n=e.split("#")[0];location.assign(e),t===n&&location.reload(!0)},o=function(){n.rpc("/web/webclient/version_info",{}).then(i).guardedCatch((function(){setTimeout(o,250)}))};t?setTimeout(o,1e3):i()}function c(e,n){var i=n.params||{},o=i.menu_id||!1,s=i.action_id||!1,r=window.location,a=$.deparam(r.search.substr(1));i.url_search&&(a=_.extend(a,i.url_search));var c="?"+$.param(a),u=r.hash;o?(u="#menu_id="+o,s&&(u+="&action="+s)):s&&(u="#action="+s);var d=r.protocol+"//"+r.host+r.pathname+c+u;t.bus.trigger("clear_cache"),l(d,i.wait)}return t.action_registry.add("reload",c),t.action_registry.add("home",(function(e,t){l("/"+(window.location.search||""),t&&t.params&&t.params.wait)})),t.action_registry.add("login",(function(){l("/web/login")})),t.action_registry.add("logout",(function(){l("/web/session/logout")})),t.action_registry.add("display_notification",(function(e,t){let{title:n="",message:i="",links:s=[],type:r="info",sticky:a=!1,next:l}=t.params||{};return s=s.map((({url:e,label:t})=>`<a href="${_.escape(e)}" target="_blank">${_.escape(t)}</a>`)),e.displayNotification({title:n,message:owl.markup(o(_.escape(i),...s)),type:r,sticky:a}),l})),t.action_registry.add("reload_context",(function(e,t){n.rpc("/web/session/get_session_info",{}).then((function(){c(0,t)}))})),document.contains||(document.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1}),{blockUI:function(){var e,t=$.blockUI.apply($,arguments),n=new r;return a.push(n),n.appendTo($(".oe_blockui_spin_container")),$(document.body).addClass("o_ui_blocked"),e=document.querySelectorAll("[accesskey]"),_.each(e,(function(e){e.setAttribute("data-accesskey",e.getAttribute("accesskey")),e.removeAttribute("accesskey")})),t},unblockUI:function(){var e;return _.invoke(a,"destroy"),a=[],$(document.body).removeClass("o_ui_blocked"),e=document.querySelectorAll("[data-accesskey]"),_.each(e,(function(e){e.setAttribute("accesskey",e.getAttribute("data-accesskey")),e.removeAttribute("data-accesskey")})),$.unblockUI.apply($,arguments)},redirect:l}})),odoo.define("web.field_utils",(function(e){"use strict";var t=e("web.core"),n=e("web.dom"),i=e("web.session"),o=e("web.time"),s=e("web.utils"),r=t._t;const a="";function l(e,t,n){return e="string"==typeof e?e:"",n&&n.isPassword?_.str.repeat("*",e?e.length:0):(n&&n.escape&&(e=_.escape(e)),e)}function c(e,n,i){if(!1===e)return"";if((i=i||{}).humanReadable&&i.humanReadable(e))return s.human_number(e,i.decimals,i.minDigits,i.formatterCallback);var o,r=t._t.database.parameters;o=i.digits?i.digits[1]:n&&n.digits?n.digits[1]:2;var a=_.str.sprintf("%."+o+"f",e||0).split(".");return a[0]=s.insert_thousand_seps(a[0]),a.join(r.decimal_point)}function u(e,t,n){return(n=n||{}).isPassword?_.str.repeat("*",String(e).length):e||0===e?n.humanReadable&&n.humanReadable(e)?s.human_number(e,n.decimals,n.minDigits,n.formatterCallback):s.insert_thousand_seps(_.str.sprintf("%d",e)):""}function d(e,t,n){if(e)if(_.isArray(e))e=e[1];else for(;e.data;)e=e.data.display_name||"";else e="";return n&&n.escape&&(e=_.escape(e)),e}function h(e){return 0===e.data.length?r("No records"):1===e.data.length?r("1 record"):e.data.length+r(" records")}function p(e){const t={d:"days",m:"months",w:"weeks",y:"years"},n=new RegExp(`^([+-])(\\d+)([${Object.keys(t).join("")}]?)$`).exec(e);if(n){let e=moment();const i=parseInt(n[2],10),o=t[n[3]||"d"];return"+"===n[1]?e.add(i,o):e.subtract(i,o),e}return!1}function f(e){if(t._t.database.parameters.thousands_sep){var n=_.str.escapeRegExp(t._t.database.parameters.thousands_sep);e=e.replace(new RegExp(n,"g"),"")}return t._t.database.parameters.decimal_point&&(e=e.replace(t._t.database.parameters.decimal_point,".")),Number(e)}function m(e){var n=f(e);if(isNaN(n))throw new Error(_.str.sprintf(t._t("'%s' is not a correct float"),e));return n}function g(e){var n=f(e);if(isNaN(n)||n%1||n<-2147483648||n>2147483647)throw new Error(_.str.sprintf(t._t("'%s' is not a correct integer"),e));return n}function v(e){return _.isArray(e)?{id:e[0],display_name:e[1]}:_.isNumber(e)||_.isString(e)?{id:parseInt(e,10)}:e}return{format:{binary:function(e,t,n){return e?s.binaryToBinsize(e):""},boolean:function(e,t,i){return i&&i.forceString?r(e?"True":"False"):n.renderCheckbox({prop:{checked:e,disabled:!0}})},char:l,date:function(e,t,n){if(!1===e||isNaN(e))return"";t&&"datetime"===t.type&&(n&&"timezone"in n&&!n.timezone||(e=e.clone().add(i.getTZOffset(e),"minutes")));var s=o.getLangDateFormat();return e.format(s)},datetime:function(e,t,n){return!1===e?"":(n&&"timezone"in n&&!n.timezone||(e=e.clone().add(i.getTZOffset(e),"minutes")),e.format(o.getLangDatetimeFormat()))},float:c,float_factor:function(e,t,n){return c(e*(n.factor||1),t,n)},float_time:function(e,t,n){var i=(n=n||{}).noLeadingZeroHour?"%1d:%02d":"%02d:%02d";e<0&&(e=Math.abs(e),i="-"+i);var o=Math.floor(e),s=Math.round(e%1*60);return 60===s&&(s=0,o+=1),_.str.sprintf(i,o,s)},html:_.identity,integer:u,many2many:h,many2one:d,many2one_reference:u,monetary:function(e,t,n){if(!1===e)return"";var o=(n=Object.assign({forceString:!1},n)).currency;if(!o){var r=n.currency_id;if(!r&&n.data){var l=n.currency_field||t.currency_field||"currency_id";r=n.data[l]&&n.data[l].res_id}o=i.get_currency(r)}var u=o&&o.digits||n.digits;!0===n.field_digits&&(u=t.digits||u);var d=c(e,t,_.extend({},n,{digits:u}));if(!o||n.noSymbol)return d;const h="after"===o.position?[d,o.symbol]:[o.symbol,d];return n.forceString?h.join(" "):s.Markup(h.map((e=>_.escape(e))).join(a))},one2many:h,percentage:function(e,t,n){let i=c(100*e,t,n=n||{})||"0";return n.humanReadable&&n.humanReadable(100*e)||(i=m(i).toString().replace(".",r.database.parameters.decimal_point)),i+(n.noSymbol?"":"%")},reference:d,selection:function(e,t,n){var i=_.find(t.selection,(function(t){return t[0]===e}));return i?(e=i[1],n&&n.escape&&(e=_.escape(e)),e):""},text:l,json:function(e,t,n){return e?JSON.stringify(e):""}},parse:{binary:_.identity,boolean:_.identity,char:_.identity,date:function(e,n,i){if(!e)return!1;var s,r=o.getLangDateFormat(),a=o.getLangDateFormatWoZero();const l=p(e);if(l?s=l:i&&i.isUTC?(e=e.padStart(10,"0"),s=moment.utc(e)):s=moment.utc(e,[r,a,moment.ISO_8601]),s.isValid()&&(0===s.year()&&s.year(moment.utc().year()),s.year()>=1e3))return s.toJSON=function(){return this.clone().locale("en").format("YYYY-MM-DD")},s;throw new Error(_.str.sprintf(t._t("'%s' is not a correct date"),e))},datetime:function(e,n,s){if(!e)return!1;var r,a=o.getLangDateFormat()+" "+o.getLangTimeFormat(),l=o.getLangDateFormatWoZero()+" "+o.getLangTimeFormatWoZero();const c=p(e);if(c?r=c:s&&s.isUTC?(e=e.padStart(19,"0"),r=moment.utc(e.replace(" ","T")+"Z")):(r=moment.utc(e,[a,l,moment.ISO_8601]),s&&s.timezone&&r.add(-i.getTZOffset(r),"minutes")),r.isValid()&&(0===r.year()&&r.year(moment.utc().year()),r.year()>=1e3))return r.toJSON=function(){return this.clone().locale("en").format("YYYY-MM-DD HH:mm:ss")},r;throw new Error(_.str.sprintf(t._t("'%s' is not a correct datetime"),e))},float:m,float_factor:function(e,t,n){return m(e)/(n.factor||1)},float_time:function(e){var t=1;"-"===e[0]&&(e=e.slice(1),t=-1);var n=e.split(":");return 2!==n.length?t*m(e):t*(g(n[0])+g(n[1])/60)},html:_.identity,integer:g,many2many:_.identity,many2one:v,many2one_reference:g,monetary:function(e,n,o){if(!e.includes(a)&&!e.includes("&nbsp;"))return m(e);var s=(o=o||{}).currency;if(!s){var r=o.currency_id;if(!r&&o.data){var l=o.currency_field||n.currency_field||"currency_id";r=o.data[l]&&o.data[l].res_id}s=i.get_currency(r)}if(!s)return m(e);if(!e.includes(s.symbol))throw new Error(_.str.sprintf(t._t("'%s' is not a correct monetary field"),e));return"before"===s.position?m(e.replace(`${s.symbol}${a}`,"").replace(`${s.symbol}&nbsp;`,"")):m(e.replace(`${a}${s.symbol}`,"").replace(`&nbsp;${s.symbol}`,""))},one2many:_.identity,percentage:function(e){return m(e)/100},reference:v,selection:_.identity,text:_.identity,json:_.identity}}})),odoo.define("@im_livechat/public/main",(async function(e){"use strict";const{publicLivechatService:t}=e("@im_livechat/services/public_livechat_service"),{isAvailable:n,options:i,serverUrl:o}=e("im_livechat.loaderData"),{messagingService:s}=e("@mail/services/messaging_service"),{makeMessagingToLegacyEnv:r}=e("@mail/utils/make_messaging_to_legacy_env"),{registry:a}=e("@web/core/registry"),l={start:()=>({publicLivechatGlobal:{isAvailable:n,options:i,serverUrl:o}})},c=a.category("services");return c.add("messaging",s),c.add("messagingValues",l),c.add("public_livechat_service",t),a.category("wowlToLegacyServiceMappers").add("make_messaging_to_legacy_env",r),{}})),odoo.define("web.session",(function(e){const t=e("web.Session"),{serverUrl:n}=e("im_livechat.loaderData");return new t(void 0,n,{use_cors:!0})})),odoo.define("@im_livechat/services/public_livechat_service",(async function(e){"use strict";let t={};const n=e("@im_livechat/legacy/widgets/livechat_button")[Symbol.for("default")],i=e("root.widget");t.publicLivechatService={dependencies:["messaging"],async start(e,{messaging:t}){const o=await t.get();return{mountLivechatButton(){const e=new n(i,o);return e.appendTo(document.body).catch((e=>{console.info("Can't load 'LivechatButton' because:",e)})),e}}}};return t})),odoo.define("im_livechat.external_lib.bundle.xml",(function(e){"use strict";const{loadXML:t}=e("@web/core/assets");return t('<?xml version="1.0" encoding="UTF-8"?>\n<templates xml:space="preserve">\n<t t-name="im_livechat.legacy.im_livechat.FeedBack">\n        <div class="o_livechat_rating text-center">\n            <div class="o_livechat_rating_box">\n                <div class="o_livechat_rating_feedback_text">\n                    Did we correctly answer your question ?\n                </div>\n                <div class="o_livechat_rating_choices">\n                    <img t-att-src="widget.server_origin + \'/rating/static/src/img/rating_5.png\'" alt="Good" data-value="5"/>\n                    <img t-att-src="widget.server_origin + \'/rating/static/src/img/rating_3.png\'" alt="OK" data-value="3"/>\n                    <img t-att-src="widget.server_origin + \'/rating/static/src/img/rating_1.png\'" alt="Bad" data-value="1"/>\n                </div>\n            </div>\n            <div class="o_livechat_rating_reason">\n                <textarea id="reason" placeholder="Explain your note"/>\n                <div class="o_livechat_rating_reason_button">\n                    <button type="button" class="btn btn-primary btn-sm o_rating_submit_button">Send</button>\n                </div>\n            </div>\n            <div class="o_livechat_email text-start">\n                <strong class="o_livechat_email_sentLabel" style="display: none;">Conversation Sent</strong>\n                <span class="o_livechat_email_receiveCopyLabel text-muted">Receive a copy of this conversation</span>\n                <div class="o_livechat_email_receiveCopyForm input-group">\n                    <input id="o_email" type="text" class="form-control" placeholder="mail@example.com"/>\n                    <button type="button" class="o_email_chat_button btn btn-primary rounded-0">\n                        <i class="fa fa-paper-plane"/>\n                    </button>\n                </div>\n            </div>\n            <div class="alert alert-danger px-0 o_livechat_email_error" style="display: none;" role="alert">\n                Oops! Something went wrong.<br/>Please check your internet connection.<br/>\n                <a href="#" class="alert-link">Try again</a>\n            </div>\n            <div class="o_livechat_no_feedback text-muted">\n                <span>Close conversation</span>\n            </div>\n        </div>\n    </t>\n<t t-name="im_livechat.legacy.mail.widget.Thread">\n        <t t-if="widget.messaging.publicLivechatGlobal.publicLivechat.widget.hasMessages()">\n            <t t-call="im_livechat.legacy.mail.widget.Thread.Content"/>\n        </t>\n    </t>\n\n\n    <div t-name="im_livechat.legacy.mail.widget.ThreadLoading" class="o_mail_thread_loading">\n        <i class="o_mail_thread_loading_icon fa fa-circle-o-notch fa-spin"/>\n        <span>Please wait...</span>\n    </div>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.Content">\n        <t t-set="messages" t-value="widget.messaging.publicLivechatGlobal.publicLivechat.widget.getMessages({ \'domain\': options.domain || [] })"/>\n        <t t-if="options.displayOrder === ORDER.ASC" t-call="im_livechat.legacy.mail.widget.Thread.Content.ASC"/>\n        <t t-else="" t-call="im_livechat.legacy.mail.widget.Thread.Content.DESC"/>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.Content.ASC">\n        <div class="o_mail_thread_content">\n            <t t-if="options.displayLoadMore" t-call="im_livechat.legacy.mail.widget.Thread.LoadMore"/>\n            <t t-call="im_livechat.legacy.mail.widget.Thread.Messages"/>\n            <t t-if="options.displayBottomThreadFreeSpace">\n                <div class="o_thread_bottom_free_space"/>\n            </t>\n        </div>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.Content.DESC">\n        <div class="o_mail_thread_content">\n            <t t-if="options.messagesSeparatorPosition == \'top\'" t-call="im_livechat.legacy.mail.MessagesSeparator"/>\n            <t t-set="messages" t-value="messages.slice().reverse()"/>\n            <t t-call="im_livechat.legacy.mail.widget.Thread.Messages"/>\n            <t t-if="options.displayLoadMore" t-call="im_livechat.legacy.mail.widget.Thread.LoadMore"/>\n        </div>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.Messages">\n        <t t-set="current_day" t-value="0"/>\n        <t t-foreach="messages" t-as="message">\n            <div t-if="current_day !== message.getDateDay()" class="o_thread_date_separator">\n                <span class="o_thread_date">\n                    <t t-esc="message.getDateDay()"/>\n                </span>\n                <t t-set="current_day" t-value="message.getDateDay()"/>\n            </div>\n\n            <t t-call="im_livechat.legacy.mail.widget.Thread.Message"/>\n        </t>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.Message">\n        <div t-if="!message.isEmpty()" t-att-class="\'o_thread_message o_PublicLivechatMessage \' + (message.getID() === options.selectedMessageID ? \'o_thread_selected_message \' : \' \') + (message.isDiscussion() or message.isNotification() ? \' o_mail_discussion \' : \' o_mail_not_discussion \') + (message.isVisitorTheAuthor() ? \'o-isVisitorTheAuthor\' : \'\')" t-att-data-message-id="message.getID()">\n            <div t-if="options.displayAvatars" class="o_thread_message_sidebar">\n                <t t-if="message.hasAuthor()">\n                    <div t-if="displayAuthorMessages[message.getID()]" class="o_thread_message_sidebar_image">\n                        <img alt="" t-att-src="message.getAvatarSource()" data-oe-model="res.partner" t-att-data-oe-id="message.shouldRedirectToAuthor() ? message.getAuthorID() : \'\'" t-attf-class="o_thread_message_avatar rounded-circle #{message.shouldRedirectToAuthor() ? \'o_mail_redirect\' : \'\'}"/>\n                        <t t-call="im_livechat.legacy.mail.UserStatus">\n                            <t t-set="partnerID" t-value="message.getAuthorID()"/>\n                        </t>\n                    </div>\n                </t>\n                <t t-else="">\n                    <img t-if="displayAuthorMessages[message.getID()]" alt="" t-att-src="message.getAvatarSource()" class="o_thread_message_avatar rounded-circle"/>\n                </t>\n                <span t-if="!displayAuthorMessages[message.getID()]" t-att-title="message.getDate().format(dateFormat)" class="o_thread_message_side_date">\n                    <t t-esc="message.getDate().format(\'hh:mm\')"/>\n                </span>\n            </div>\n            <div class="o_thread_message_core">\n                <p t-if="displayAuthorMessages[message.getID()]" t-attf-class="o_mail_info text-muted o_PublicLivechatMessage_header {{ message.isVisitorTheAuthor() ? \'o-isVisitorTheAuthor\' : \'\' }}">\n                    <t t-if="message.isNote()">\n                        Note by\n                    </t>\n                    <t t-if="!message.isVisitorTheAuthor()">\n                        <strong t-if="message.hasAuthor()" data-oe-model="res.partner" t-att-data-oe-id="message.shouldRedirectToAuthor() ? message.getAuthorID() : \'\'" t-attf-class="o_thread_author o_PublicLivechatMessage_headerAuthor #{message.shouldRedirectToAuthor() ? \'o_mail_redirect\' : \'\'}">\n                            <t t-esc="message.getDisplayedAuthor()"/>\n                        </strong>\n                        <strong t-else="" class="o_thread_author o_PublicLivechatMessage_headerAuthor">\n                            <t t-esc="message.getDisplayedAuthor()"/>\n                        </strong>\n                    </t>\n\n                    <span t-if="!message.isVisitorTheAuthor()" class="o_PublicLivechatMessage_headerDatePrefix">-</span> <small class="o_mail_timestamp o_PublicLivechatMessage_headerDate" t-att-title="message.getDate().format(dateFormat)"><t t-esc="message.getTimeElapsed()"/></small>\n                    <span t-attf-class="o_thread_icons">\n                    </span>\n                </p>\n                <div t-att-data-message-id="message.getID()" t-attf-class="o_PublicLivechatMessage_bubbleWrap {{ message.isVisitorTheAuthor() ? \'o-isVisitorTheAuthor\' : \'\' }} {{ message.isOperatorTheAuthor() ? \'o-isOperatorTheAuthor\' : \'\' }}">\n                    <div t-attf-class="o_PublicLivechatMessage_bubble {{ message.isVisitorTheAuthor() ? \'o-isVisitorTheAuthor\' : \'\' }} {{ message.isOperatorTheAuthor() ? \'o-isOperatorTheAuthor\' : \'\' }} {{ !message.isEmpty() ? \'o-isContentNonEmpty\' : \'\' }}">\n                        <div t-attf-class="o_PublicLivechatMessage_background {{ message.isVisitorTheAuthor() ? \'o-isVisitorTheAuthor\' : \'\' }} {{ message.isOperatorTheAuthor() ? \'o-isOperatorTheAuthor\' : \'\' }}"/>\n                        <div class="o_thread_message_content o_PublicLivechatMessage_content">\n                            <t t-out="message.getBody()"/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <t t-if="options.messagesSeparatorPosition == message.getID()">\n            <t t-call="im_livechat.legacy.mail.MessagesSeparator"/>\n        </t>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.widget.Thread.LoadMore">\n        <div class="o_thread_show_more">\n            <t t-if="options.loadMoreOnScroll">\n                <span><i class="fa fa-circle-o-notch fa-spin" role="img" aria-label="Please wait" title="Please wait"/> Loading older messages... </span>\n            </t>\n            <t t-else="">\n                <button class="btn btn-link">-------- Show older messages --------</button>\n            </t>\n        </div>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.UserStatus">\n        <span t-att-class="partnerID ? \'o_updatable_im_status\' : \'\'" t-att-data-partner-id="partnerID"/>\n    </t>\n\n    <t t-name="im_livechat.legacy.mail.MessagesSeparator">\n        <div class="o_thread_new_messages_separator">\n            <span class="o_thread_separator_label">New messages</span>\n        </div>\n    </t>\n<t t-name="im_livechat.legacy.PublicLivechatWindow">\n        <div class="o_thread_window o_in_home_menu" t-att-data-thread-id="widget.messaging.publicLivechatGlobal.publicLivechat.id" t-att-data-thread-model="widget.messaging.publicLivechatGlobal.publicLivechat.model">\n            <div class="o_thread_window_header">\n                <t t-call="im_livechat.legacy.PublicLivechatWindow.HeaderContent">\n                    <t t-set="status" t-value="widget.messaging.publicLivechatGlobal.publicLivechat.status"/>\n                    <t t-set="title" t-value="widget.messaging.publicLivechatGlobal.publicLivechat.name"/>\n                    <t t-set="unreadCounter" t-value="widget.messaging.publicLivechatGlobal.publicLivechat.unreadCounter"/>\n                    <t t-set="thread" t-value="widget.messaging.publicLivechatGlobal.publicLivechat.widget"/>\n                </t>\n            </div>\n            <t t-if="widget.messaging.publicLivechatGlobal.publicLivechat.operator">\n                <div class="o_thread_window_content">\n                </div>\n                <div class="o_thread_composer o_chat_mini_composer">\n                    <input class="o_composer_text_field o_PublicLivechatWindow_composer" t-att-placeholder="widget.messaging.publicLivechatGlobal.chatWindow.inputPlaceholder"/>\n                </div>\n            </t>\n            <div t-else="" class="d-flex justify-content-center align-items-center flex-grow-1">\n                <p class="text-500">No operator available</p>\n            </div>\n        </div>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.PublicLivechatWindow.HeaderContent">\n        <span class="o_thread_window_title">\n            <t t-esc="widget.messaging.publicLivechatGlobal.publicLivechat.name"/>\n            <span t-if="widget.messaging.publicLivechatGlobal.publicLivechat.unreadCounter"> (<t t-esc="widget.messaging.publicLivechatGlobal.publicLivechat.unreadCounter"/>)</span>\n            <t t-if="widget.messaging.publicLivechatGlobal.publicLivechat.widget.isSomeoneTyping()" t-call="im_livechat.legacy.mail.ThreadTypingIcon"/>\n        </span>\n        <span class="o_thread_window_buttons">\n            <a href="#" class="o_thread_window_close fa fa-close"/>\n        </span>\n    </t>\n\n\n    <t t-name="im_livechat.legacy.mail.ThreadTypingIcon">\n        <span class="o_mail_thread_typing_icon" t-att-title="widget.messaging.publicLivechatGlobal.publicLivechat.widget.getTypingMembersToText()">\n            <span class="o_mail_thread_typing_icon_dot"/>\n            <span class="o_mail_thread_typing_icon_dot"/>\n            <span class="o_mail_thread_typing_icon_dot"/>\n        </span>\n    </t>\n\n<t t-name="web.ActionSwiper" owl="1">\n        <t t-if="props.onRightSwipe || props.onLeftSwipe">\n            <div class="o_actionswiper" t-on-touchend="_onTouchEndSwipe" t-on-touchmove="_onTouchMoveSwipe" t-on-touchstart="_onTouchStartSwipe" t-ref="root">\n                <div class="o_actionswiper_overflow_container position-relative overflow-hidden">\n                    <div class="o_actionswiper_target_container" t-ref="targetContainer" t-att-style="state.containerStyle" t-att-class="{ o_actionswiper_swiping: state.isSwiping }">\n                        <t t-slot="default"/>\n                        <t t-if="localizedProps.onRightSwipe and (localizedProps.onRightSwipe.icon or localizedProps.onRightSwipe.bgColor)">\n                            <div t-att-style="\'max-width: \' + swipedDistance + \'px;\'" class="o_actionswiper_right_swipe_area position-absolute overflow-hidden w-100 h-100 d-flex align-items-center justify-content-center rounded-end" t-att-class="localizedProps.onRightSwipe.bgColor">\n                                <span><i class="fa fa-2x" t-att-class="localizedProps.onRightSwipe.icon"/></span>\n                            </div>\n                        </t>\n                        <t t-if="localizedProps.onLeftSwipe and (localizedProps.onLeftSwipe.icon or localizedProps.onLeftSwipe.bgColor)">\n                            <div t-att-style="\'max-width: \' + -swipedDistance + \'px;\'" class="o_actionswiper_left_swipe_area position-absolute overflow-hidden w-100 h-100 d-flex align-items-center justify-content-center rounded-start" t-att-class="localizedProps.onLeftSwipe.bgColor">\n                                <span><i class="fa fa-2x" t-att-class="localizedProps.onLeftSwipe.icon"/></span>\n                            </div>\n                        </t>\n                    </div>\n                </div>\n            </div>\n        </t>\n        <t t-else="">\n            <t t-slot="default"/>\n        </t>\n    </t>\n<t t-name="web.AutoComplete" owl="1">\n        <div class="o-autocomplete dropdown" t-ref="root">\n            <input type="text" t-att-id="props.id" class="o-autocomplete--input o_input" autocomplete="off" t-att-placeholder="props.placeholder" t-model="state.value" t-on-blur="onInputBlur" t-on-click.stop="onInputClick" t-on-change="onInputChange" t-on-input="onInput" t-on-keydown="onInputKeydown" t-ref="input"/>\n            <t t-if="isOpened and hasOptions">\n                <ul class="o-autocomplete--dropdown-menu dropdown-menu ui-widget ui-autocomplete show" t-on-mousedown.prevent="" t-ref="sourcesList">\n                    <t t-foreach="sources" t-as="source" t-key="source.id">\n                        <t t-if="source.isLoading">\n                            <li class="o-autocomplete--dropdown-item ui-menu-item">\n                                <a href="#" class="dropdown-item ui-menu-item-wrapper">\n                                    <i class="fa fa-spin fa-circle-o-notch"/> <t t-esc="source.placeholder"/>\n                                </a>\n                            </li>\n                        </t>\n                        <t t-else="">\n                            <t t-foreach="source.options" t-as="option" t-key="option.id">\n                                <li class="o-autocomplete--dropdown-item ui-menu-item" t-att-class="option.classList" t-on-mouseenter="() =&gt; this.onOptionMouseEnter([source_index, option_index])" t-on-mouseleave="() =&gt; this.onOptionMouseLeave([source_index, option_index])" t-on-click="() =&gt; this.onOptionClick([source_index, option_index])">\n                                    <a href="#" class="dropdown-item ui-menu-item-wrapper text-truncate" t-att-class="{ \'ui-state-active\': isActiveSourceOption([source_index, option_index]) }">\n                                        <t t-if="source.optionTemplate">\n                                            <t t-call="{{ source.optionTemplate }}"/>\n                                        </t>\n                                        <t t-else="">\n                                            <t t-esc="option.label"/>\n                                        </t>\n                                    </a>\n                                </li>\n                            </t>\n                        </t>\n                    </t>\n                </ul>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.CheckBox" owl="1">\n    <div class="o-checkbox form-check" t-attf-class="{{ props.slots ? \'form-check\' : \'\' }}" t-att-class="props.className" t-on-click="onClick" t-ref="root">\n        <input t-att-id="props.id or id" type="checkbox" class="form-check-input" t-att-disabled="props.disabled" t-att-checked="props.value" t-att-name="props.name" t-on-change="onChange"/>\n        <label t-att-for="props.id or id" class="form-check-label">\n            <t t-slot="default"/>\n        </label>\n    </div>\n</t>\n\n<t t-name="web.ColorList" owl="1">\n        <div class="o_colorlist d-flex flex-wrap align-items-center mw-100 gap-2" aria-atomic="true" t-ref="colorlist">\n            <t t-if="!props.forceExpanded and !state.isExpanded">\n                <button t-on-click="onToggle" role="menuitem" t-att-title="colors[props.selectedColor]" t-att-data-color="props.selectedColor" t-att-aria-label="colors[props.selectedColor]" t-attf-class="btn p-0 o_colorlist_toggler o_colorlist_item_color_{{ props.selectedColor }}"/>\n            </t>\n            <t t-else="" t-foreach="props.colors" t-as="colorId" t-key="colorId">\n                <button t-on-click.prevent.stop="() =&gt; this.onColorSelected(colorId)" role="menuitem" t-att-title="colors[colorId]" t-att-data-color="colorId" t-att-aria-label="colors[colorId]" t-attf-class="btn p-0 o_colorlist_item_color_{{ colorId }} {{ colorId === props.selectedColor ? \'o_colorlist_selected\' : \'\' }}"/>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.DefaultCommandItem" owl="1">\n    <div class="o_command_default d-flex align-items-center justify-content-between px-4 py-2 cursor-pointer">\n      <t t-slot="name"/>\n      <t t-slot="focusMessage"/>\n    </div>\n  </t>\n\n  <t t-name="web.HotkeyCommandItem" owl="1">\n    <div class="o_command_hotkey d-flex align-items-center justify-content-between px-4 py-2 cursor-pointer">\n      <t t-slot="name"/>\n      <span>\n        <t t-foreach="getKeysToPress(props)" t-as="key" t-key="key_index">\n          <kbd t-out="key" class="d-inline-block px-3 py-1"/>\n          <span t-if="!key_last"> + </span>\n        </t>\n      </span>\n    </div>\n  </t>\n\n<t t-name="web.CommandPalette" owl="1">\n    <Dialog header="false" footer="false" size="\'md\'" contentClass="\'o_command_palette mt-5\'">\n      <div t-ref="root">\n        <div class="o_command_palette_search input-group mb-2 px-4 py-3 border-bottom">\n          <span t-if="state.namespace !== \'default\'" class="o_namespace d-flex align-items-center me-1" t-out="state.namespace"/>\n          <input class="form-control border-0 p-0" type="text" data-allow-hotkeys="true" t-att-value="state.searchValue" t-ref="autofocus" t-att-placeholder="state.placeholder" t-on-input="onSearchInput" t-on-keydown="onKeyDown" role="combobox" t-attf-aria-activedescendant="o_command_{{state.commands.length ? state.commands.indexOf(state.selectedCommand) : \'empty\'}}" aria-expanded="true" aria-autocomplete="list" aria-haspopup="listbox"/>\n          <div class="input-group-text border-0 bg-transparent">\n              <i t-att-title="state.placeholder" role="img" t-att-aria-label="state.placeholder" class="oi oi-search"/>\n          </div>\n        </div>\n\n        <div t-ref="listbox" role="listbox" class="o_command_palette_listbox position-relative overflow-auto">\n          <div t-if="!state.commands.length" id="o_command_empty" role="option" aria-selected="true" class="o_command_palette_listbox_empty px-4 py-3 fst-italic" t-out="state.emptyMessage"/>\n          <t t-if="!isFuzzySearch" t-foreach="commandsByCategory" t-as="category" t-key="category.keyId">\n            <div class="o_command_category px-0">\n              <t t-foreach="category.commands" t-as="command" t-key="command.keyId">\n                <t t-set="commandIndex" t-value="state.commands.indexOf(command)"/>\n                <div t-attf-id="o_command_{{commandIndex}}" class="o_command" role="option" t-att-aria-selected="state.selectedCommand === command ? \'true\' : \'false\'" t-att-class="{ focused: state.selectedCommand === command }" t-on-click="(event) =&gt; this.onCommandClicked(event, commandIndex)" t-on-mouseenter="() =&gt; this.onCommandMouseEnter(commandIndex)" t-on-close="() =&gt; this.props.closeMe()">\n                  <a t-att-href="command.href">\n                    <t t-component="command.Component || DefaultCommandItem" name="command.name" searchValue="state.searchValue" t-props="command.props" executeCommand="() =&gt; this.executeCommand(command)">\n                      <t t-set-slot="name">\n                        <span class="o_command_name text-ellipsis" t-att-title="command.name">\n                          <t t-foreach="command.splitName" t-as="name" t-key="name_index">\n                            <b t-if="name_index % 2" t-out="name" class="text-primary"/>\n                            <t t-else="" t-out="name"/>\n                          </t>\n                        </span>\n                      </t>\n                      <t t-set-slot="focusMessage">\n                          <small t-if="!isMobileOS and command.href and state.selectedCommand === command" class="o_command_focus text-muted"><kbd><t t-if="isMacOS">CMD</t><t t-else="">CTRL</t></kbd>+<kbd></kbd><span class="ms-1">new tab</span></small>\n                      </t>\n                    </t>\n                  </a>\n                </div>\n              </t>\n            </div>\n\n            <hr class="my-2 mx-0" t-if="!category_last"/>\n          </t>\n        </div>\n\n        <div t-if="state.FooterComponent" class="o_command_palette_footer mt-2 px-4 py-2 border-top bg-100 text-muted">\n          <t t-component="state.FooterComponent" switchNamespace="(namespace) =&gt; this.debounceSearch(namespace.concat(this.state.searchValue))"/>\n        </div>\n      </div>\n    </Dialog>\n  </t>\n\n<t t-name="web.ConfirmationDialog" owl="1">\n    <Dialog size="\'md\'" title="props.title" modalRef="modalRef">\n      <p t-out="props.body" style="white-space: pre-wrap;"/>\n      <t t-set-slot="footer" owl="1">\n        <button class="btn btn-primary" t-on-click="_confirm" t-esc="props.confirmLabel"/>\n        <button t-if="props.cancel" class="btn btn-secondary" t-on-click="_cancel" t-esc="props.cancelLabel"/>\n      </t>\n    </Dialog>\n  </t>\n\n  <t t-name="web.AlertDialog" owl="1">\n    <Dialog size="\'sm\'" title="props.title" contentClass="props.contentClass">\n      <p t-out="props.body" style="white-space: pre-wrap;"/>\n      <t t-set-slot="footer" owl="1">\n        <button class="btn btn-primary" t-on-click="_confirm" t-esc="props.confirmLabel"/>\n        <button t-if="props.cancel" class="btn btn-secondary" t-on-click="_cancel" t-esc="props.cancelLabel"/>\n      </t>\n    </Dialog>\n  </t>\n\n<t t-name="web.DatePicker" owl="1">\n        <div class="o_datepicker" aria-atomic="true" t-att-data-target-input="\'#\' + datePickerId" t-ref="root">\n            <input type="text" t-ref="input" t-att-id="props.inputId" class="o_datepicker_input o_input datetimepicker-input" t-att-name="props.name" t-att-placeholder="props.placeholder" t-att-readonly="props.readonly" autocomplete="off" t-on-change="onInputChange" t-on-input="onInputInput" t-on-keydown="onInputKeydown"/>\n            <input type="hidden" t-ref="hiddenInput" t-att-id="datePickerId"/>\n            <span t-if="props.warn_future and state.warning" class="fa fa-exclamation-triangle text-danger o_tz_warning o_datepicker_warning" data-tooltip="This date is on the future. Make sure it is what you expected."/>\n            <span class="o_datepicker_button"/>\n        </div>\n    </t>\n\n<t t-name="web.Dialog" owl="1">\n        <div class="o_dialog" t-att-id="id" t-att-class="{ o_inactive_modal: !data.isActive }">\n            <div role="dialog" class="modal d-block" tabindex="-1" t-att-class="{ o_technical_modal: props.technical, o_modal_full: isFullscreen }" t-ref="modalRef">\n                <div class="modal-dialog" t-attf-class="modal-{{props.size}}">\n                    <div class="modal-content" t-att-class="props.contentClass">\n                        <header t-if="props.header" class="modal-header">\n                            <t t-slot="header" close="data.close" isFullscreen="isFullscreen">\n                                <t t-call="web.Dialog.header">\n                                    <t t-set="close" t-value="data.close"/>\n                                    <t t-set="fullscreen" t-value="isFullscreen"/>\n                                </t>\n                            </t>\n                        </header>\n\n                        <footer t-if="props.footer" class="modal-footer justify-content-around justify-content-sm-start flex-wrap gap-1" style="order:2">\n                            <t t-slot="footer" close="data.close">\n                                <button class="btn btn-primary o-default-button" t-on-click="data.close">\n                                    <t>Ok</t>\n                                </button>\n                            </t>\n                        </footer>\n                        <main class="modal-body" t-attf-class="{{ props.bodyClass }} {{ !props.withBodyPadding ? \'p-0\': \'\' }}">\n                            <t t-slot="default" close="data.close"/>\n                        </main>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </t>\n\n    <t t-name="web.Dialog.header" owl="1">\n        <t t-if="fullscreen">\n            <button class="btn fa fa-arrow-left" data-bs-dismiss="modal" aria-label="Close" t-on-click="close"/>\n        </t>\n        <h4 class="modal-title text-break" t-att-class="{ \'me-auto\': fullscreen }">\n            <t t-esc="props.title"/>\n        </h4>\n        <t t-if="!fullscreen">\n            <button type="button" class="btn-close" aria-label="Close" tabindex="-1" t-on-click="close"/>\n        </t>\n    </t>\n<t t-name="web._DomainSelector" owl="1">\n        <t t-set="tree" t-value="buildTree()"/>\n        <t t-if="tree">\n            <DomainSelectorRootNode value="props.value" node="tree" readonly="props.readonly" resModel="props.resModel" isDebugMode="props.isDebugMode" debugValue="props.debugValue" className="props.className"/>\n        </t>\n        <t t-else="">\n            <div t-att-class="props.className">\n                This domain is not supported.\n                <t t-if="!props.readonly">\n                    <button class="btn btn-sm btn-primary ms-2" t-on-click="() =&gt; this.resetDomain()">Reset domain</button>\n                </t>\n            </div>\n        </t>\n    </t>\n\n<t t-name="web.DomainSelectorBranchNode" owl="1">\n        <div class="o_domain_node o_domain_tree" t-ref="root">\n            <div class="o_domain_tree_header o_domain_selector_row">\n                <t t-if="!props.readonly">\n                    <DomainSelectorControlPanel node="props.node" onHoverDeleteNodeBtn.bind="onHoverDeleteNodeBtn" onHoverInsertLeafNodeBtn.bind="onHoverInsertLeafNodeBtn" onHoverInsertBranchNodeBtn.bind="onHoverInsertBranchNodeBtn"/>\n                </t>\n                <DomainSelectorBranchOperator node="props.node" readonly="props.readonly"/>\n                <span class="ml4">of:</span>\n            </div>\n            <div class="o_domain_node_children_container">\n                <t t-foreach="props.node.operands" t-as="subNode" t-key="subNode.id">\n                    <t t-if="subNode.type === \'branch\'">\n                        <DomainSelectorBranchNode t-props="{ ...props, node: subNode }"/>\n                    </t>\n                    <t t-elif="subNode.type === \'leaf\'">\n                        <DomainSelectorLeafNode t-props="{ ...props, node: subNode }"/>\n                    </t>\n                </t>\n            </div>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorBranchOperator" owl="1">\n        <t t-if="!props.readonly">\n            <div class="d-inline-flex o_domain_tree_operator_selector" aria-atomic="true">\n                <Dropdown togglerClass="\'btn btn-link btn-sm btn-primary py-0 px-1 o_domain_tree_operator_caret\'" showCaret="props.showCaret">\n                    <t t-set-slot="toggler">\n                            <t t-if="props.node.operator === \'&amp;\'">all</t>\n                            <t t-elif="props.node.operator === \'|\'">any</t>\n                            <t t-elif="props.node.operator === \'!\'">none</t>\n                    </t>\n                    <DropdownItem onSelected="() =&gt; this.onOperatorSelected(\'&amp;\')">all</DropdownItem>\n                    <DropdownItem onSelected="() =&gt; this.onOperatorSelected(\'|\')">any</DropdownItem>\n                </Dropdown>\n            </div>\n        </t>\n        <t t-else="">\n            <strong>\n                <t t-if="props.node.operator === \'&amp;\'">all</t>\n                <t t-elif="props.node.operator === \'|\'">any</t>\n                <t t-elif="props.node.operator === \'!\'">none</t>\n            </strong>\n        </t>\n    </t>\n\n<t t-name="web.DomainSelectorControlPanel" owl="1">\n        <div class="o_domain_node_control_panel" role="toolbar" aria-label="Domain node">\n            <button class="btn btn-link text-danger o_domain_delete_node_button" title="Delete node" aria-label="Delete node" t-on-click="deleteNode" t-on-mouseenter="onEnterDeleteNodeBtn" t-on-mouseleave="onLeaveDeleteNodeBtn">\n                <i class="fa fa-times"/>\n            </button>\n            <button class="btn o_domain_add_node_button" title="Add node" aria-label="Add node" t-on-click="() =&gt; this.insertNode(\'leaf\')" t-on-mouseenter="onEnterInsertLeafNodeBtn" t-on-mouseleave="onLeaveInsertLeafNodeBtn">\n                <i class="fa fa-plus-circle"/>\n            </button>\n            <button class="btn o_domain_add_node_button" title="Add branch" aria-label="Add branch" data-branch="1" t-on-click="() =&gt; this.insertNode(\'branch\')" t-on-mouseenter="onEnterInsertBranchNodeBtn" t-on-mouseleave="onLeaveInsertBranchNodeBtn">\n                <i class="fa fa-ellipsis-h"/>\n            </button>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorLeafNode" owl="1">\n        <div class="o_domain_node o_domain_leaf o_domain_selector_row" t-ref="root">\n            <t t-if="props.readonly">\n                <div class="o_domain_leaf_info">\n                    <ModelFieldSelector fieldName="props.node.operands[0].toString()" resModel="props.resModel" readonly="props.readonly" isDebugMode="props.isDebugMode"/>\n                    <t t-if="typeof props.node.operands[1] === \'string\'">\n                        <span class="o_domain_leaf_operator"> <t t-esc="displayedOperator"/></span>\n                        <span class="o_domain_leaf_value text-primary"> "<t t-esc="props.node.operands[1]"/>"</span>\n                    </t>\n                    <t t-elif="typeof props.node.operands[1] === \'number\'">\n                        <span class="o_domain_leaf_operator"> <t t-esc="displayedOperator"/></span>\n                        <span class="o_domain_leaf_value text-primary"> <t t-esc="props.node.operands[1]"/></span>\n                    </t>\n                    <t t-elif="typeof props.node.operands[1] === \'boolean\'">\n                        is\n                        <t t-if="(props.node.operator === \'=\' and props.node.operands[1] === false) or (props.node.operator === \'!=\' and props.node.operands[1] === true)">\n                            not\n                        </t>\n                        set\n                    </t>\n                    <t t-elif="Array.isArray(props.node.operands[1])">\n                        <span class="o_domain_leaf_operator"> <t t-esc="displayedOperator"/></span>\n                        <t t-foreach="props.node.operands[1]" t-as="value" t-key="value_index">\n                            <span class="o_domain_leaf_value text-primary"> "<t t-esc="value"/>"</span>\n                            <t t-if="!value_last"> or </t>\n                        </t>\n                    </t>\n                </div>\n            </t>\n            <t t-else="">\n                <DomainSelectorControlPanel node="props.node" onHoverDeleteNodeBtn.bind="onHoverDeleteNodeBtn" onHoverInsertLeafNodeBtn.bind="onHoverInsertLeafNodeBtn" onHoverInsertBranchNodeBtn.bind="onHoverInsertBranchNodeBtn"/>\n                <div class="o_domain_leaf_edition">\n                    <ModelFieldSelector fieldName="props.node.operands[0].toString()" resModel="props.resModel" readonly="props.readonly" update="(name) =&gt; this.onFieldChange(name)" isDebugMode="props.isDebugMode"/>\n                    <t t-set="field" t-value="getFieldComponent(fieldInfo.type)"/>\n                    <t t-if="field">\n                        <div>\n                            <select class="o_domain_leaf_operator_select o_input text-truncate pe-1" t-on-change="onOperatorChange">\n                                <t t-foreach="getOperators(field)" t-as="operator" t-key="operator.value">\n                                    <option t-att-value="operator_index" t-att-selected="operator.matches({ fieldInfo, operator: props.node.operator, value: props.node.operands[1] })" t-esc="operator.label"/>\n                                </t>\n                            </select>\n                        </div>\n                        <t t-if="!isValueHidden">\n                            <t t-component="field" t-key="fieldInfo.type" field="fieldInfo" operator="getOperatorInfo(props.node.operator)" value="props.node.operands[1]" update="(changes) =&gt; props.node.update(changes)"/>\n                        </t>\n                    </t>\n                </div>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorRootNode" owl="1">\n        <div class="o_domain_node o_domain_tree o_domain_selector" aria-atomic="true" t-attf-class="{{ props.className }} {{ props.readonly ? \'o_read_mode\' : \'o_edit_mode\'}}">\n            <t t-if="!hasNode">\n                <span>Match <strong>all records</strong></span>\n                <t t-if="!props.readonly">\n                    <button class="btn btn-sm btn-primary o_domain_add_first_node_button ms-1" t-on-click="() =&gt; this.insertNode(\'leaf\')">\n                        <i class="fa fa-plus"/> Add filter\n                    </button>\n                </t>\n            </t>\n            <t t-else="">\n                <t t-if="node.type === \'leaf\'">\n                    Match records with the following rule:\n                    <div class="o_domain_node_children_container">\n                        <DomainSelectorLeafNode t-props="{ ...props, node }"/>\n                    </div>\n                </t>\n                <t t-else="">\n                    <span>Match records with </span>\n                    <DomainSelectorBranchOperator node="node" readonly="props.readonly" showCaret="true"/>\n                    <span> of the following rules:</span>\n                    <div class="o_domain_node_children_container">\n                        <t t-foreach="node.operands" t-as="subNode" t-key="subNode.id">\n                            <t t-if="subNode.type === \'branch\'">\n                                <DomainSelectorBranchNode t-props="{ ...props, node: subNode }"/>\n                            </t>\n                            <t t-elif="subNode.type === \'leaf\'">\n                                <DomainSelectorLeafNode t-props="{ ...props, node: subNode }"/>\n                            </t>\n                        </t>\n                    </div>\n                </t>\n            </t>\n            <t t-if="props.isDebugMode and !props.readonly">\n                <label class="o_domain_debug_container">\n                    <span class="small"># Code editor</span>\n                    <textarea type="text" class="o_domain_debug_input" t-att-value="props.debugValue or props.value" t-on-change="onChange"/>\n                </label>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorBooleanField" owl="1">\n        <div class="o_ds_value_cell">\n            <select class="o_input" t-on-change="onChange">\n                <option value="1" t-att-selected="props.value">set (true)</option>\n                <option value="0" t-att-selected="!props.value">not set (false)</option>\n            </select>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorDateTimeField" owl="1">\n        <div class="o_ds_value_cell">\n            <t t-component="component" date="deserializedValue" onDateTimeChanged.bind="onChange"/>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorDefaultField" owl="1">\n        <div class="o_ds_value_cell">\n            <DomainSelectorFieldInput t-props="props"/>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorFieldInput" owl="1">\n        <input type="text" class="o_input o_domain_leaf_value_input" t-att-value="props.value" t-on-change="onChange"/>\n    </t>\n\n<t t-name="web.DomainSelectorFieldInputWithTags" owl="1">\n        <div class="o_ds_value_cell">\n            <div class="o_domain_leaf_value_input">\n                <t t-foreach="props.value" t-as="tag" t-key="tag_index">\n                    <span class="badge rounded-pill">\n                        <t t-esc="tag"/> <i class="o_domain_leaf_value_remove_tag_button fa fa-times" role="img" aria-label="Remove tag" title="Remove tag" t-on-click="() =&gt; this.removeTag(tag_index)"/>\n                    </span>\n                </t>\n            </div>\n            <div class="o_domain_leaf_value_tags">\n                <input type="text" class="o_input" placeholder="Add new value" t-ref="input"/>\n                <button class="btn btn-sm btn-primary fa fa-plus o_domain_leaf_value_add_tag_button" aria-label="Add tag" title="Add tag" t-on-click="onBtnClick"/>\n            </div>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorNumberField" owl="1">\n        <div class="o_ds_value_cell">\n            <DomainSelectorFieldInput t-props="props"/>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorRelationField" owl="1">\n        <div class="o_ds_value_cell">\n            <DomainSelectorFieldInput t-props="props"/>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorSelectionField" owl="1">\n        <div class="o_ds_value_cell">\n            <t t-if="props.operator.category === \'in\'">\n                <input type="text" class="o_input o_domain_leaf_value_input" t-att-value="formattedValue" t-on-change="onChangeMulti"/>\n            </t>\n            <t t-else="">\n                <select class="o_input o_domain_leaf_value_input" t-on-change="onChange">\n                    <t t-foreach="props.field.selection" t-as="option" t-key="option[0]">\n                        <option t-att-value="option[0]" t-att-selected="option[0] === props.value" t-esc="option[1]"/>\n                    </t>\n                </select>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.DomainSelectorTextField" owl="1">\n        <t t-if="props.operator.category === \'in\'">\n            <DomainSelectorFieldInputWithTags t-props="props"/>\n        </t>\n        <t t-else="">\n            <div class="o_ds_value_cell">\n                <DomainSelectorFieldInput t-props="props"/>\n            </div>\n        </t>\n    </t>\n\n<t t-name="web.DomainSelectorDialog" owl="1">\n        <Dialog title="dialogTitle">\n            <DomainSelector t-props="domainSelectorProps"/>\n            <t t-set-slot="footer">\n                <t t-if="props.readonly">\n                    <button class="btn btn-secondary" t-on-click="() =&gt; props.close()">Close</button>\n                </t>\n                <t t-else="">\n                    <button class="btn btn-primary" t-on-click="onSave">Save</button>\n                    <button class="btn btn-secondary" t-on-click="onDiscard">Discard</button>\n                </t>\n            </t>\n        </Dialog>\n    </t>\n\n<t t-name="web.Dropdown" owl="1">\n    <div class="o-dropdown dropdown" t-att-class="props.class" t-attf-class="         {{ directionCaretClass || \'\'}}         {{ state.open ? \'show\' : \'\'}}         {{ !showCaret ? \'o-dropdown--no-caret\' : \'\' }}       " t-ref="root">\n      <button t-if="props.toggler !== \'parent\'" class="dropdown-toggle" t-attf-class="           {{props.togglerClass || \'\'}}           {{parentDropdown ? \'dropdown-item\' : \'\'}}         " t-on-click.stop="onTogglerClick" t-on-mouseenter="onTogglerMouseEnter" t-att-title="props.title" t-att-data-hotkey="props.hotkey" t-att-data-tooltip="props.tooltip" t-att-tabindex="props.skipTogglerTabbing ? -1 : 0" t-att-aria-expanded="state.open ? \'true\' : \'false\'" t-ref="togglerRef">\n        <t t-slot="toggler"/>\n      </button>\n      <div t-if="state.open" class="o-dropdown--menu dropdown-menu d-block" t-att-class="props.menuClass" role="menu" t-ref="menuRef">\n        <t t-slot="default"/>\n      </div>\n    </div>\n  </t>\n\n<t t-name="web.DropdownItem" owl="1">\n    <t t-tag="props.href ? \'a\' : \'span\'" t-att-href="props.href" class="dropdown-item" t-att-class="props.class" role="menuitem" t-on-click.stop="onClick" t-att-title="props.title" t-att-data-hotkey="props.hotkey" t-att="dataAttributes" tabindex="0">\n      <t t-slot="default"/>\n    </t>\n  </t>\n\n<t t-name="web.RainbowMan" owl="1">\n        <div class="o_reward position-absolute top-0 bottom-0 start-0 end-0 w-100 h-100" t-att-class="{ o_reward_fading: state.isFading }" t-on-animationend="onAnimationEnd">\n            <svg class="o_reward_rainbow_man position-absolute top-0 bottom-0 start-0 end-0 m-auto overflow-visible" viewBox="0 0 400 400">\n                <defs>\n                    <radialGradient id="o_reward_gradient_bg" cx="200" cy="200" r="200" gradientUnits="userSpaceOnUse">\n                        <stop offset="0.3" stop-color="#edeff4"/>\n                        <stop offset="1" stop-color="#edeff4" stop-opacity="0"/>\n                    </radialGradient>\n                    <symbol id="o_reward_star">\n                        <path d="M33 15.9C26.3558 13.6951 21.1575 8.4597 19 1.8 19 1.2477 18.5523.8 18 .8 17.4477.8 17 1.2477 17 1.8 14.6431 8.6938 9.0262 13.9736 2 15.9 1.3649 15.9.85 16.4149.85 17.05.85 17.6851 1.3649 18.2 2 18.2 8.6215 20.3845 13.8155 25.5785 16 32.2 16 32.7523 16.4477 33.2 17 33.2 17.5523 33.2 18 32.7523 18 32.2 20.3569 25.3062 25.9738 20.0264 33 18.1 33.6351 18.1 34.15 17.5851 34.15 16.95 34.15 16.3149 33.6351 15.8 33 15.8" fill="#FFFFFF"/>\n                    </symbol>\n                    <symbol id="o_reward_thumb">\n                        <path d="M10 52C6 51 3 48 3 44 2 42 3 39 5 38 3 36 2 34 2 32 2 29 3 27 5 26 3 24 2 21 2 19 2 15 7 12 10 12L23 12C23 11 23 11 23 11L23 10C23 8 24 6 25 4 27 2 29 2 31 2 33 2 35 2 36 4 38 5 39 7 39 10L39 38C39 41 37 45 35 47 32 50 28 51 25 52L10 52 10 52Z" fill="#FBFBFC"/>\n                        <polygon fill="#ECF1FF" points="25 11 25 51 5 52 5 12"/>\n                        <path d="M31 0C28 0 26 1 24 3 22 5 21 7 21 10L10 10C8 10 6 11 4 12 2 14 1 16 1 19 1 21 1 24 2 26 1 27 1 29 1 32 1 34 1 36 2 38 1 40 0 42 1 45 1 50 5 53 10 54L25 54C29 54 33 52 36 49 39 46 41 42 41 38L41 10C41 4 36 0 31 0M31 4C34 4 37 6 37 10L37 38C37 41 35 44 33 46 31 48 28 49 25 50L10 50C7 49 5 47 5 44 4 41 6 38 9 37L9 37C6 37 5 35 5 32 5 28 6 26 9 26L9 26C6 26 5 22 5 19 5 16 8 14 11 14L23 14C24 14 25 12 25 11L25 10C25 7 28 4 31 4" fill="#A1ACBA"/>\n                    </symbol>\n                </defs>\n                <rect width="400" height="400" fill="url(#o_reward_gradient_bg)"/>\n                <g transform="translate(47 45) scale(0.9)" class="o_reward_rainbow">\n                    <path d="M270,170a100,100,0,0,0-200,0" class="o_reward_rainbow_line" stroke="#FF9E80" stroke-linecap="round" stroke-width="21" fill="none" stroke-dasharray="600 600" stroke-dashoffset="-600"/>\n                    <path d="M290,170a120,120,0,0,0-240,0" class="o_reward_rainbow_line" stroke="#FFE57F" stroke-linecap="round" stroke-width="21" fill="none" stroke-dasharray="600 600" stroke-dashoffset="-600"/>\n                    <path d="M310,170a140,140,0,0,0-280,0" class="o_reward_rainbow_line" stroke="#80D8FF" stroke-linecap="round" stroke-width="21" fill="none" stroke-dasharray="600 600" stroke-dashoffset="-600"/>\n                    <path d="M330,170a160,160,0,0,0-320,0" class="o_reward_rainbow_line" stroke="#C794BA" stroke-linecap="round" stroke-width="21" fill="none" stroke-dasharray="600 600" stroke-dashoffset="-600"/>\n                </g>\n                <g transform="translate(80 125)">\n                    <use href="#o_reward_star" transform-origin="center" class="o_reward_box o_reward_star_01"/>\n                </g>\n                <g transform="translate(140 75)">\n                    <use href="#o_reward_star" transform-origin="center" class="o_reward_box o_reward_star_02"/>\n                </g>\n                <g transform="translate(230 90)">\n                    <use href="#o_reward_star" transform-origin="center" class="o_reward_box o_reward_star_03"/>\n                </g>\n                <g transform="translate(275 120)">\n                    <use href="#o_reward_star" transform-origin="center" class="o_reward_box o_reward_star_04"/>\n                </g>\n                <g class="o_reward_face_group o_reward_box" transform-origin="center top">\n                    <g class="o_reward_shadow_container o_reward_box">\n                        <ellipse class="o_reward_shadow o_reward_box" cx="200" cy="105%" rx="100" ry="6" fill="#000" opacity="0.25" transform-origin="center"/>\n                    </g>\n                    <g class="o_reward_face_wrap o_reward_box" transform-origin="center">\n                        <image class="o_reward_face" x="132" y="125" width="136" height="136" t-attf-href="{{props.imgUrl}}"/>\n                    </g>\n                    <g transform="translate(258 174)">\n                        <use href="#o_reward_thumb" class="o_reward_box o_reward_thumbup" transform-origin="center"/>\n                    </g>\n                </g>\n            </svg>\n            <div class="o_reward_rainbow_man o_reward_msg_container position-absolute top-0 bottom-0 start-0 end-0 m-auto">\n                <div class="o_reward_face_group h-100 w-75 mx-auto">\n                    <svg viewBox="0 0 42 60" preserveAspectRatio="xMinYMax meet" width="37" height="65%" class="overflow-visible position-relative ms-5">\n                        <g class="o_reward_box">\n                            <use href="#o_reward_thumb" x="-60%" y="0" transform="rotate(-90) scale(1 -1)" transform-origin="center"/>\n                        </g>\n                    </svg>\n                    <div class="o_reward_msg mx-4">\n                        <div class="o_reward_msg_card">\n                            <div class="o_reward_msg_content text-muted px-3 py-4 bg-white d-inline-block border border-light border-top-0">\n                                <t t-if="!props.Component">\n                                    <t t-out="props.message"/>\n                                </t>\n                                <t t-else="" t-component="props.Component" t-props="props.props"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </t>\n<t t-name="web.WarningDialog" owl="1">\n      <Dialog title="title">\n        <div role="alert" class="o_dialog_warning">\n          <p t-esc="message" style="white-space: pre-wrap;"/>\n        </div>\n      </Dialog>\n    </t>\n\n    <t t-name="web.RedirectWarningDialog" owl="1">\n      <Dialog title="title">\n        <div role="alert">\n          <p t-esc="message" style="white-space: pre-wrap;"/>\n        </div>\n        <t t-set-slot="footer">\n          <button class="btn btn-primary" t-on-click="onClick" t-esc="buttonText"/>\n          <button class="btn btn-secondary" t-on-click="props.close">Cancel</button>\n        </t>\n      </Dialog>\n    </t>\n\n    <t t-name="web.Error504Dialog" owl="1">\n      <Dialog title="this.constructor.title">\n        <div role="alert">\n            <p style="white-space: pre-wrap;">\n            The operation was interrupted. This usually means that the current operation is taking too much time.\n            </p>\n        </div>\n      </Dialog>\n    </t>\n\n    <t t-name="web.SessionExpiredDialog" owl="1">\n      <Dialog title="this.constructor.title">\n        <div role="alert">\n          <p style="white-space: pre-wrap;">\n            Your Odoo session expired. The current page is about to be refreshed.\n          </p>\n        </div>\n        <t t-set-slot="footer">\n          <button class="btn btn-primary" t-on-click="onClick">Ok</button>\n        </t>\n      </Dialog>\n    </t>\n\n    <t t-name="web.ErrorDialog" owl="1">\n      <Dialog contentClass="\'o_dialog_error\'" title="this.constructor.title">\n        <div class="alert alert-warning clearfix" role="alert">\n            <div class="float-end ml8 btn-group-vertical">\n                <button class="btn btn-primary" t-on-click="onClickClipboard">\n                    <i class="fa fa-clipboard mr8"/><t>Copy the full error to clipboard</t>\n                </button>\n            </div>\n            <p><b>An error occurred</b></p>\n            <p>Please use the copy button to report the error to your support service.</p>\n        </div>\n\n\n        <button class="btn btn-link" t-on-click="() =&gt; { state.showTraceback = !state.showTraceback }">See details</button>\n        <div t-if="state.showTraceback and (props.name or props.message)" class="alert alert-info bg-100 clearfix" role="alert">\n          <code t-if="props.name" t-esc="props.name"/>\n          <p t-if="props.message" t-esc="props.message"/>\n        </div>\n        <div t-if="state.showTraceback" class="alert alert-danger o_error_detail" role="alert">\n            <pre t-esc="traceback or props.traceback"/>\n        </div>\n      </Dialog>\n    </t>\n\n<t t-name="web.FileInput" owl="1">\n        <span class="o_file_input" t-att-class="{ \'d-none\': props.hidden }" aria-atomic="true">\n            <span t-if="!props.hidden" class="o_file_input_trigger" t-on-click.prevent="onTriggerClicked">\n                <t t-slot="default">\n                    <button class="btn btn-primary">Choose File</button>\n                </t>\n            </span>\n            <input type="file" name="ufile" class="o_input_file d-none" t-att-multiple="props.multiUpload" t-att-accept="props.acceptedFileExtensions" t-ref="file-input" t-on-change="onFileInputChange"/>\n        </span>\n    </t>\n\n<t t-name="web.FileUploadProgressBar" owl="1">\n        <div class="position-absolute top-0 start-0 h-100 w-100">\n            <div class="o-file-upload-progress-bar-value h-100" t-ref="bar" t-att-style="\'width: \' + (this.props.fileUpload.progress * 100) + \'%;\'"/>\n            <span class="position-absolute top-0 end-0 cursor-pointer o-file-upload-progress-bar-abort fa fa-times-circle" title="Cancel Upload" aria-label="Cancel Upload" t-on-click.stop.prevent="onCancel"/>\n        </div>\n    </t>\n<t t-name="web.FileUploadProgressContainer" owl="1">\n        <t t-foreach="Object.values(props.fileUploads)" t-as="fileUpload" t-key="fileUpload.id">\n            <t t-if="!props.shouldDisplay || props.shouldDisplay(fileUpload)" t-component="props.Component" fileUpload="fileUpload" selector="props.selector"/>\n        </t>\n    </t>\n<t t-name="web.FileUploadProgressKanbanRecord" owl="1">\n        <t t-set="progressTexts" t-value="getProgressTexts()"/>\n        <div class="o_kanban_record d-flex flex-grow-1 flex-md-shrink-1 flex-shrink-0">\n            <div class="o_kanban_progress_card o_kanban_attachment position-relative p-0 cursor-pointer">\n                <div class="o_kanban_image">\n                    <div class="o_kanban_image_wrapper">\n                        <div class="o_image o_image_thumbnail" t-att-data-mimetype="props.fileUpload.type"/>\n                    </div>\n                </div>\n                <div class="o_kanban_details">\n                    <div class="o_kanban_details_wrapper">\n                        <div t-att-title="props.fileUpload.title" t-att-aria-label="props.fileUpload.title" class="o_kanban_record_title">\n                            <span t-esc="props.fileUpload.title"/>\n                        </div>\n                        <div class="o_kanban_record_body"/>\n                        <div class="o_kanban_record_bottom">\n                            <div class="oe_kanban_bottom_left">\n                                <div class="o_file_upload_progress_text_left" t-esc="progressTexts.left"/>\n                            </div>\n                            <div class="oe_kanban_bottom_right">\n                                <span class="o_file_upload_progress_text_right" t-esc="progressTexts.right"/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <FileUploadProgressBar fileUpload="props.fileUpload"/>\n            </div>\n        </div>\n    </t>\n\n    <t t-name="web.FileUploadProgressDataRow" owl="1">\n        <t t-set="progressTexts" t-value="getProgressTexts()"/>\n        <div class="o_data_row o_list_progress_card position-relative align-middle p-0">\n            <span class="o_file_upload_upload_title" t-esc="props.fileUpload.title"/>\n            <span class="o_file_upload_progress_text_left" t-esc="progressTexts.left"/>\n            <span class="o_file_upload_progress_text_right" t-esc="progressTexts.right"/>\n            <FileUploadProgressBar fileUpload="props.fileUpload"/>\n        </div>\n    </t>\n\n<t t-name="web._ModelFieldSelector" owl="1">\n        <div class="o_field_selector" aria-atomic="true" t-att-class="props.readonly ? \'o_read_mode\' : \'o_edit_mode o_input\'" t-on-click="onFieldSelectorClick">\n            <div class="o_field_selector_value" tabindex="0">\n                <t t-foreach="chain" t-as="node" t-key="node_index">\n                    <t t-if="node.field">\n                        <t t-if="!node_first">\n                            <i class="fa fa-chevron-right" role="img" aria-label="Followed by" title="Followed-by"/>\n                        </t>\n                        <span class="o_field_selector_chain_part">\n                            <t t-esc="node.field.string"/>\n                        </span>\n                    </t>\n                </t>\n            </div>\n            <t t-if="!fieldNameChain.length">\n                <div class="o_field_selector_controls" tabindex="0">\n                    <i role="alert" class="fa fa-exclamation-triangle o_field_selector_warning" title="Invalid field chain" aria-label="Invalid field chain"/>\n                </div>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.ModelFieldSelectorPopover" owl="1">\n        <div class="o_field_selector_popover" t-on-keydown="onInputKeydown" tabindex="0">\n            <div class="o_field_selector_popover_header text-center">\n                <t t-if="chain.length &gt; 1">\n                    <i class="fa fa-arrow-left o_field_selector_popover_option o_field_selector_prev_page" title="Previous" role="img" aria-label="Previous" t-on-click="onPreviousBtnClick"/>\n                </t>\n                <t t-if="isDefaultValueVisible">\n                    <div class="o_field_selector_title">Default value</div>\n                </t>\n                <t t-else="">\n                    <div class="o_field_selector_title" t-out="currentFieldName"/>\n                </t>\n                <i class="fa fa-times o_field_selector_popover_option o_field_selector_close" title="Close" role="img" aria-label="Close" t-on-click="props.close"/>\n                <t t-if="props.showSearchInput &amp;&amp; !isDefaultValueVisible">\n                    <div class="o_field_selector_search mt-2">\n                        <input type="text" placeholder="Search..." class="o_input" t-att-value="searchValue" t-on-input="onSearch" t-ref="autofocus"/>\n                    </div>\n                </t>\n                <t t-if="isDefaultValueVisible">\n                    <div class="o_field_selector_default_value_input mt-2">\n                        <input type="text" placeholder="Type a default text or press ENTER" class="o_input" t-att-value="defaultValue" t-on-input="onDefaultValue" t-ref="autofocusDefaultValue"/>\n                    </div>\n                </t>\n            </div>\n            <div class="o_field_selector_popover_body">\n                <ul class="o_field_selector_page" t-if="!isDefaultValueVisible">\n                    <t t-foreach="fieldKeys" t-as="fieldKey" t-key="fieldKey">\n                        <t t-set="field" t-value="fields[fieldKey]"/>\n                        <t t-if="field.searchable and props.filter(field)">\n                            <li t-on-click="() =&gt; this.onFieldSelected({ ...field, name: fieldKey })" t-att-data-name="fieldKey" t-attf-class="o_field_selector_item #{fieldKey === currentActiveField and \' active\' or \'\'}">\n                                <t t-out="field.string"/>\n                                <div t-if="props.isDebugMode" class="text-muted o_field_selector_item_title"><t t-out="fieldKey"/> (<t t-out="field.type"/>)</div>\n                                <t t-if="field.relation and props.followRelations">\n                                    <i class="fa fa-chevron-right o_field_selector_relation_icon" role="img" aria-label="Relation to follow" title="Relation to follow"/>\n                                </t>\n                            </li>\n                        </t>\n                    </t>\n                </ul>\n                <ul class="o_field_selector_page" t-if="isDefaultValueVisible">\n                    <li class="o_field_selector_item" t-on-click="() =&gt; this.selectDefaultValue(defaultValue !== \'\')">\n                        <t t-if="defaultValue === \'\'">\n                            <div class="text-muted o_field_selector_item_title">Default text is used when no values are set</div>\n                        </t>\n                        <t t-else="">\n                            <div class="text-muted o_field_selector_item_title">As a default text when no value are set</div>\n                        </t>\n                    </li>\n                </ul>\n            </div>\n            <t t-if="props.isDebugMode">\n                <div class="o_field_selector_popover_footer">\n                    <input type="text" class="o_input o_field_selector_debug" t-att-value="fullFieldName" t-on-change="onFieldNameChange"/>\n                </div>\n            </t>\n        </div>\n    </t>\n\n<t t-name="web.ModelSelector" owl="1">\n        <div class="o_sp_input_dropdown" t-ref="autocomplete_container">\n            <input t-if="env.isSmall" type="text" class="o_input" readonly="" t-att-id="props.id" t-att-value="props.value"/>\n            <AutoComplete t-else="" id="props.id" value="props.value || \'\'" sources="sources" placeholder="placeholder" autoSelect="props.autoSelect" onSelect.bind="onSelect"/>\n            <a role="button" class="o_dropdown_button" draggable="false"/>\n        </div>\n    </t>\n<t t-name="web.Notebook" owl="1">\n        <div t-attf-class="o_notebook d-flex w-100 {{ props.orientation === \'horizontal\' ? \'horizontal flex-column\' : \'vertical flex-row\' }} {{ props.className }}" t-if="state.currentPage">\n            <div class="o_notebook_headers" t-att-class="{ \'m-0\': props.orientation === \'vertical\' }">\n                <ul t-attf-class="nav nav-tabs {{ props.orientation === \'horizontal\' ? \'flex-row flex-nowrap\' : \'flex-column p-0\' }}">\n                    <li t-foreach="navItems" t-as="navItem" t-key="navItem[0]" class="nav-item flex-nowrap cursor-pointer" t-if="navItem[1].isVisible">\n                        <a class="nav-link" t-attf-class="{{ navItem[0] === state.currentPage ? \'active\' : \'\' }} {{ props.orientation === \'vertical\' ? \'p-3 rounded-0\' : \'\' }} {{ navItem[1].className }}" t-att-name="navItem[1].name" t-on-click.prevent="() =&gt; this.activatePage(navItem[0])" href="#" role="tab" tabindex="0" t-esc="navItem[1].title"/>\n                    </li>\n                </ul>\n            </div>\n            <div class="o_notebook_content tab-content">\n                <div class="tab-pane active" t-ref="activePane">\n                    <t t-if="page" t-component="page.Component" t-key="state.currentPage" t-props="page.props"/>\n                    <t t-else="" t-slot="{{ state.currentPage }}"/>\n                </div>\n            </div>\n        </div>\n    </t>\n\n<t t-name="web.NotificationWowl" owl="1">\n        <div t-attf-class="o_notification {{props.className}} border border-{{props.type}} bg-white mb-2 position-relative" role="alert" aria-live="assertive" aria-atomic="true">\n            <strong t-if="props.title" t-attf-class="o_notification_title d-block text-{{props.type}} py-2 ps-3 pe-5" t-out="props.title"/>\n            <button type="button" class="o_notification_close btn" aria-label="Close" t-on-click="props.close">\n                <i class="oi oi-close"/>\n            </button>\n            <div t-attf-class="o_notification_body ps-3 pe-5 py-2">\n                <div t-if="props.message" class="me-auto o_notification_content" t-out="props.message"/>\n                <div t-if="props.buttons.length" class="mt-2 o_notification_buttons">\n                    <button t-foreach="props.buttons" t-as="button" type="button" t-key="button_index" t-attf-class="btn {{button.primary ? \'btn-primary\' : \'btn-link\'}}" t-on-click="button.onClick">\n                    <t t-if="button.icon">\n                        <i t-if="button.icon.indexOf(\'fa-\') === 0" role="img" t-att-aria-label="button.name" t-att-title="button.name" t-attf-class="fa fa-fw o_button_icon {{button.icon}}"/>\n                        <img t-else="" t-att-src="button.icon" t-att-alt="button.name"/>\n                    </t>\n                    <span t-esc="button.name"/>\n                </button>\n                </div>\n            </div>\n        </div>\n    </t>\n\n<t t-name="web.Pager" owl="1">\n        <nav class="o_pager align-items-center d-flex gap-2" aria-label="Pager">\n            <span class="o_pager_counter" t-on-click.stop="">\n                <t t-if="state.isEditing">\n                    <input type="text" class="o_pager_value o_input d-inline-block w-auto text-end mb-n1" size="7" t-ref="autofocus" t-att-value="value" t-on-blur="onInputBlur" t-on-change="onInputChange" t-on-keydown.stop="onInputKeydown"/>\n                </t>\n                <t t-else="">\n                    <span class="o_pager_value d-inline-block border-bottom border-transparent mb-n1" t-esc="value" t-on-click="onValueClick"/>\n                </t>\n                <span> / </span>\n                <t t-if="props.updateTotal">\n                    <span class="o_pager_limit o_pager_limit_fetch" t-att-class="{ \'disabled\': state.isDisabled }" t-on-click.stop="updateTotal"><t t-esc="props.total"/>+</span>\n                </t>\n                <t t-else="">\n                    <span class="o_pager_limit" t-esc="props.total"/>\n                </t>\n            </span>\n            <span class="btn-group" aria-atomic="true">\n\n                <button type="button" class="fa fa-chevron-left btn btn-secondary o_pager_previous px-2 rounded-start" aria-label="Previous" data-tooltip="Previous" tabindex="-1" t-att-data-hotkey="props.withAccessKey ? \'p\' : false" t-att-disabled="state.isDisabled or isSinglePage" t-on-click.stop="() =&gt; this.navigate(-1)"/>\n                <button type="button" class="fa fa-chevron-right btn btn-secondary o_pager_next px-2 rounded-end" aria-label="Next" data-tooltip="Next" tabindex="-1" t-att-data-hotkey="props.withAccessKey ? \'n\' : false" t-att-disabled="state.isDisabled or isSinglePage" t-on-click.stop="() =&gt; this.navigate(1)"/>\n            </span>\n        </nav>\n    </t>\n\n<t t-name="web.PopoverWowl" owl="1">\n        <div role="tooltip" class="o_popover popover mw-100 shadow-sm" t-att-class="props.popoverClass" t-ref="popper" t-att-popover-id="props.id">\n            <div class="popover-arrow"/>\n            <t t-slot="default"/>\n        </div>\n    </t>\n\n<t t-name="web.sign_svg_text" name="SVG Signature Text" owl="1">\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" t-att-width="width" t-att-height="height">\n            <defs>\n                <style type="text/css">\n                    @font-face {\n                        font-family: "font";\n                        src: url(data:font/ttf;base64,<t t-esc="font"/>) format("woff");\n                        font-weight: normal;\n                        font-style: normal;\n                    }\n                </style>\n            </defs>\n\n            <text t-esc="text" x="50%" t-att-y="height * 4 / 5" t-att-font-size="height * 4 / 5" t-att-textLength="width * 4 / 5 * (type === \'signature\' ? Math.min(1, text.length / 7) : 1)" t-att-lengthAdjust="\'spacing\' + (type === \'signature\' ? \'AndGlyphs\' : \'\')" t-attf-style="font-family:\'font\'; stroke: none; fill: {{color}};" text-anchor="middle"/>\n        </svg>\n    </t>\n\n\n    <t t-name="web.NameAndSignature" owl="1">\n        <div class="o_web_sign_name_and_signature">\n            <div t-if="!props.noInputName" class="o_web_sign_name_group">\n                <label class="col-form-label" t-att-for="\'o_web_sign_name_input_\' + htmlId">Full Name</label>\n                <input type="text" name="signer" t-att-id="\'o_web_sign_name_input_\' + htmlId" class="o_web_sign_name_input form-control" t-on-input="onInputSignName" t-att-value="props.signature.name" t-ref="signNameInput" placeholder="Type your name to sign" required=""/>\n            </div>\n\n\n            <div t-if="state.showSignatureArea" class="o_web_sign_signature_group bg-white card mt-3" style="overflow: hidden;">\n                <div class="card-header">\n                    <div class="row g-0">\n                        <div t-if="!props.noInputName or defaultName" class="col-auto">\n                            <a role="button" href="#" t-on-click.prevent="() =&gt; this.setMode(\'auto\')" t-attf-class="o_web_sign_auto_button me-2 btn btn-light {{ state.signMode === \'auto\' ? \'active\': \'\' }}">\n                                Auto\n                            </a>\n                        </div>\n                        <div class="col-auto">\n                            <a role="button" href="#" t-on-click.prevent="() =&gt; this.setMode(\'draw\')" t-attf-class="o_web_sign_draw_button me-2 btn btn-light {{ state.signMode === \'draw\' ? \'active\': \'\' }}">\n                                Draw\n                            </a>\n                        </div>\n                        <div class="col-auto">\n                            <a role="button" href="#" t-on-click.prevent="() =&gt; this.setMode(\'load\')" t-attf-class="o_web_sign_load_button me-2 btn btn-light {{ state.signMode === \'load\' ? \'active\': \'\' }}">\n                                Load\n                            </a>\n                        </div>\n                        <div t-if="state.signMode === \'draw\'" t-attf-class="o_web_sign_draw_clear col-auto ms-auto">\n                            <a role="button" href="#" t-on-click.prevent="onClickSignDrawClear" class="btn btn-link">\n                                Clear\n                            </a>\n                        </div>\n\n                        <Dropdown t-if="state.signMode === \'auto\'" class="\'o_web_sign_auto_select_style col-auto ms-auto\'" togglerClass="\'btn btn-link\'">\n                            <t t-set-slot="toggler">\n                                    Style\n                            </t>\n                            <t t-foreach="fonts" t-as="font" t-key="font_index">\n                                <DropdownItem onSelected="() =&gt; this.onSelectFont(font_index)">\n                                    <img class="img-fluid" t-att-src="getSVGTextFont(font)"/>\n                                </DropdownItem>\n                            </t>\n                        </Dropdown>\n\n                        <div t-if="state.signMode === \'load\'" class="o_web_sign_load_file col-auto">\n                            <input t-ref="signInputLoad" type="file" role="button" name="files[]" class="btn btn-link py-0" t-on-change="onChangeSignLoadInput"/>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="o_signature_stroke position-absolute"/>\n\n                <div t-if="state.showSignatureArea" t-ref="signature" t-att-style="signatureStyle" class="o_web_sign_signature p-0 bg-transparent position-relative"/>\n\n                <div t-if="loadIsInvalid" t-attf-class="o_web_sign_load_invalid card-footer d-none">\n                    <div class="alert alert-danger mb-0" role="alert">\n                        This file is invalid. Please select an image.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </t>\n<t t-name="web.SignatureDialog" owl="1">\n      <Dialog title="title">\n         <div>\n            <NameAndSignature t-props="nameAndSignatureProps"/>\n            <div class="mt16 small">By clicking Adopt &amp; Sign, I agree that the chosen signature/initials will be a valid electronic representation of my hand-written signature/initials for all purposes when it is used on documents, including legally binding contracts.</div>\n        </div>\n        <t t-set-slot="footer">\n          <button class="btn btn-primary" t-att-disabled="signature.isSignatureEmpty" t-on-click="onClickConfirm">Adopt &amp; Sign</button>\n          <button class="btn btn-secondary" t-on-click="props.close">Cancel</button>\n        </t>\n      </Dialog>\n    </t>\n\n<t t-name="web.Tooltip" owl="1">\n        <div class="o-tooltip px-2 py-1">\n            <t t-if="props.template" t-call="{{props.template}}" t-call-context="{ env, ...props.info }"/>\n            <small t-else="" t-esc="props.tooltip"/>\n        </div>\n    </t>\n\n\n</templates>')}));